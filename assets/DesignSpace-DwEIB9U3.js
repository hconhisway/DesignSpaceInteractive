import{d as cn,r as Ft,b as hn,w as Un,o as at,c as ct,a as ot,_ as Ae,t as pe,F as Yn,e as Zn,n as Wn,f as Kn,g as Fe,h as Gn,i as Be}from"./index-0yECNEMi.js";function Xe(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}var Qn={value:()=>{}};function Me(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Qt(n)}function Qt(t){this._=t}function Jn(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Qt.prototype=Me.prototype={constructor:Qt,on:function(t,e){var n=this._,r=Jn(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=jn(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Pe(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Pe(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Qt(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function jn(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Pe(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Qn,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ye="http://www.w3.org/1999/xhtml";const qe={svg:"http://www.w3.org/2000/svg",xhtml:ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ce(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),qe.hasOwnProperty(e)?{space:qe[e],local:t}:t}function tr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ye&&e.documentElement.namespaceURI===ye?e.createElement(t):e.createElementNS(n,t)}}function er(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fn(t){var e=ce(t);return(e.local?er:tr)(e)}function nr(){}function Re(t){return t==null?nr:function(){return this.querySelector(t)}}function rr(t){typeof t!="function"&&(t=Re(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),u,l,h=0;h<o;++h)(u=s[h])&&(l=t.call(u,u.__data__,h,s))&&("__data__"in u&&(l.__data__=u.__data__),a[h]=l);return new lt(r,this._parents)}function ir(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function sr(){return[]}function dn(t){return t==null?sr:function(){return this.querySelectorAll(t)}}function or(t){return function(){return ir(t.apply(this,arguments))}}function ar(t){typeof t=="function"?t=or(t):t=dn(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(t.call(u,u.__data__,l,o)),i.push(u));return new lt(r,i)}function pn(t){return function(){return this.matches(t)}}function gn(t){return function(e){return e.matches(t)}}var lr=Array.prototype.find;function ur(t){return function(){return lr.call(this.children,t)}}function cr(){return this.firstElementChild}function hr(t){return this.select(t==null?cr:ur(typeof t=="function"?t:gn(t)))}var fr=Array.prototype.filter;function dr(){return Array.from(this.children)}function pr(t){return function(){return fr.call(this.children,t)}}function gr(t){return this.selectAll(t==null?dr:pr(typeof t=="function"?t:gn(t)))}function mr(t){typeof t!="function"&&(t=pn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&t.call(u,u.__data__,l,s)&&a.push(u);return new lt(r,this._parents)}function mn(t){return new Array(t.length)}function _r(){return new lt(this._enter||this._groups.map(mn),this._parents)}function ne(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ne.prototype={constructor:ne,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function yr(t){return function(){return t}}function vr(t,e,n,r,i,s){for(var o=0,a,u=e.length,l=s.length;o<l;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new ne(t,s[o]);for(;o<u;++o)(a=e[o])&&(i[o]=a)}function xr(t,e,n,r,i,s,o){var a,u,l=new Map,h=e.length,_=s.length,v=new Array(h),k;for(a=0;a<h;++a)(u=e[a])&&(v[a]=k=o.call(u,u.__data__,a,e)+"",l.has(k)?i[a]=u:l.set(k,u));for(a=0;a<_;++a)k=o.call(t,s[a],a,s)+"",(u=l.get(k))?(r[a]=u,u.__data__=s[a],l.delete(k)):n[a]=new ne(t,s[a]);for(a=0;a<h;++a)(u=e[a])&&l.get(v[a])===u&&(i[a]=u)}function wr(t){return t.__data__}function Cr(t,e){if(!arguments.length)return Array.from(this,wr);var n=e?xr:vr,r=this._parents,i=this._groups;typeof t!="function"&&(t=yr(t));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var h=r[l],_=i[l],v=_.length,k=br(t.call(h,h&&h.__data__,l,r)),I=k.length,H=a[l]=new Array(I),X=o[l]=new Array(I),R=u[l]=new Array(v);n(h,_,H,X,R,k,e);for(var Z=0,G=0,et,J;Z<I;++Z)if(et=H[Z]){for(Z>=G&&(G=Z+1);!(J=X[G])&&++G<I;);et._next=J||null}}return o=new lt(o,r),o._enter=a,o._exit=u,o}function br(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function kr(){return new lt(this._exit||this._groups.map(mn),this._parents)}function Er(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Sr(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],h=r[u],_=l.length,v=a[u]=new Array(_),k,I=0;I<_;++I)(k=l[I]||h[I])&&(v[I]=k);for(;u<i;++u)a[u]=n[u];return new lt(a,this._parents)}function $r(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Ar(t){t||(t=Mr);function e(_,v){return _&&v?t(_.__data__,v.__data__):!_-!v}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,h=0;h<a;++h)(l=o[h])&&(u[h]=l);u.sort(e)}return new lt(i,this._parents).order()}function Mr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Rr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function zr(){return Array.from(this)}function Nr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Tr(){let t=0;for(const e of this)++t;return t}function Dr(){return!this.node()}function Ir(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function Vr(t){return function(){this.removeAttribute(t)}}function Or(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hr(t,e){return function(){this.setAttribute(t,e)}}function Lr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Fr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Br(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Xr(t,e){var n=ce(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Or:Vr:typeof e=="function"?n.local?Br:Fr:n.local?Lr:Hr)(n,e))}function _n(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Pr(t){return function(){this.style.removeProperty(t)}}function qr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ur(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Yr(t,e,n){return arguments.length>1?this.each((e==null?Pr:typeof e=="function"?Ur:qr)(t,e,n??"")):Nt(this.node(),t)}function Nt(t,e){return t.style.getPropertyValue(e)||_n(t).getComputedStyle(t,null).getPropertyValue(e)}function Zr(t){return function(){delete this[t]}}function Wr(t,e){return function(){this[t]=e}}function Kr(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Gr(t,e){return arguments.length>1?this.each((e==null?Zr:typeof e=="function"?Kr:Wr)(t,e)):this.node()[t]}function yn(t){return t.trim().split(/^|\s+/)}function ze(t){return t.classList||new vn(t)}function vn(t){this._node=t,this._names=yn(t.getAttribute("class")||"")}vn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function xn(t,e){for(var n=ze(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function wn(t,e){for(var n=ze(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Qr(t){return function(){xn(this,t)}}function Jr(t){return function(){wn(this,t)}}function jr(t,e){return function(){(e.apply(this,arguments)?xn:wn)(this,t)}}function ti(t,e){var n=yn(t+"");if(arguments.length<2){for(var r=ze(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?jr:e?Qr:Jr)(n,e))}function ei(){this.textContent=""}function ni(t){return function(){this.textContent=t}}function ri(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ii(t){return arguments.length?this.each(t==null?ei:(typeof t=="function"?ri:ni)(t)):this.node().textContent}function si(){this.innerHTML=""}function oi(t){return function(){this.innerHTML=t}}function ai(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function li(t){return arguments.length?this.each(t==null?si:(typeof t=="function"?ai:oi)(t)):this.node().innerHTML}function ui(){this.nextSibling&&this.parentNode.appendChild(this)}function ci(){return this.each(ui)}function hi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fi(){return this.each(hi)}function di(t){var e=typeof t=="function"?t:fn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function pi(){return null}function gi(t,e){var n=typeof t=="function"?t:fn(t),r=e==null?pi:typeof e=="function"?e:Re(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function mi(){var t=this.parentNode;t&&t.removeChild(this)}function _i(){return this.each(mi)}function yi(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vi(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xi(t){return this.select(t?vi:yi)}function wi(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ci(t){return function(e){t.call(this,e,this.__data__)}}function bi(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ki(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Ei(t,e,n){return function(){var r=this.__on,i,s=Ci(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Si(t,e,n){var r=bi(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,h;u<l;++u)for(i=0,h=a[u];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(a=e?Ei:ki,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function Cn(t,e,n){var r=_n(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $i(t,e){return function(){return Cn(this,t,e)}}function Ai(t,e){return function(){return Cn(this,t,e.apply(this,arguments))}}function Mi(t,e){return this.each((typeof e=="function"?Ai:$i)(t,e))}function*Ri(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var bn=[null];function lt(t,e){this._groups=t,this._parents=e}function Ut(){return new lt([[document.documentElement]],bn)}function zi(){return this}lt.prototype=Ut.prototype={constructor:lt,select:rr,selectAll:ar,selectChild:hr,selectChildren:gr,filter:mr,data:Cr,enter:_r,exit:kr,join:Er,merge:Sr,selection:zi,order:$r,sort:Ar,call:Rr,nodes:zr,node:Nr,size:Tr,empty:Dr,each:Ir,attr:Xr,style:Yr,property:Gr,classed:ti,text:ii,html:li,raise:ci,lower:fi,append:di,insert:gi,remove:_i,clone:xi,datum:wi,on:Si,dispatch:Mi,[Symbol.iterator]:Ri};function rt(t){return typeof t=="string"?new lt([[document.querySelector(t)]],[document.documentElement]):new lt([[t]],bn)}function Ni(t){let e;for(;e=t.sourceEvent;)t=e;return t}function xt(t,e){if(t=Ni(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const ve={capture:!0,passive:!1};function xe(t){t.preventDefault(),t.stopImmediatePropagation()}function Ti(t){var e=t.document.documentElement,n=rt(t).on("dragstart.drag",xe,ve);"onselectstart"in e?n.on("selectstart.drag",xe,ve):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Di(t,e){var n=t.document.documentElement,r=rt(t).on("dragstart.drag",null);e&&(r.on("click.drag",xe,ve),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ne(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yt(){}var Bt=.7,re=1/Bt,zt="\\s*([+-]?\\d+)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ii=/^#([0-9a-f]{3,8})$/,Vi=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),Oi=new RegExp(`^rgb\\(${mt},${mt},${mt}\\)$`),Hi=new RegExp(`^rgba\\(${zt},${zt},${zt},${Xt}\\)$`),Li=new RegExp(`^rgba\\(${mt},${mt},${mt},${Xt}\\)$`),Fi=new RegExp(`^hsl\\(${Xt},${mt},${mt}\\)$`),Bi=new RegExp(`^hsla\\(${Xt},${mt},${mt},${Xt}\\)$`),Ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ne(Yt,Pt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ye,formatHex:Ye,formatHex8:Xi,formatHsl:Pi,formatRgb:Ze,toString:Ze});function Ye(){return this.rgb().formatHex()}function Xi(){return this.rgb().formatHex8()}function Pi(){return En(this).formatHsl()}function Ze(){return this.rgb().formatRgb()}function Pt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ii.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?We(e):n===3?new st(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Vi.exec(t))?new st(e[1],e[2],e[3],1):(e=Oi.exec(t))?new st(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hi.exec(t))?Zt(e[1],e[2],e[3],e[4]):(e=Li.exec(t))?Zt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fi.exec(t))?Qe(e[1],e[2]/100,e[3]/100,1):(e=Bi.exec(t))?Qe(e[1],e[2]/100,e[3]/100,e[4]):Ue.hasOwnProperty(t)?We(Ue[t]):t==="transparent"?new st(NaN,NaN,NaN,0):null}function We(t){return new st(t>>16&255,t>>8&255,t&255,1)}function Zt(t,e,n,r){return r<=0&&(t=e=n=NaN),new st(t,e,n,r)}function qi(t){return t instanceof Yt||(t=Pt(t)),t?(t=t.rgb(),new st(t.r,t.g,t.b,t.opacity)):new st}function we(t,e,n,r){return arguments.length===1?qi(t):new st(t,e,n,r??1)}function st(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ne(st,we,kn(Yt,{brighter(t){return t=t==null?re:Math.pow(re,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bt:Math.pow(Bt,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new st($t(this.r),$t(this.g),$t(this.b),ie(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ke,formatHex:Ke,formatHex8:Ui,formatRgb:Ge,toString:Ge}));function Ke(){return`#${St(this.r)}${St(this.g)}${St(this.b)}`}function Ui(){return`#${St(this.r)}${St(this.g)}${St(this.b)}${St((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ge(){const t=ie(this.opacity);return`${t===1?"rgb(":"rgba("}${$t(this.r)}, ${$t(this.g)}, ${$t(this.b)}${t===1?")":`, ${t})`}`}function ie(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function St(t){return t=$t(t),(t<16?"0":"")+t.toString(16)}function Qe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ht(t,e,n,r)}function En(t){if(t instanceof ht)return new ht(t.h,t.s,t.l,t.opacity);if(t instanceof Yt||(t=Pt(t)),!t)return new ht;if(t instanceof ht)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new ht(o,a,u,t.opacity)}function Yi(t,e,n,r){return arguments.length===1?En(t):new ht(t,e,n,r??1)}function ht(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ne(ht,Yi,kn(Yt,{brighter(t){return t=t==null?re:Math.pow(re,t),new ht(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bt:Math.pow(Bt,t),new ht(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new st(ge(t>=240?t-240:t+120,i,r),ge(t,i,r),ge(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ht(Je(this.h),Wt(this.s),Wt(this.l),ie(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ie(this.opacity);return`${t===1?"hsl(":"hsla("}${Je(this.h)}, ${Wt(this.s)*100}%, ${Wt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Je(t){return t=(t||0)%360,t<0?t+360:t}function Wt(t){return Math.max(0,Math.min(1,t||0))}function ge(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Sn=t=>()=>t;function Zi(t,e){return function(n){return t+n*e}}function Wi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ki(t){return(t=+t)==1?$n:function(e,n){return n-e?Wi(e,n,t):Sn(isNaN(e)?n:e)}}function $n(t,e){var n=e-t;return n?Zi(t,n):Sn(isNaN(t)?e:t)}const je=function t(e){var n=Ki(e);function r(i,s){var o=n((i=we(i)).r,(s=we(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=$n(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=a(h),i.b=u(h),i.opacity=l(h),i+""}}return r.gamma=t,r}(1);function Et(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ce=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,me=new RegExp(Ce.source,"g");function Gi(t){return function(){return t}}function Qi(t){return function(e){return t(e)+""}}function An(t,e){var n=Ce.lastIndex=me.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(t=t+"",e=e+"";(r=Ce.exec(t))&&(i=me.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Et(r,i)})),n=me.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?Qi(u[0].x):Gi(e):(e=u.length,function(l){for(var h=0,_;h<e;++h)a[(_=u[h]).i]=_.x(l);return a.join("")})}var tn=180/Math.PI,be={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mn(t,e,n,r,i,s){var o,a,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*tn,skewX:Math.atan(u)*tn,scaleX:o,scaleY:a}}var Kt;function Ji(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?be:Mn(e.a,e.b,e.c,e.d,e.e,e.f)}function ji(t){return t==null||(Kt||(Kt=document.createElementNS("http://www.w3.org/2000/svg","g")),Kt.setAttribute("transform",t),!(t=Kt.transform.baseVal.consolidate()))?be:(t=t.matrix,Mn(t.a,t.b,t.c,t.d,t.e,t.f))}function Rn(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,h,_,v,k,I){if(l!==_||h!==v){var H=k.push("translate(",null,e,null,n);I.push({i:H-4,x:Et(l,_)},{i:H-2,x:Et(h,v)})}else(_||v)&&k.push("translate("+_+e+v+n)}function o(l,h,_,v){l!==h?(l-h>180?h+=360:h-l>180&&(l+=360),v.push({i:_.push(i(_)+"rotate(",null,r)-2,x:Et(l,h)})):h&&_.push(i(_)+"rotate("+h+r)}function a(l,h,_,v){l!==h?v.push({i:_.push(i(_)+"skewX(",null,r)-2,x:Et(l,h)}):h&&_.push(i(_)+"skewX("+h+r)}function u(l,h,_,v,k,I){if(l!==_||h!==v){var H=k.push(i(k)+"scale(",null,",",null,")");I.push({i:H-4,x:Et(l,_)},{i:H-2,x:Et(h,v)})}else(_!==1||v!==1)&&k.push(i(k)+"scale("+_+","+v+")")}return function(l,h){var _=[],v=[];return l=t(l),h=t(h),s(l.translateX,l.translateY,h.translateX,h.translateY,_,v),o(l.rotate,h.rotate,_,v),a(l.skewX,h.skewX,_,v),u(l.scaleX,l.scaleY,h.scaleX,h.scaleY,_,v),l=h=null,function(k){for(var I=-1,H=v.length,X;++I<H;)_[(X=v[I]).i]=X.x(k);return _.join("")}}}var ts=Rn(Ji,"px, ","px)","deg)"),es=Rn(ji,", ",")",")"),ns=1e-12;function en(t){return((t=Math.exp(t))+1/t)/2}function rs(t){return((t=Math.exp(t))-1/t)/2}function is(t){return((t=Math.exp(2*t))-1)/(t+1)}const ss=function t(e,n,r){function i(s,o){var a=s[0],u=s[1],l=s[2],h=o[0],_=o[1],v=o[2],k=h-a,I=_-u,H=k*k+I*I,X,R;if(H<ns)R=Math.log(v/l)/e,X=function(V){return[a+V*k,u+V*I,l*Math.exp(e*V*R)]};else{var Z=Math.sqrt(H),G=(v*v-l*l+r*H)/(2*l*n*Z),et=(v*v-l*l-r*H)/(2*v*n*Z),J=Math.log(Math.sqrt(G*G+1)-G),Q=Math.log(Math.sqrt(et*et+1)-et);R=(Q-J)/e,X=function(V){var f=V*R,p=en(J),c=l/(n*Z)*(p*is(e*f+J)-rs(J));return[a+c*k,u+c*I,l*p/en(e*f+J)]}}return X.duration=R*1e3*e/Math.SQRT2,X}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,u=a*a;return t(o,a,u)},i}(Math.SQRT2,2,4);var Tt=0,Ht=0,Vt=0,zn=1e3,se,Lt,oe=0,At=0,he=0,qt=typeof performance=="object"&&performance.now?performance:Date,Nn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Te(){return At||(Nn(os),At=qt.now()+he)}function os(){At=0}function ae(){this._call=this._time=this._next=null}ae.prototype=Tn.prototype={constructor:ae,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Te():+n)+(e==null?0:+e),!this._next&&Lt!==this&&(Lt?Lt._next=this:se=this,Lt=this),this._call=t,this._time=n,ke()},stop:function(){this._call&&(this._call=null,this._time=1/0,ke())}};function Tn(t,e,n){var r=new ae;return r.restart(t,e,n),r}function as(){Te(),++Tt;for(var t=se,e;t;)(e=At-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Tt}function nn(){At=(oe=qt.now())+he,Tt=Ht=0;try{as()}finally{Tt=0,us(),At=0}}function ls(){var t=qt.now(),e=t-oe;e>zn&&(he-=e,oe=t)}function us(){for(var t,e=se,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:se=n);Lt=t,ke(r)}function ke(t){if(!Tt){Ht&&(Ht=clearTimeout(Ht));var e=t-At;e>24?(t<1/0&&(Ht=setTimeout(nn,t-qt.now()-he)),Vt&&(Vt=clearInterval(Vt))):(Vt||(oe=qt.now(),Vt=setInterval(ls,zn)),Tt=1,Nn(nn))}}function rn(t,e,n){var r=new ae;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var cs=Me("start","end","cancel","interrupt"),hs=[],Dn=0,sn=1,Ee=2,Jt=3,on=4,Se=5,jt=6;function fe(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;fs(t,n,{name:e,index:r,group:i,on:cs,tween:hs,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Dn})}function De(t,e){var n=ft(t,e);if(n.state>Dn)throw new Error("too late; already scheduled");return n}function _t(t,e){var n=ft(t,e);if(n.state>Jt)throw new Error("too late; already running");return n}function ft(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fs(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Tn(s,0,n.time);function s(l){n.state=sn,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var h,_,v,k;if(n.state!==sn)return u();for(h in r)if(k=r[h],k.name===n.name){if(k.state===Jt)return rn(o);k.state===on?(k.state=jt,k.timer.stop(),k.on.call("interrupt",t,t.__data__,k.index,k.group),delete r[h]):+h<e&&(k.state=jt,k.timer.stop(),k.on.call("cancel",t,t.__data__,k.index,k.group),delete r[h])}if(rn(function(){n.state===Jt&&(n.state=on,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Ee,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ee){for(n.state=Jt,i=new Array(v=n.tween.length),h=0,_=-1;h<v;++h)(k=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++_]=k);i.length=_+1}}function a(l){for(var h=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Se,1),_=-1,v=i.length;++_<v;)i[_].call(t,h);n.state===Se&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=jt,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function te(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Ee&&r.state<Se,r.state=jt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function ds(t){return this.each(function(){te(this,t)})}function ps(t,e){var n,r;return function(){var i=_t(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function gs(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=_t(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function ms(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ft(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?ps:gs)(n,t,e))}function Ie(t,e,n){var r=t._id;return t.each(function(){var i=_t(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ft(i,r).value[e]}}function In(t,e){var n;return(typeof e=="number"?Et:e instanceof Pt?je:(n=Pt(e))?(e=n,je):An)(t,e)}function _s(t){return function(){this.removeAttribute(t)}}function ys(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vs(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function xs(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function ws(t,e,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,a)))}}function Cs(t,e,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,a)))}}function bs(t,e){var n=ce(t),r=n==="transform"?es:In;return this.attrTween(t,typeof e=="function"?(n.local?Cs:ws)(n,r,Ie(this,"attr."+t,e)):e==null?(n.local?ys:_s)(n):(n.local?xs:vs)(n,r,e))}function ks(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Es(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ss(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Es(t,s)),n}return i._value=e,i}function $s(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&ks(t,s)),n}return i._value=e,i}function As(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ce(t);return this.tween(n,(r.local?Ss:$s)(r,e))}function Ms(t,e){return function(){De(this,t).delay=+e.apply(this,arguments)}}function Rs(t,e){return e=+e,function(){De(this,t).delay=e}}function zs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ms:Rs)(e,t)):ft(this.node(),e).delay}function Ns(t,e){return function(){_t(this,t).duration=+e.apply(this,arguments)}}function Ts(t,e){return e=+e,function(){_t(this,t).duration=e}}function Ds(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ns:Ts)(e,t)):ft(this.node(),e).duration}function Is(t,e){if(typeof e!="function")throw new Error;return function(){_t(this,t).ease=e}}function Vs(t){var e=this._id;return arguments.length?this.each(Is(e,t)):ft(this.node(),e).ease}function Os(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;_t(this,t).ease=n}}function Hs(t){if(typeof t!="function")throw new Error;return this.each(Os(this._id,t))}function Ls(t){typeof t!="function"&&(t=pn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&t.call(u,u.__data__,l,s)&&a.push(u);return new bt(r,this._parents,this._name,this._id)}function Fs(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=e[a],l=n[a],h=u.length,_=o[a]=new Array(h),v,k=0;k<h;++k)(v=u[k]||l[k])&&(_[k]=v);for(;a<r;++a)o[a]=e[a];return new bt(o,this._parents,this._name,this._id)}function Bs(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Xs(t,e,n){var r,i,s=Bs(e)?De:_t;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function Ps(t,e){var n=this._id;return arguments.length<2?ft(this.node(),n).on.on(t):this.each(Xs(n,t,e))}function qs(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Us(){return this.on("end.remove",qs(this._id))}function Ys(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Re(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),h,_,v=0;v<u;++v)(h=a[v])&&(_=t.call(h,h.__data__,v,a))&&("__data__"in h&&(_.__data__=h.__data__),l[v]=_,fe(l[v],e,n,v,l,ft(h,n)));return new bt(s,this._parents,e,n)}function Zs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=dn(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,h,_=0;_<l;++_)if(h=u[_]){for(var v=t.call(h,h.__data__,_,u),k,I=ft(h,n),H=0,X=v.length;H<X;++H)(k=v[H])&&fe(k,e,n,H,v,I);s.push(v),o.push(h)}return new bt(s,o,e,n)}var Ws=Ut.prototype.constructor;function Ks(){return new Ws(this._groups,this._parents)}function Gs(t,e){var n,r,i;return function(){var s=Nt(this,t),o=(this.style.removeProperty(t),Nt(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Vn(t){return function(){this.style.removeProperty(t)}}function Qs(t,e,n){var r,i=n+"",s;return function(){var o=Nt(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function Js(t,e,n){var r,i,s;return function(){var o=Nt(this,t),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),Nt(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,a))}}function js(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var u=_t(this,t),l=u.on,h=u.value[s]==null?a||(a=Vn(e)):void 0;(l!==n||i!==h)&&(r=(n=l).copy()).on(o,i=h),u.on=r}}function to(t,e,n){var r=(t+="")=="transform"?ts:In;return e==null?this.styleTween(t,Gs(t,r)).on("end.style."+t,Vn(t)):typeof e=="function"?this.styleTween(t,Js(t,r,Ie(this,"style."+t,e))).each(js(this._id,t)):this.styleTween(t,Qs(t,r,e),n).on("end.style."+t,null)}function eo(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function no(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&eo(t,o,n)),r}return s._value=e,s}function ro(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,no(t,e,n??""))}function io(t){return function(){this.textContent=t}}function so(t){return function(){var e=t(this);this.textContent=e??""}}function oo(t){return this.tween("text",typeof t=="function"?so(Ie(this,"text",t)):io(t==null?"":t+""))}function ao(t){return function(e){this.textContent=t.call(this,e)}}function lo(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&ao(i)),e}return r._value=t,r}function uo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,lo(t))}function co(){for(var t=this._name,e=this._id,n=On(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var h=ft(u,e);fe(u,t,n,l,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new bt(r,this._parents,t,n)}function ho(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=_t(this,r),h=l.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),i===0&&s()})}var fo=0;function bt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function On(){return++fo}var vt=Ut.prototype;bt.prototype={constructor:bt,select:Ys,selectAll:Zs,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:Ls,merge:Fs,selection:Ks,transition:co,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:Ps,attr:bs,attrTween:As,style:to,styleTween:ro,text:oo,textTween:uo,remove:Us,tween:ms,delay:zs,duration:Ds,ease:Vs,easeVarying:Hs,end:ho,[Symbol.iterator]:vt[Symbol.iterator]};function po(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var go={time:null,delay:0,duration:250,ease:po};function mo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function _o(t){var e,n;t instanceof bt?(e=t._id,t=t._name):(e=On(),(n=go).time=Te(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&fe(u,t,e,l,o,n||mo(u,e));return new bt(r,this._parents,t,e)}Ut.prototype.interrupt=ds;Ut.prototype.transition=_o;function yo(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function vo(){return this.eachAfter(yo)}function xo(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function wo(t,e){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function Co(t,e){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)t.call(e,n,++u,this);return this}function bo(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function ko(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Eo(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function So(t){for(var e=this,n=$o(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function $o(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Ao(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Mo(){return Array.from(this)}function Ro(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function zo(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*No(){var t=this,e,n=[t],r,i,s;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function Ve(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Io)):e===void 0&&(e=Do);for(var n=new le(t),r,i=[n],s,o,a,u;r=i.pop();)if((o=e(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new le(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(Oo)}function To(){return Ve(this).eachBefore(Vo)}function Do(t){return t.children}function Io(t){return Array.isArray(t)?t[1]:null}function Vo(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Oo(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function le(t){this.data=t,this.depth=this.height=0,this.parent=null}le.prototype=Ve.prototype={constructor:le,count:vo,each:xo,eachAfter:Co,eachBefore:wo,find:bo,sum:ko,sort:Eo,path:So,ancestors:Ao,descendants:Mo,leaves:Ro,links:zo,copy:To,[Symbol.iterator]:No};const Gt=t=>()=>t;function Ho(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ct(t,e,n){this.k=t,this.x=e,this.y=n}Ct.prototype={constructor:Ct,scale:function(t){return t===1?this:new Ct(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ct(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Hn=new Ct(1,0,0);Ct.prototype;function _e(t){t.stopImmediatePropagation()}function Ot(t){t.preventDefault(),t.stopImmediatePropagation()}function Lo(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Fo(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function an(){return this.__zoom||Hn}function Bo(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Xo(){return navigator.maxTouchPoints||"ontouchstart"in this}function Po(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function qo(){var t=Lo,e=Fo,n=Po,r=Bo,i=Xo,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,u=ss,l=Me("start","zoom","end"),h,_,v,k=500,I=150,H=0,X=10;function R(d){d.property("__zoom",an).on("wheel.zoom",f,{passive:!1}).on("mousedown.zoom",p).on("dblclick.zoom",c).filter(i).on("touchstart.zoom",b).on("touchmove.zoom",y).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}R.transform=function(d,x,g,m){var C=d.selection?d.selection():d;C.property("__zoom",an),d!==C?J(d,x,g,m):C.interrupt().each(function(){Q(this,arguments).event(m).start().zoom(null,typeof x=="function"?x.apply(this,arguments):x).end()})},R.scaleBy=function(d,x,g,m){R.scaleTo(d,function(){var C=this.__zoom.k,w=typeof x=="function"?x.apply(this,arguments):x;return C*w},g,m)},R.scaleTo=function(d,x,g,m){R.transform(d,function(){var C=e.apply(this,arguments),w=this.__zoom,M=g==null?et(C):typeof g=="function"?g.apply(this,arguments):g,E=w.invert(M),A=typeof x=="function"?x.apply(this,arguments):x;return n(G(Z(w,A),M,E),C,o)},g,m)},R.translateBy=function(d,x,g,m){R.transform(d,function(){return n(this.__zoom.translate(typeof x=="function"?x.apply(this,arguments):x,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),o)},null,m)},R.translateTo=function(d,x,g,m,C){R.transform(d,function(){var w=e.apply(this,arguments),M=this.__zoom,E=m==null?et(w):typeof m=="function"?m.apply(this,arguments):m;return n(Hn.translate(E[0],E[1]).scale(M.k).translate(typeof x=="function"?-x.apply(this,arguments):-x,typeof g=="function"?-g.apply(this,arguments):-g),w,o)},m,C)};function Z(d,x){return x=Math.max(s[0],Math.min(s[1],x)),x===d.k?d:new Ct(x,d.x,d.y)}function G(d,x,g){var m=x[0]-g[0]*d.k,C=x[1]-g[1]*d.k;return m===d.x&&C===d.y?d:new Ct(d.k,m,C)}function et(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function J(d,x,g,m){d.on("start.zoom",function(){Q(this,arguments).event(m).start()}).on("interrupt.zoom end.zoom",function(){Q(this,arguments).event(m).end()}).tween("zoom",function(){var C=this,w=arguments,M=Q(C,w).event(m),E=e.apply(C,w),A=g==null?et(E):typeof g=="function"?g.apply(C,w):g,S=Math.max(E[1][0]-E[0][0],E[1][1]-E[0][1]),T=C.__zoom,F=typeof x=="function"?x.apply(C,w):x,B=u(T.invert(A).concat(S/T.k),F.invert(A).concat(S/F.k));return function(U){if(U===1)U=F;else{var z=B(U),O=S/z[2];U=new Ct(O,A[0]-z[0]*O,A[1]-z[1]*O)}M.zoom(null,U)}})}function Q(d,x,g){return!g&&d.__zooming||new V(d,x)}function V(d,x){this.that=d,this.args=x,this.active=0,this.sourceEvent=null,this.extent=e.apply(d,x),this.taps=0}V.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,x){return this.mouse&&d!=="mouse"&&(this.mouse[1]=x.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=x.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=x.invert(this.touch1[0])),this.that.__zoom=x,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var x=rt(this.that).datum();l.call(d,this.that,new Ho(d,{sourceEvent:this.sourceEvent,target:R,type:d,transform:this.that.__zoom,dispatch:l}),x)}};function f(d,...x){if(!t.apply(this,arguments))return;var g=Q(this,x).event(d),m=this.__zoom,C=Math.max(s[0],Math.min(s[1],m.k*Math.pow(2,r.apply(this,arguments)))),w=xt(d);if(g.wheel)(g.mouse[0][0]!==w[0]||g.mouse[0][1]!==w[1])&&(g.mouse[1]=m.invert(g.mouse[0]=w)),clearTimeout(g.wheel);else{if(m.k===C)return;g.mouse=[w,m.invert(w)],te(this),g.start()}Ot(d),g.wheel=setTimeout(M,I),g.zoom("mouse",n(G(Z(m,C),g.mouse[0],g.mouse[1]),g.extent,o));function M(){g.wheel=null,g.end()}}function p(d,...x){if(v||!t.apply(this,arguments))return;var g=d.currentTarget,m=Q(this,x,!0).event(d),C=rt(d.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",S,!0),w=xt(d,g),M=d.clientX,E=d.clientY;Ti(d.view),_e(d),m.mouse=[w,this.__zoom.invert(w)],te(this),m.start();function A(T){if(Ot(T),!m.moved){var F=T.clientX-M,B=T.clientY-E;m.moved=F*F+B*B>H}m.event(T).zoom("mouse",n(G(m.that.__zoom,m.mouse[0]=xt(T,g),m.mouse[1]),m.extent,o))}function S(T){C.on("mousemove.zoom mouseup.zoom",null),Di(T.view,m.moved),Ot(T),m.event(T).end()}}function c(d,...x){if(t.apply(this,arguments)){var g=this.__zoom,m=xt(d.changedTouches?d.changedTouches[0]:d,this),C=g.invert(m),w=g.k*(d.shiftKey?.5:2),M=n(G(Z(g,w),m,C),e.apply(this,x),o);Ot(d),a>0?rt(this).transition().duration(a).call(J,M,m,d):rt(this).call(R.transform,M,m,d)}}function b(d,...x){if(t.apply(this,arguments)){var g=d.touches,m=g.length,C=Q(this,x,d.changedTouches.length===m).event(d),w,M,E,A;for(_e(d),M=0;M<m;++M)E=g[M],A=xt(E,this),A=[A,this.__zoom.invert(A),E.identifier],C.touch0?!C.touch1&&C.touch0[2]!==A[2]&&(C.touch1=A,C.taps=0):(C.touch0=A,w=!0,C.taps=1+!!h);h&&(h=clearTimeout(h)),w&&(C.taps<2&&(_=A[0],h=setTimeout(function(){h=null},k)),te(this),C.start())}}function y(d,...x){if(this.__zooming){var g=Q(this,x).event(d),m=d.changedTouches,C=m.length,w,M,E,A;for(Ot(d),w=0;w<C;++w)M=m[w],E=xt(M,this),g.touch0&&g.touch0[2]===M.identifier?g.touch0[0]=E:g.touch1&&g.touch1[2]===M.identifier&&(g.touch1[0]=E);if(M=g.that.__zoom,g.touch1){var S=g.touch0[0],T=g.touch0[1],F=g.touch1[0],B=g.touch1[1],U=(U=F[0]-S[0])*U+(U=F[1]-S[1])*U,z=(z=B[0]-T[0])*z+(z=B[1]-T[1])*z;M=Z(M,Math.sqrt(U/z)),E=[(S[0]+F[0])/2,(S[1]+F[1])/2],A=[(T[0]+B[0])/2,(T[1]+B[1])/2]}else if(g.touch0)E=g.touch0[0],A=g.touch0[1];else return;g.zoom("touch",n(G(M,E,A),g.extent,o))}}function $(d,...x){if(this.__zooming){var g=Q(this,x).event(d),m=d.changedTouches,C=m.length,w,M;for(_e(d),v&&clearTimeout(v),v=setTimeout(function(){v=null},k),w=0;w<C;++w)M=m[w],g.touch0&&g.touch0[2]===M.identifier?delete g.touch0:g.touch1&&g.touch1[2]===M.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(M=xt(M,this),Math.hypot(_[0]-M[0],_[1]-M[1])<X)){var E=rt(this).on("dblclick.zoom");E&&E.apply(this,arguments)}}}return R.wheelDelta=function(d){return arguments.length?(r=typeof d=="function"?d:Gt(+d),R):r},R.filter=function(d){return arguments.length?(t=typeof d=="function"?d:Gt(!!d),R):t},R.touchable=function(d){return arguments.length?(i=typeof d=="function"?d:Gt(!!d),R):i},R.extent=function(d){return arguments.length?(e=typeof d=="function"?d:Gt([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),R):e},R.scaleExtent=function(d){return arguments.length?(s[0]=+d[0],s[1]=+d[1],R):[s[0],s[1]]},R.translateExtent=function(d){return arguments.length?(o[0][0]=+d[0][0],o[1][0]=+d[1][0],o[0][1]=+d[0][1],o[1][1]=+d[1][1],R):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},R.constrain=function(d){return arguments.length?(n=d,R):n},R.duration=function(d){return arguments.length?(a=+d,R):a},R.interpolate=function(d){return arguments.length?(u=d,R):u},R.on=function(){var d=l.on.apply(l,arguments);return d===l?R:d},R.clickDistance=function(d){return arguments.length?(H=(d=+d)*d,R):Math.sqrt(H)},R.tapDistance=function(d){return arguments.length?(X=+d,R):X},R}function Uo(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function Yo(){return this.eachAfter(Uo)}function Zo(t){var e=this,n,r=[e],i,s,o;do for(n=r.reverse(),r=[];e=n.pop();)if(t(e),i=e.children,i)for(s=0,o=i.length;s<o;++s)r.push(i[s]);while(r.length);return this}function Wo(t){for(var e=this,n=[e],r,i;e=n.pop();)if(t(e),r=e.children,r)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this}function Ko(t){for(var e=this,n=[e],r=[],i,s,o;e=n.pop();)if(r.push(e),i=e.children,i)for(s=0,o=i.length;s<o;++s)n.push(i[s]);for(;e=r.pop();)t(e);return this}function Go(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Qo(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Jo(t){for(var e=this,n=jo(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function jo(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function ta(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function ea(){var t=[];return this.each(function(e){t.push(e)}),t}function na(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function ra(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function Oe(t,e){var n=new ue(t),r=+t.value&&(n.value=t.value),i,s=[n],o,a,u,l;for(e==null&&(e=sa);i=s.pop();)if(r&&(i.value=+i.data.value),(a=e(i.data))&&(l=a.length))for(i.children=new Array(l),u=l-1;u>=0;--u)s.push(o=i.children[u]=new ue(a[u])),o.parent=i,o.depth=i.depth+1;return n.eachBefore(aa)}function ia(){return Oe(this).eachBefore(oa)}function sa(t){return t.children}function oa(t){t.data=t.data.data}function aa(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ue(t){this.data=t,this.depth=this.height=0,this.parent=null}ue.prototype=Oe.prototype={constructor:ue,count:Yo,each:Zo,eachAfter:Ko,eachBefore:Wo,sum:Go,sort:Qo,path:Jo,ancestors:ta,descendants:ea,leaves:na,links:ra,copy:ia};const la="d3-flextree",ua="2.1.2",ca="build/d3-flextree.js",ha="index",fa={name:"Chris Maloney",url:"http://chrismaloney.org"},da="Flexible tree layout algorithm that allows for variable node sizes.",pa=["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],ga="https://github.com/klortho/d3-flextree",ma="WTFPL",_a={type:"git",url:"https://github.com/klortho/d3-flextree.git"},ya={clean:"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test",build:"rollup -c",lint:"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js",test:"npm-run-all test:*",prepare:"npm-run-all clean build lint test"},va={"d3-hierarchy":"^1.1.5"},xa={"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0",d3:"^4.13.0","d3-selection-multi":"^1.0.1",eslint:"^4.19.1",jsdom:"^11.6.2","npm-run-all":"^4.1.2",rollup:"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"},wa={name:la,version:ua,main:ca,module:ha,"jsnext:main":"index",author:fa,description:da,keywords:pa,homepage:ga,license:ma,repository:_a,scripts:ya,dependencies:va,devDependencies:xa},{version:Ca}=wa,ba=Object.freeze({children:t=>t.children,nodeSize:t=>t.data.size,spacing:0});function Fn(t){const e=Object.assign({},ba,t);function n(a){const u=e[a];return typeof u=="function"?u:()=>u}function r(a){const u=o(s(),a,l=>l.children);return u.update(),u.data}function i(){const a=n("nodeSize"),u=n("spacing");return class Ln extends Oe.prototype.constructor{constructor(h){super(h)}copy(){const h=o(this.constructor,this,_=>_.children);return h.each(_=>_.data=_.data.data),h}get size(){return a(this)}spacing(h){return u(this,h)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const h=this.ancestors();return h[h.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return this.children===null}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce((h,_)=>Ln.maxExtents(h,_.extents),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(h,_){return{top:Math.min(h.top,_.top),bottom:Math.max(h.bottom,_.bottom),left:Math.min(h.left,_.left),right:Math.max(h.right,_.right)}}}}function s(){const a=i(),u=n("nodeSize"),l=n("spacing");return class extends a{constructor(h){super(h),Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return u(this.data)}spacing(h){return l(this.data,h.data)}get x(){return this.data.x}set x(h){this.data.x=h}get y(){return this.data.y}set y(h){this.data.y=h}update(){return Bn(this),Xn(this),this}}}function o(a,u,l){const h=(_,v)=>{const k=new a(_);Object.assign(k,{parent:v,depth:v===null?0:v.depth+1,height:0,length:1});const I=l(_)||[];return k.children=I.length===0?null:I.map(H=>h(H,k)),k.children&&Object.assign(k,k.children.reduce((H,X)=>({height:Math.max(H.height,X.height+1),length:H.length+X.length}),k)),k};return h(u,null)}return Object.assign(r,{nodeSize(a){return arguments.length?(e.nodeSize=a,r):e.nodeSize},spacing(a){return arguments.length?(e.spacing=a,r):e.spacing},children(a){return arguments.length?(e.children=a,r):e.children},hierarchy(a,u){const l=typeof u>"u"?e.children:u;return o(i(),a,l)},dump(a){const u=n("nodeSize"),l=h=>_=>{const v=h+"  ",k=h+"    ",{x:I,y:H}=_,X=u(_),R=_.children||[],Z=R.length===0?" ":`,${v}children: [${k}${R.map(l(k)).join(k)}${v}],${h}`;return`{ size: [${X.join(", ")}],${v}x: ${I}, y: ${H}${Z}},`};return l(`
`)(a)}}),r}Fn.version=Ca;const Bn=(t,e=0)=>(t.y=e,(t.children||[]).reduce((n,r)=>{const[i,s]=n;Bn(r,t.y+t.ySize);const o=(i===0?r.lExt:r.rExt).bottom;i!==0&&Ea(t,i,s);const a=Ta(o,i,s);return[i+1,a]},[0,null]),ka(t),Na(t),t),Xn=(t,e,n)=>{typeof e>"u"&&(e=-t.relX-t.prelim,n=0);const r=e+t.relX;return t.relX=r+t.prelim-n,t.prelim=0,t.x=n+t.relX,(t.children||[]).forEach(i=>Xn(i,r,t.x)),t},ka=t=>{(t.children||[]).reduce((e,n)=>{const[r,i]=e,s=r+n.shift,o=i+s+n.change;return n.relX+=o,[s,o]},[0,0])},Ea=(t,e,n)=>{const r=t.children[e-1],i=t.children[e];let s=r,o=r.relX,a=i,u=i.relX,l=!0;for(;s&&a;){s.bottom>n.lowY&&(n=n.next);const h=o+s.prelim-(u+a.prelim)+s.xSize/2+a.xSize/2+s.spacing(a);(h>0||h<0&&l)&&(u+=h,Sa(i,h),$a(t,e,n.index,h)),l=!1;const _=s.bottom,v=a.bottom;_<=v&&(s=Ma(s),s&&(o+=s.relX)),_>=v&&(a=Aa(a),a&&(u+=a.relX))}!s&&a?Ra(t,e,a,u):s&&!a&&za(t,e,s,o)},Sa=(t,e)=>{t.relX+=e,t.lExtRelX+=e,t.rExtRelX+=e},$a=(t,e,n,r)=>{const i=t.children[e],s=e-n;if(s>1){const o=r/s;t.children[n+1].shift+=o,i.shift-=o,i.change-=r-o}},Aa=t=>t.hasChildren?t.firstChild:t.lThr,Ma=t=>t.hasChildren?t.lastChild:t.rThr,Ra=(t,e,n,r)=>{const i=t.firstChild,s=i.lExt,o=t.children[e];s.lThr=n;const a=r-n.relX-i.lExtRelX;s.relX+=a,s.prelim-=a,i.lExt=o.lExt,i.lExtRelX=o.lExtRelX},za=(t,e,n,r)=>{const i=t.children[e],s=i.rExt,o=t.children[e-1];s.rThr=n;const a=r-n.relX-i.rExtRelX;s.relX+=a,s.prelim-=a,i.rExt=o.rExt,i.rExtRelX=o.rExtRelX},Na=t=>{if(t.hasChildren){const e=t.firstChild,n=t.lastChild,r=(e.prelim+e.relX-e.xSize/2+n.relX+n.prelim+n.xSize/2)/2;Object.assign(t,{prelim:r,lExt:e.lExt,lExtRelX:e.lExtRelX,rExt:n.rExt,rExtRelX:n.rExtRelX})}},Ta=(t,e,n)=>{for(;n!==null&&t>=n.lowY;)n=n.next;return{lowY:t,index:e,next:n}},Da="data:image/svg+xml,%3csvg%20width='32'%20height='21'%20viewBox='0%200%2032%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cellipse%20cx='16'%20cy='10.5'%20rx='16'%20ry='10.5'%20fill='%2386BA80'%20fill-opacity='0.6'/%3e%3cpath%20d='M14.1184%2014.1278C13.4792%2014.1278%2012.9252%2013.9872%2012.4565%2013.706C11.9877%2013.4247%2011.6241%2013.0312%2011.3656%2012.5256C11.1099%2012.0199%2010.9821%2011.429%2010.9821%2010.7528C10.9821%2010.0767%2011.1099%209.48437%2011.3656%208.97585C11.6241%208.46733%2011.9877%208.07244%2012.4565%207.79119C12.9252%207.50994%2013.4792%207.36932%2014.1184%207.36932C14.7576%207.36932%2015.3116%207.50994%2015.7804%207.79119C16.2491%208.07244%2016.6113%208.46733%2016.867%208.97585C17.1255%209.48437%2017.2548%2010.0767%2017.2548%2010.7528C17.2548%2011.429%2017.1255%2012.0199%2016.867%2012.5256C16.6113%2013.0312%2016.2491%2013.4247%2015.7804%2013.706C15.3116%2013.9872%2014.7576%2014.1278%2014.1184%2014.1278ZM14.127%2012.892C14.4735%2012.892%2014.7633%2012.7969%2014.9963%2012.6065C15.2292%2012.4134%2015.4025%2012.1548%2015.5162%2011.831C15.6326%2011.5071%2015.6909%2011.1463%2015.6909%2010.7486C15.6909%2010.348%2015.6326%209.9858%2015.5162%209.66193C15.4025%209.33523%2015.2292%209.07528%2014.9963%208.8821C14.7633%208.68892%2014.4735%208.59233%2014.127%208.59233C13.7718%208.59233%2013.4764%208.68892%2013.2406%208.8821C13.0076%209.07528%2012.8329%209.33523%2012.7164%209.66193C12.6028%209.9858%2012.546%2010.348%2012.546%2010.7486C12.546%2011.1463%2012.6028%2011.5071%2012.7164%2011.831C12.8329%2012.1548%2013.0076%2012.4134%2013.2406%2012.6065C13.4764%2012.7969%2013.7718%2012.892%2014.127%2012.892ZM18.5641%2014V7.45455H20.0598V8.54545H20.128C20.2473%208.16761%2020.4519%207.87642%2020.7417%207.67188C21.0343%207.46449%2021.3681%207.3608%2021.7431%207.3608C21.8283%207.3608%2021.9235%207.36506%2022.0286%207.37358C22.1365%207.37926%2022.226%207.3892%2022.2971%207.40341V8.82244C22.2317%208.79972%2022.128%208.77983%2021.986%208.76278C21.8468%208.7429%2021.7118%208.73295%2021.5811%208.73295C21.2999%208.73295%2021.0471%208.79403%2020.8226%208.91619C20.601%209.03551%2020.4263%209.2017%2020.2985%209.41477C20.1706%209.62784%2020.1067%209.87358%2020.1067%2010.152V14H18.5641Z'%20fill='black'/%3e%3c/svg%3e",Ia="data:image/svg+xml,%3csvg%20width='32'%20height='21'%20viewBox='0%200%2032%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cellipse%20cx='16'%20cy='10.5'%20rx='16'%20ry='10.5'%20fill='%23EF9A9A'%20fill-opacity='0.85'/%3e%3cpath%20d='M7.79528%2014.1321C7.3805%2014.1321%207.00692%2014.0582%206.67454%2013.9105C6.34499%2013.7599%206.08363%2013.5384%205.89045%2013.2457C5.70011%2012.9531%205.60494%2012.5923%205.60494%2012.1634C5.60494%2011.794%205.67312%2011.4886%205.80948%2011.2472C5.94585%2011.0057%206.13192%2010.8125%206.36772%2010.6676C6.60352%2010.5227%206.86914%2010.4134%207.1646%2010.3395C7.46289%2010.2628%207.77113%2010.2074%208.08931%2010.1733C8.47283%2010.1335%208.78391%2010.098%209.02255%2010.0668C9.26119%2010.0327%209.43448%209.98153%209.54244%209.91335C9.65323%209.84233%209.70863%209.73295%209.70863%209.58523V9.55966C9.70863%209.23864%209.61346%208.99006%209.42312%208.81392C9.23278%208.63778%208.95863%208.54972%208.60067%208.54972C8.22283%208.54972%207.92312%208.6321%207.70153%208.79688C7.48278%208.96165%207.33505%209.15625%207.25835%209.38068L5.818%209.17614C5.93164%208.77841%206.11914%208.44602%206.3805%208.17898C6.64187%207.90909%206.96147%207.70739%207.33931%207.57386C7.71715%207.4375%208.13477%207.36932%208.59215%207.36932C8.90749%207.36932%209.22141%207.40625%209.53391%207.48011C9.84641%207.55398%2010.1319%207.67614%2010.3904%207.84659C10.649%208.0142%2010.8564%208.2429%2011.0126%208.53267C11.1717%208.82244%2011.2512%209.18466%2011.2512%209.61932V14H9.76829V13.1009H9.71715C9.6234%2013.2827%209.4913%2013.4531%209.32085%2013.6122C9.15323%2013.7685%208.94158%2013.8949%208.6859%2013.9915C8.43306%2014.0852%208.13619%2014.1321%207.79528%2014.1321ZM8.19585%2012.9986C8.5055%2012.9986%208.77397%2012.9375%209.00124%2012.8153C9.22852%2012.6903%209.40323%2012.5256%209.52539%2012.321C9.65039%2012.1165%209.71289%2011.8935%209.71289%2011.652V10.8807C9.6646%2010.9205%209.58221%2010.9574%209.46573%2010.9915C9.3521%2011.0256%209.22425%2011.0554%209.08221%2011.081C8.94016%2011.1065%208.79954%2011.1293%208.66033%2011.1491C8.52113%2011.169%208.40039%2011.1861%208.29812%2011.2003C8.068%2011.2315%207.86204%2011.2827%207.68022%2011.3537C7.4984%2011.4247%207.35494%2011.5241%207.24982%2011.652C7.14471%2011.777%207.09215%2011.9389%207.09215%2012.1378C7.09215%2012.4219%207.19585%2012.6364%207.40323%2012.7812C7.61062%2012.9261%207.87482%2012.9986%208.19585%2012.9986ZM14.345%2010.1648V14H12.8024V7.45455H14.2768V8.56676H14.3535C14.5041%208.20028%2014.7441%207.90909%2015.0737%207.69318C15.4061%207.47727%2015.8166%207.36932%2016.3052%207.36932C16.7569%207.36932%2017.1504%207.46591%2017.4856%207.65909C17.8237%207.85227%2018.085%208.1321%2018.2697%208.49858C18.4572%208.86506%2018.5495%209.30966%2018.5467%209.83239V14H17.0041V10.071C17.0041%209.63352%2016.8904%209.29119%2016.6632%209.04403C16.4387%208.79687%2016.1277%208.6733%2015.7299%208.6733C15.46%208.6733%2015.22%208.73295%2015.0098%208.85227C14.8024%208.96875%2014.639%209.13778%2014.5197%209.35938C14.4032%209.58097%2014.345%209.84943%2014.345%2010.1648ZM22.5439%2014.1151C22.0297%2014.1151%2021.5694%2013.983%2021.1632%2013.7188C20.7569%2013.4545%2020.4359%2013.071%2020.2001%2012.5682C19.9643%2012.0653%2019.8464%2011.4545%2019.8464%2010.7358C19.8464%2010.0085%2019.9657%209.39489%2020.2044%208.89489C20.4458%208.39205%2020.7711%208.01278%2021.1802%207.7571C21.5893%207.49858%2022.0453%207.36932%2022.5481%207.36932C22.9316%207.36932%2023.247%207.43466%2023.4941%207.56534C23.7413%207.69318%2023.9373%207.84801%2024.0822%208.02983C24.2271%208.20881%2024.3393%208.37784%2024.4189%208.53693H24.4828V5.27273H26.0297V14H24.5126V12.9688H24.4189C24.3393%2013.1278%2024.2243%2013.2969%2024.0737%2013.4759C23.9231%2013.652%2023.7243%2013.8026%2023.4771%2013.9276C23.2299%2014.0526%2022.9189%2014.1151%2022.5439%2014.1151ZM22.9743%2012.8494C23.301%2012.8494%2023.5794%2012.7614%2023.8095%2012.5852C24.0396%2012.4062%2024.2143%2012.1577%2024.3336%2011.8395C24.4529%2011.5213%2024.5126%2011.1506%2024.5126%2010.7273C24.5126%2010.304%2024.4529%209.93608%2024.3336%209.62358C24.2172%209.31108%2024.0439%209.06818%2023.8137%208.89489C23.5865%208.72159%2023.3066%208.63494%2022.9743%208.63494C22.6305%208.63494%2022.3436%208.72443%2022.1135%208.90341C21.8833%209.08239%2021.71%209.32955%2021.5936%209.64489C21.4771%209.96023%2021.4189%2010.321%2021.4189%2010.7273C21.4189%2011.1364%2021.4771%2011.5014%2021.5936%2011.8224C21.7129%2012.1406%2021.8876%2012.392%2022.1177%2012.5767C22.3507%2012.7585%2022.6362%2012.8494%2022.9743%2012.8494Z'%20fill='black'/%3e%3c/svg%3e",Va="data:image/svg+xml,%3csvg%20width='47'%20height='16'%20viewBox='0%200%2047%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='47'%20height='16'%20rx='5'%20fill='%23A2A0D1'%20fill-opacity='0.7'/%3e%3cpath%20d='M10.2179%207.18466L8.81161%207.33807C8.77184%207.19602%208.70224%207.0625%208.60281%206.9375C8.50621%206.8125%208.37553%206.71165%208.21076%206.63494C8.04599%206.55824%207.84428%206.51989%207.60565%206.51989C7.28462%206.51989%207.01474%206.58949%206.79599%206.72869C6.58008%206.8679%206.47354%207.0483%206.47639%207.26989C6.47354%207.46023%206.54315%207.61506%206.68519%207.73438C6.83008%207.85369%207.06871%207.9517%207.4011%208.02841L8.51758%208.26705C9.1369%208.40057%209.59712%208.61222%209.89826%208.90199C10.2022%209.19176%2010.3556%209.57102%2010.3585%2010.0398C10.3556%2010.4517%2010.2349%2010.8153%209.99627%2011.1307C9.76048%2011.4432%209.43235%2011.6875%209.0119%2011.8636C8.59144%2012.0398%208.10849%2012.1278%207.56303%2012.1278C6.7619%2012.1278%206.11701%2011.9602%205.62837%2011.625C5.13974%2011.2869%204.84854%2010.8168%204.75479%2010.2145L6.25906%2010.0696C6.32724%2010.3651%206.47212%2010.5881%206.69371%2010.7386C6.91531%2010.8892%207.20366%2010.9645%207.55877%2010.9645C7.92525%2010.9645%208.21928%2010.8892%208.44087%2010.7386C8.66531%2010.5881%208.77752%2010.402%208.77752%2010.1804C8.77752%209.9929%208.70508%209.83807%208.56019%209.71591C8.41815%209.59375%208.19656%209.5%207.89542%209.43466L6.77894%209.20028C6.1511%209.0696%205.68661%208.84943%205.38548%208.53977C5.08434%208.22727%204.93519%207.83239%204.93803%207.35511C4.93519%206.9517%205.04457%206.60227%205.26616%206.30682C5.49059%206.00852%205.80167%205.77841%206.1994%205.61648C6.59996%205.4517%207.06161%205.36932%207.58434%205.36932C8.35139%205.36932%208.95508%205.53267%209.39542%205.85938C9.8386%206.18608%2010.1127%206.62784%2010.2179%207.18466ZM15.8024%209.24716V5.45455H17.345V12H15.8493V10.8366H15.7811C15.6333%2011.2031%2015.3904%2011.5028%2015.0524%2011.7358C14.7172%2011.9687%2014.3038%2012.0852%2013.8123%2012.0852C13.3833%2012.0852%2013.0041%2011.9901%2012.6745%2011.7997C12.3478%2011.6065%2012.0922%2011.3267%2011.9075%2010.9602C11.7228%2010.5909%2011.6305%2010.1449%2011.6305%209.62216V5.45455H13.1731V9.38352C13.1731%209.7983%2013.2868%2010.1278%2013.514%2010.3722C13.7413%2010.6165%2014.0396%2010.7386%2014.4089%2010.7386C14.6362%2010.7386%2014.8564%2010.6832%2015.0694%2010.5724C15.2825%2010.4616%2015.4572%2010.2969%2015.5936%2010.0781C15.7328%209.85653%2015.8024%209.57955%2015.8024%209.24716ZM18.9313%2012V5.45455H20.4057V6.56676H20.4824C20.6188%206.19176%2020.8446%205.89915%2021.16%205.68892C21.4753%205.47585%2021.8517%205.36932%2022.2892%205.36932C22.7324%205.36932%2023.106%205.47727%2023.41%205.69318C23.7168%205.90625%2023.9327%206.19744%2024.0577%206.56676H24.1259C24.2708%206.20312%2024.5151%205.91335%2024.8588%205.69744C25.2054%205.47869%2025.6159%205.36932%2026.0904%205.36932C26.6926%205.36932%2027.1841%205.55966%2027.5648%205.94034C27.9455%206.32102%2028.1358%206.87642%2028.1358%207.60653V12H26.589V7.84517C26.589%207.43892%2026.481%207.14205%2026.2651%206.95455C26.0492%206.7642%2025.785%206.66903%2025.4725%206.66903C25.1003%206.66903%2024.8091%206.78551%2024.5989%207.01847C24.3915%207.24858%2024.2878%207.5483%2024.2878%207.91761V12H22.775V7.78125C22.775%207.44318%2022.6728%207.1733%2022.4682%206.97159C22.2665%206.76989%2022.0023%206.66903%2021.6756%206.66903C21.454%206.66903%2021.2523%206.72585%2021.0705%206.83949C20.8887%206.95028%2020.7438%207.10795%2020.6358%207.3125C20.5279%207.5142%2020.4739%207.75%2020.4739%208.01989V12H18.9313ZM30.1099%207.83239V6.51562H35.7818V7.83239H30.1099ZM30.1099%2010.5597V9.2429H35.7818V10.5597H30.1099ZM41.3077%203.27273V12H39.7267V4.81108H39.6756L37.6344%206.11506V4.66619L39.8034%203.27273H41.3077Z'%20fill='black'/%3e%3c/svg%3e",Oa="data:image/svg+xml,%3csvg%20width='47'%20height='16'%20viewBox='0%200%2047%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='47'%20height='16'%20rx='5'%20fill='%23D9D9D9'/%3e%3cpath%20d='M10.2179%207.18466L8.81161%207.33807C8.77184%207.19602%208.70224%207.0625%208.60281%206.9375C8.50621%206.8125%208.37553%206.71165%208.21076%206.63494C8.04599%206.55824%207.84428%206.51989%207.60565%206.51989C7.28462%206.51989%207.01474%206.58949%206.79599%206.72869C6.58008%206.8679%206.47354%207.0483%206.47639%207.26989C6.47354%207.46023%206.54315%207.61506%206.68519%207.73438C6.83008%207.85369%207.06871%207.9517%207.4011%208.02841L8.51758%208.26705C9.1369%208.40057%209.59712%208.61222%209.89826%208.90199C10.2022%209.19176%2010.3556%209.57102%2010.3585%2010.0398C10.3556%2010.4517%2010.2349%2010.8153%209.99627%2011.1307C9.76048%2011.4432%209.43235%2011.6875%209.0119%2011.8636C8.59144%2012.0398%208.10849%2012.1278%207.56303%2012.1278C6.7619%2012.1278%206.11701%2011.9602%205.62837%2011.625C5.13974%2011.2869%204.84854%2010.8168%204.75479%2010.2145L6.25906%2010.0696C6.32724%2010.3651%206.47212%2010.5881%206.69371%2010.7386C6.91531%2010.8892%207.20366%2010.9645%207.55877%2010.9645C7.92525%2010.9645%208.21928%2010.8892%208.44087%2010.7386C8.66531%2010.5881%208.77752%2010.402%208.77752%2010.1804C8.77752%209.9929%208.70508%209.83807%208.56019%209.71591C8.41815%209.59375%208.19656%209.5%207.89542%209.43466L6.77894%209.20028C6.1511%209.0696%205.68661%208.84943%205.38548%208.53977C5.08434%208.22727%204.93519%207.83239%204.93803%207.35511C4.93519%206.9517%205.04457%206.60227%205.26616%206.30682C5.49059%206.00852%205.80167%205.77841%206.1994%205.61648C6.59996%205.4517%207.06161%205.36932%207.58434%205.36932C8.35139%205.36932%208.95508%205.53267%209.39542%205.85938C9.8386%206.18608%2010.1127%206.62784%2010.2179%207.18466ZM15.8024%209.24716V5.45455H17.345V12H15.8493V10.8366H15.7811C15.6333%2011.2031%2015.3904%2011.5028%2015.0524%2011.7358C14.7172%2011.9687%2014.3038%2012.0852%2013.8123%2012.0852C13.3833%2012.0852%2013.0041%2011.9901%2012.6745%2011.7997C12.3478%2011.6065%2012.0922%2011.3267%2011.9075%2010.9602C11.7228%2010.5909%2011.6305%2010.1449%2011.6305%209.62216V5.45455H13.1731V9.38352C13.1731%209.7983%2013.2868%2010.1278%2013.514%2010.3722C13.7413%2010.6165%2014.0396%2010.7386%2014.4089%2010.7386C14.6362%2010.7386%2014.8564%2010.6832%2015.0694%2010.5724C15.2825%2010.4616%2015.4572%2010.2969%2015.5936%2010.0781C15.7328%209.85653%2015.8024%209.57955%2015.8024%209.24716ZM18.9313%2012V5.45455H20.4057V6.56676H20.4824C20.6188%206.19176%2020.8446%205.89915%2021.16%205.68892C21.4753%205.47585%2021.8517%205.36932%2022.2892%205.36932C22.7324%205.36932%2023.106%205.47727%2023.41%205.69318C23.7168%205.90625%2023.9327%206.19744%2024.0577%206.56676H24.1259C24.2708%206.20312%2024.5151%205.91335%2024.8588%205.69744C25.2054%205.47869%2025.6159%205.36932%2026.0904%205.36932C26.6926%205.36932%2027.1841%205.55966%2027.5648%205.94034C27.9455%206.32102%2028.1358%206.87642%2028.1358%207.60653V12H26.589V7.84517C26.589%207.43892%2026.481%207.14205%2026.2651%206.95455C26.0492%206.7642%2025.785%206.66903%2025.4725%206.66903C25.1003%206.66903%2024.8091%206.78551%2024.5989%207.01847C24.3915%207.24858%2024.2878%207.5483%2024.2878%207.91761V12H22.775V7.78125C22.775%207.44318%2022.6728%207.1733%2022.4682%206.97159C22.2665%206.76989%2022.0023%206.66903%2021.6756%206.66903C21.454%206.66903%2021.2523%206.72585%2021.0705%206.83949C20.8887%206.95028%2020.7438%207.10795%2020.6358%207.3125C20.5279%207.5142%2020.4739%207.75%2020.4739%208.01989V12H18.9313ZM35.8585%2011.6463H30.0289V10.3636H35.8585V11.6463ZM30.0289%208.11364V6.88636L35.8585%205.14773V6.42614L31.9423%207.48295L31.9892%207.40199V7.59801L31.9423%207.51705L35.8585%208.57386V9.85227L30.0289%208.11364ZM41.3077%203.27273V12H39.7267V4.81108H39.6756L37.6344%206.11506V4.66619L39.8034%203.27273H41.3077Z'%20fill='black'/%3e%3c/svg%3e";function $e(t){t.collapsed===void 0&&(t.collapsed=!1),t.children&&t.children.forEach(e=>$e(e))}function ln(t){return["Duration Encoded along Timelines","Cross-track Dependencies","Discrete Tracks","Gantts"].includes(t.name)}function wt(t,e){return t.name==="Gantts"?!!(wt(t.children[0],e)&&wt(t.children[1],e)&&wt(t.children[2],e)):e.includes(t.name)?!0:t.children?t.children.some(n=>wt(n,e)):!1}function Pn(t,e){let n=!1;return e.has(t.name)&&(t.collapsed=!1,n=!0),t.children&&t.children.forEach(r=>{const i=Pn(r,e);n=n||i}),n&&(t.collapsed=!1),n}function qn(t,e,n){if(!t.children||t.children.length===0)return t.data.wid=1,t.data.size=[e,n],1;const r=t.children.reduce((i,s)=>i+qn(s,e,n),0);return t.data.wid=r,t.data.size=[e*r,n],r}function Ha(t,e=[],n){$e(n);const r=rt(t);r.selectAll("*").remove();const i=r.append("g").attr("class","nodes"),s=r.append("g").attr("class","operators"),o=100,a=42,u=5,l=10,h=5,_=7,v=500,k=new Set(e);Pn(n,k);function I(){$e(n);const H=Ve(n,c=>c.collapsed?null:c.children);qn(H,o,a);const R=Fn({})(H),Z=Xe(R.descendants(),c=>c.x)-o,G=Xe(R.descendants(),c=>c.y)-a,et=R.descendants(),J=i.selectAll(".node").data(et,c=>c.data.name);J.enter().append("g").attr("class","node").attr("transform",c=>(c.data.size&&c.data.size[0],`translate(${c.x-Z},${c.y-G})`)).each(function(c){const b=rt(this),y=c.data.size?c.data.size[0]:o,$=-y/2;if(b.append("path").attr("class","top-line").attr("d",`
          M ${$+u} 0 H ${$+y-u}
          M ${$+u} 0 V ${l}
          M ${$+y-u} 0 V ${l}
        `).attr("stroke-width",c.data.collapsed?3:1).attr("stroke","black").attr("fill","none"),c.children&&c.children.length>0&&(b.append("path").attr("class","left-line").attr("d",`
            M ${$+u} ${l} V ${a}
            M ${$+u} ${a} l -${h} -${h}
            M ${$+u} ${a} l ${h} -${h}
          `).attr("stroke","lightgray").attr("fill","none").attr("stroke-dasharray","5,5"),b.append("path").attr("class","right-line").attr("d",`
            M ${$+y-u} ${l} V ${a}
            M ${$+y-u} ${a} l ${h} -${h}
            M ${$+y-u} ${a} l -${h} -${h}
          `).attr("stroke","lightgray").attr("fill","none").attr("stroke-dasharray","5,5")),b.append("text").attr("class","node-text").attr("x",0).attr("y",-42/2+_).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("fill",e.includes(c.data.name)||wt(c.data,e)?"white":"black").style("font-weight",e.includes(c.data.name)||wt(c.data,e)?600:"normal").style("cursor",c.data.description?"help":"default").text(c.data.displayName?c.data.displayName:c.data.name).on("mouseover",function(d){if(c.data.description){const x=r.append("g").attr("class","tooltip").style("pointer-events","none");let m=Math.min(c.data.description.length*7,300);m=Math.max(m,100),x.append("rect").attr("fill","white").attr("stroke","#ccc").attr("rx",4).attr("ry",4).style("opacity",.95);const C=x.append("text").attr("fill","black").attr("font-size","17px").attr("dy","1em").style("pointer-events","none"),w=c.data.description.split(/\s+/);let M="",E=0;const A=18,S=6;w.forEach(O=>{const Y=M+(M?" ":"")+O;Y.length*7>m-S*2?(C.append("tspan").attr("x",S).attr("y",S+E*A).attr("dy",E===0?"1em":1.2*A+"px").text(M),M=O,E++):M=Y}),C.append("tspan").attr("x",S).attr("y",S+E*A).attr("dy",E===0?"1em":1.2*A+"px").text(M);const T=C.node().getBBox();x.select("rect").attr("width",T.width+S*2).attr("height",T.height+S*2);const[F,B]=xt(d,r.node());x.attr("transform",`translate(${F+10}, ${B+-10})`)}}).on("mousemove",function(d){if(c.data.description){const[x,g]=xt(d,r.node());r.select(".tooltip").attr("transform",`translate(${x+10}, ${g+-10})`)}}).on("mouseout",function(){c.data.description&&r.select(".tooltip").remove()}).each(function(){!wt(c.data,e)&&!ln(c.data)&&e.length>0&&c.children&&(c.data.collapsed=!0);const d=this,x=d.getComputedTextLength();let g=1;if(x>y*.75&&(g=y*.75/x,d.setAttribute("transform",`scale(${g})`)),e.includes(c.data.name)||wt(c.data,e)){const m=d.getBBox();if(d.parentNode!==null){const C=d.parentNode;rt(C).insert("rect","text").attr("class","node-text-rect").attr("x",m.x).attr("y",m.y).attr("width",m.width).attr("height",m.height).attr("fill","#86BA80").attr("stroke","#86BA80").attr("transform",g!==1?`scale(${g})`:null)}}if(ln(c.data)&&!wt(c.data,e)&&e.length>0){const m=d.getBBox();if(d.parentNode!==null){const C=d.parentNode;rt(C).insert("rect","text").attr("class","node-text-rect").attr("x",m.x).attr("y",m.y).attr("width",m.width).attr("height",m.height).attr("fill","#D9D9D9").attr("stroke","#D9D9D9").attr("transform",g!==1?`scale(${g})`:null)}}}),c.data.sum!=="None"){let d="";c.data.sum==="EQUAL"?d=Va:c.data.sum==="LESS"&&(d=Oa),b.append("image").attr("class","sum-image").attr("href",d).attr("x",-40/2).attr("y",20/2-12.5).attr("width",40).attr("height",20)}c.data.children&&c.data.children.length>0&&b.append("rect").attr("class","clickable-area").attr("x",$+u).attr("y",0).attr("width",y-2*u).attr("height",l+10).attr("fill","transparent").style("cursor","pointer").on("click",function(d){d.stopPropagation(),c.data.collapsed=!c.data.collapsed,I()})}),J.transition().duration(v).attr("transform",c=>(c.data.size&&c.data.size[0],`translate(${c.x-Z},${c.y-G})`)).each(function(c){const b=rt(this),y=c.data.size?c.data.size[0]:o,$=-y/2,d=`
          M ${$+u} 0 H ${$+y-u}
          M ${$+u} 0 V ${l}
          M ${$+y-u} 0 V ${l}
        `;b.select(".top-line").transition().duration(v).attrTween("d",function(){const g=this.getAttribute("d")??"";return An(g,d)}).attr("stroke-width",c.data.collapsed?3:1),b.select(".clickable-area").transition().duration(v).attr("width",y-2*u).attr("x",$+u),!c.data.collapsed&&c.children&&c.children.length>0?(b.select(".left-line").attr("d",`
              M ${$+u} ${l} V ${a}
              M ${$+u} ${a} l -${h} -${h}
              M ${$+u} ${a} l ${h} -${h}
            `),b.select(".right-line").attr("d",`
              M ${$+y-u} ${l} V ${a}
              M ${$+y-u} ${a} l ${h} -${h}
              M ${$+y-u} ${a} l -${h} -${h}
            `)):(b.select(".left-line").attr("d",null),b.select(".right-line").attr("d",null)),b.select(".node-text").each(function(){const x=this;x.removeAttribute("transform");const g=x.getBBox().width,m=x.parentNode;if(g>y*.75){const C=y*.75/g;if(m){const w=m.querySelector(".node-text-rect");w&&w.setAttribute("transform",`scale(${C})`)}x.setAttribute("transform",`scale(${C})`)}else if(m){const C=m.querySelector(".node-text-rect");C&&C.removeAttribute("transform")}})}),J.exit().transition().duration(v).style("opacity",0).remove();let V=[];et.forEach(c=>{if(c.children&&c.children.length>1&&c.data.logicalOperators&&c.data.logicalOperators.length>0){const b=Math.min(c.children.length-1,c.data.logicalOperators.length);for(let y=0;y<b;y++){const $=c.children[y],d=c.children[y+1],x=$.data.size?$.data.size[0]:o,g=d.data.size?d.data.size[0]:o,m=($.x-Z+x/2+(d.x-Z-g/2))/2,C=c.y-G+a/2+_;V.push({key:c.data.name+"_"+y,operator:c.data.logicalOperators[y],x:m,y:C})}}});const f=s.selectAll("image.operator").data(V,c=>c.key);f.enter().append("image").attr("class","operator").attr("width",20).attr("height",20).attr("href",c=>c.operator==="AND"?Ia:c.operator==="OR"?Da:"").attr("x",c=>c.x-10).attr("y",c=>c.y-10).style("opacity",0).transition().duration(v).style("opacity",1),f.transition().duration(v).attr("x",c=>c.x-10).attr("y",c=>c.y-10),f.exit().transition().duration(v).style("opacity",0).remove()}I()}const La={class:"svg-container"},Fa=cn({__name:"DesignspaceView",props:{projectionList:{},dstreeData:{}},setup(t){const e=t,n=Ft(null),r=Ft(null);let i=null;const s=()=>{n.value&&rt(n.value).selectAll("*").remove()},o=()=>{if(!r.value)return;const u=rt(r.value);i=qo().on("zoom",l=>{rt(n.value).attr("transform",l.transform)}),u.call(i)},a=()=>{n.value&&(s(),Ha(n.value,e.projectionList,e.dstreeData))};return hn(()=>{o(),a()}),Un(()=>[...e.projectionList],(u,l)=>{(u.length!==l.length||JSON.stringify(u)!==JSON.stringify(l))&&a()}),(u,l)=>(at(),ct("div",La,[(at(),ct("svg",{id:"mainsvg",ref_key:"svgDSV",ref:r},[ot("g",{ref_key:"gElement",ref:n},null,512)],512))]))}}),Ba=Ae(Fa,[["__scopeId","data-v-c3434ad7"]]);function Xa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ee={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var Pa=ee.exports,un;function qa(){return un||(un=1,function(t,e){((n,r)=>{t.exports=r()})(Pa,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},u=0,l={};function h(f){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(p){var c=J(p);c.chunkSize=parseInt(c.chunkSize),p.step||p.chunk||(c.chunkSize=null),this._handle=new H(c),(this._handle.streamer=this)._config=c}).call(this,f),this.parseChunk=function(p,c){var b=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<b){let $=this._config.newline;$||(y=this._config.quoteChar||'"',$=this._handle.guessLineEndings(p,y)),p=[...p.split($).slice(b)].join($)}this.isFirstChunk&&V(this._config.beforeFirstChunk)&&(y=this._config.beforeFirstChunk(p))!==void 0&&(p=y),this.isFirstChunk=!1,this._halted=!1;var b=this._partialLine+p,y=(this._partialLine="",this._handle.parse(b,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(p=y.meta.cursor,b=(this._finished||(this._partialLine=b.substring(p-this._baseIndex),this._baseIndex=p),y&&y.data&&(this._rowCount+=y.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:y,workerId:l.WORKER_ID,finished:b});else if(V(this._config.chunk)&&!c){if(this._config.chunk(y,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=y=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(y.data),this._completeResults.errors=this._completeResults.errors.concat(y.errors),this._completeResults.meta=y.meta),this._completed||!b||!V(this._config.complete)||y&&y.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),b||y&&y.meta.paused||this._nextChunk(),y}this._halted=!0},this._sendError=function(p){V(this._config.error)?this._config.error(p):o&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:p,finished:!1})}}function _(f){var p;(f=f||{}).chunkSize||(f.chunkSize=l.RemoteChunkSize),h.call(this,f),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(c){this._input=c,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(p=new XMLHttpRequest,this._config.withCredentials&&(p.withCredentials=this._config.withCredentials),s||(p.onload=Q(this._chunkLoaded,this),p.onerror=Q(this._chunkError,this)),p.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var c,b=this._config.downloadRequestHeaders;for(c in b)p.setRequestHeader(c,b[c])}var y;this._config.chunkSize&&(y=this._start+this._config.chunkSize-1,p.setRequestHeader("Range","bytes="+this._start+"-"+y));try{p.send(this._config.downloadRequestBody)}catch($){this._chunkError($.message)}s&&p.status===0&&this._chunkError()}},this._chunkLoaded=function(){p.readyState===4&&(p.status<200||400<=p.status?this._chunkError():(this._start+=this._config.chunkSize||p.responseText.length,this._finished=!this._config.chunkSize||this._start>=(c=>(c=c.getResponseHeader("Content-Range"))!==null?parseInt(c.substring(c.lastIndexOf("/")+1)):-1)(p),this.parseChunk(p.responseText)))},this._chunkError=function(c){c=p.statusText||c,this._sendError(new Error(c))}}function v(f){(f=f||{}).chunkSize||(f.chunkSize=l.LocalChunkSize),h.call(this,f);var p,c,b=typeof FileReader<"u";this.stream=function(y){this._input=y,c=y.slice||y.webkitSlice||y.mozSlice,b?((p=new FileReader).onload=Q(this._chunkLoaded,this),p.onerror=Q(this._chunkError,this)):p=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var y=this._input,$=(this._config.chunkSize&&($=Math.min(this._start+this._config.chunkSize,this._input.size),y=c.call(y,this._start,$)),p.readAsText(y,this._config.encoding));b||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(y){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(y.target.result)},this._chunkError=function(){this._sendError(p.error)}}function k(f){var p;h.call(this,f=f||{}),this.stream=function(c){return p=c,this._nextChunk()},this._nextChunk=function(){var c,b;if(!this._finished)return c=this._config.chunkSize,p=c?(b=p.substring(0,c),p.substring(c)):(b=p,""),this._finished=!p,this.parseChunk(b)}}function I(f){h.call(this,f=f||{});var p=[],c=!0,b=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(y){this._input=y,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){b&&p.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),p.length?this.parseChunk(p.shift()):c=!0},this._streamData=Q(function(y){try{p.push(typeof y=="string"?y:y.toString(this._config.encoding)),c&&(c=!1,this._checkIsFinished(),this.parseChunk(p.shift()))}catch($){this._streamError($)}},this),this._streamError=Q(function(y){this._streamCleanUp(),this._sendError(y)},this),this._streamEnd=Q(function(){this._streamCleanUp(),b=!0,this._streamData("")},this),this._streamCleanUp=Q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function H(f){var p,c,b,y,$=Math.pow(2,53),d=-$,x=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,g=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,m=this,C=0,w=0,M=!1,E=!1,A=[],S={data:[],errors:[],meta:{}};function T(z){return f.skipEmptyLines==="greedy"?z.join("").trim()==="":z.length===1&&z[0].length===0}function F(){if(S&&b&&(U("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),b=!1),f.skipEmptyLines&&(S.data=S.data.filter(function(N){return!T(N)})),B()){let N=function(K,j){V(f.transformHeader)&&(K=f.transformHeader(K,j)),A.push(K)};if(S)if(Array.isArray(S.data[0])){for(var z=0;B()&&z<S.data.length;z++)S.data[z].forEach(N);S.data.splice(0,1)}else S.data.forEach(N)}function O(N,K){for(var j=f.header?{}:[],P=0;P<N.length;P++){var q=P,L=N[P],L=((ut,D)=>(W=>(f.dynamicTypingFunction&&f.dynamicTyping[W]===void 0&&(f.dynamicTyping[W]=f.dynamicTypingFunction(W)),(f.dynamicTyping[W]||f.dynamicTyping)===!0))(ut)?D==="true"||D==="TRUE"||D!=="false"&&D!=="FALSE"&&((W=>{if(x.test(W)&&(W=parseFloat(W),d<W&&W<$))return 1})(D)?parseFloat(D):g.test(D)?new Date(D):D===""?null:D):D)(q=f.header?P>=A.length?"__parsed_extra":A[P]:q,L=f.transform?f.transform(L,q):L);q==="__parsed_extra"?(j[q]=j[q]||[],j[q].push(L)):j[q]=L}return f.header&&(P>A.length?U("FieldMismatch","TooManyFields","Too many fields: expected "+A.length+" fields but parsed "+P,w+K):P<A.length&&U("FieldMismatch","TooFewFields","Too few fields: expected "+A.length+" fields but parsed "+P,w+K)),j}var Y;S&&(f.header||f.dynamicTyping||f.transform)&&(Y=1,!S.data.length||Array.isArray(S.data[0])?(S.data=S.data.map(O),Y=S.data.length):S.data=O(S.data,0),f.header&&S.meta&&(S.meta.fields=A),w+=Y)}function B(){return f.header&&A.length===0}function U(z,O,Y,N){z={type:z,code:O,message:Y},N!==void 0&&(z.row=N),S.errors.push(z)}V(f.step)&&(y=f.step,f.step=function(z){S=z,B()?F():(F(),S.data.length!==0&&(C+=z.data.length,f.preview&&C>f.preview?c.abort():(S.data=S.data[0],y(S,m))))}),this.parse=function(z,O,Y){var N=f.quoteChar||'"',N=(f.newline||(f.newline=this.guessLineEndings(z,N)),b=!1,f.delimiter?V(f.delimiter)&&(f.delimiter=f.delimiter(z),S.meta.delimiter=f.delimiter):((N=((K,j,P,q,L)=>{var ut,D,W,kt;L=L||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Mt=0;Mt<L.length;Mt++){for(var dt,Dt=L[Mt],nt=0,pt=0,tt=0,it=(W=void 0,new R({comments:q,delimiter:Dt,newline:j,preview:10}).parse(K)),yt=0;yt<it.data.length;yt++)P&&T(it.data[yt])?tt++:(dt=it.data[yt].length,pt+=dt,W===void 0?W=dt:0<dt&&(nt+=Math.abs(dt-W),W=dt));0<it.data.length&&(pt/=it.data.length-tt),(D===void 0||nt<=D)&&(kt===void 0||kt<pt)&&1.99<pt&&(D=nt,ut=Dt,kt=pt)}return{successful:!!(f.delimiter=ut),bestDelimiter:ut}})(z,f.newline,f.skipEmptyLines,f.comments,f.delimitersToGuess)).successful?f.delimiter=N.bestDelimiter:(b=!0,f.delimiter=l.DefaultDelimiter),S.meta.delimiter=f.delimiter),J(f));return f.preview&&f.header&&N.preview++,p=z,c=new R(N),S=c.parse(p,O,Y),F(),M?{meta:{paused:!0}}:S||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,c.abort(),p=V(f.chunk)?"":p.substring(c.getCharIndex())},this.resume=function(){m.streamer._halted?(M=!1,m.streamer.parseChunk(p,!0)):setTimeout(m.resume,3)},this.aborted=function(){return E},this.abort=function(){E=!0,c.abort(),S.meta.aborted=!0,V(f.complete)&&f.complete(S),p=""},this.guessLineEndings=function(K,N){K=K.substring(0,1048576);var N=new RegExp(X(N)+"([^]*?)"+X(N),"gm"),Y=(K=K.replace(N,"")).split("\r"),N=K.split(`
`),K=1<N.length&&N[0].length<Y[0].length;if(Y.length===1||K)return`
`;for(var j=0,P=0;P<Y.length;P++)Y[P][0]===`
`&&j++;return j>=Y.length/2?`\r
`:"\r"}}function X(f){return f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(f){var p=(f=f||{}).delimiter,c=f.newline,b=f.comments,y=f.step,$=f.preview,d=f.fastMode,x=null,g=!1,m=f.quoteChar==null?'"':f.quoteChar,C=m;if(f.escapeChar!==void 0&&(C=f.escapeChar),(typeof p!="string"||-1<l.BAD_DELIMITERS.indexOf(p))&&(p=","),b===p)throw new Error("Comment character same as delimiter");b===!0?b="#":(typeof b!="string"||-1<l.BAD_DELIMITERS.indexOf(b))&&(b=!1),c!==`
`&&c!=="\r"&&c!==`\r
`&&(c=`
`);var w=0,M=!1;this.parse=function(E,A,S){if(typeof E!="string")throw new Error("Input must be a string");var T=E.length,F=p.length,B=c.length,U=b.length,z=V(y),O=[],Y=[],N=[],K=w=0;if(!E)return nt();if(d||d!==!1&&E.indexOf(m)===-1){for(var j=E.split(c),P=0;P<j.length;P++){if(N=j[P],w+=N.length,P!==j.length-1)w+=c.length;else if(S)return nt();if(!b||N.substring(0,U)!==b){if(z){if(O=[],kt(N.split(p)),pt(),M)return nt()}else kt(N.split(p));if($&&$<=P)return O=O.slice(0,$),nt(!0)}}return nt()}for(var q=E.indexOf(p,w),L=E.indexOf(c,w),ut=new RegExp(X(C)+X(m),"g"),D=E.indexOf(m,w);;)if(E[w]===m)for(D=w,w++;;){if((D=E.indexOf(m,D+1))===-1)return S||Y.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:O.length,index:w}),dt();if(D===T-1)return dt(E.substring(w,D).replace(ut,m));if(m===C&&E[D+1]===C)D++;else if(m===C||D===0||E[D-1]!==C){q!==-1&&q<D+1&&(q=E.indexOf(p,D+1));var W=Mt((L=L!==-1&&L<D+1?E.indexOf(c,D+1):L)===-1?q:Math.min(q,L));if(E.substr(D+1+W,F)===p){N.push(E.substring(w,D).replace(ut,m)),E[w=D+1+W+F]!==m&&(D=E.indexOf(m,w)),q=E.indexOf(p,w),L=E.indexOf(c,w);break}if(W=Mt(L),E.substring(D+1+W,D+1+W+B)===c){if(N.push(E.substring(w,D).replace(ut,m)),Dt(D+1+W+B),q=E.indexOf(p,w),D=E.indexOf(m,w),z&&(pt(),M))return nt();if($&&O.length>=$)return nt(!0);break}Y.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:O.length,index:w}),D++}}else if(b&&N.length===0&&E.substring(w,w+U)===b){if(L===-1)return nt();w=L+B,L=E.indexOf(c,w),q=E.indexOf(p,w)}else if(q!==-1&&(q<L||L===-1))N.push(E.substring(w,q)),w=q+F,q=E.indexOf(p,w);else{if(L===-1)break;if(N.push(E.substring(w,L)),Dt(L+B),z&&(pt(),M))return nt();if($&&O.length>=$)return nt(!0)}return dt();function kt(tt){O.push(tt),K=w}function Mt(tt){var it=0;return it=tt!==-1&&(tt=E.substring(D+1,tt))&&tt.trim()===""?tt.length:it}function dt(tt){return S||(tt===void 0&&(tt=E.substring(w)),N.push(tt),w=T,kt(N),z&&pt()),nt()}function Dt(tt){w=tt,kt(N),N=[],L=E.indexOf(c,w)}function nt(tt){if(f.header&&!A&&O.length&&!g){var it=O[0],yt={},de=new Set(it);let He=!1;for(let Rt=0;Rt<it.length;Rt++){let gt=it[Rt];if(yt[gt=V(f.transformHeader)?f.transformHeader(gt,Rt):gt]){let It,Le=yt[gt];for(;It=gt+"_"+Le,Le++,de.has(It););de.add(It),it[Rt]=It,yt[gt]++,He=!0,(x=x===null?{}:x)[It]=gt}else yt[gt]=1,it[Rt]=gt;de.add(gt)}He&&console.warn("Duplicate headers found and renamed."),g=!0}return{data:O,errors:Y,meta:{delimiter:p,linebreak:c,aborted:M,truncated:!!tt,cursor:K+(A||0),renamedHeaders:x}}}function pt(){y(nt()),O=[],Y=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return w}}function Z(f){var p=f.data,c=a[p.workerId],b=!1;if(p.error)c.userError(p.error,p.file);else if(p.results&&p.results.data){var y={abort:function(){b=!0,G(p.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:et,resume:et};if(V(c.userStep)){for(var $=0;$<p.results.data.length&&(c.userStep({data:p.results.data[$],errors:p.results.errors,meta:p.results.meta},y),!b);$++);delete p.results}else V(c.userChunk)&&(c.userChunk(p.results,y,p.file),delete p.results)}p.finished&&!b&&G(p.workerId,p.results)}function G(f,p){var c=a[f];V(c.userComplete)&&c.userComplete(p),c.terminate(),delete a[f]}function et(){throw new Error("Not implemented.")}function J(f){if(typeof f!="object"||f===null)return f;var p,c=Array.isArray(f)?[]:{};for(p in f)c[p]=J(f[p]);return c}function Q(f,p){return function(){f.apply(p,arguments)}}function V(f){return typeof f=="function"}return l.parse=function(f,p){var c=(p=p||{}).dynamicTyping||!1;if(V(c)&&(p.dynamicTypingFunction=c,c={}),p.dynamicTyping=c,p.transform=!!V(p.transform)&&p.transform,!p.worker||!l.WORKERS_SUPPORTED)return c=null,l.NODE_STREAM_INPUT,typeof f=="string"?(f=(b=>b.charCodeAt(0)!==65279?b:b.slice(1))(f),c=new(p.download?_:k)(p)):f.readable===!0&&V(f.read)&&V(f.on)?c=new I(p):(r.File&&f instanceof File||f instanceof Object)&&(c=new v(p)),c.stream(f);(c=(()=>{var b;return!!l.WORKERS_SUPPORTED&&(b=(()=>{var y=r.URL||r.webkitURL||null,$=n.toString();return l.BLOB_URL||(l.BLOB_URL=y.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",$,")();"],{type:"text/javascript"})))})(),(b=new r.Worker(b)).onmessage=Z,b.id=u++,a[b.id]=b)})()).userStep=p.step,c.userChunk=p.chunk,c.userComplete=p.complete,c.userError=p.error,p.step=V(p.step),p.chunk=V(p.chunk),p.complete=V(p.complete),p.error=V(p.error),delete p.worker,c.postMessage({input:f,config:p,workerId:c.id})},l.unparse=function(f,p){var c=!1,b=!0,y=",",$=`\r
`,d='"',x=d+d,g=!1,m=null,C=!1,w=((()=>{if(typeof p=="object"){if(typeof p.delimiter!="string"||l.BAD_DELIMITERS.filter(function(A){return p.delimiter.indexOf(A)!==-1}).length||(y=p.delimiter),typeof p.quotes!="boolean"&&typeof p.quotes!="function"&&!Array.isArray(p.quotes)||(c=p.quotes),typeof p.skipEmptyLines!="boolean"&&typeof p.skipEmptyLines!="string"||(g=p.skipEmptyLines),typeof p.newline=="string"&&($=p.newline),typeof p.quoteChar=="string"&&(d=p.quoteChar),typeof p.header=="boolean"&&(b=p.header),Array.isArray(p.columns)){if(p.columns.length===0)throw new Error("Option columns is empty");m=p.columns}p.escapeChar!==void 0&&(x=p.escapeChar+d),p.escapeFormulae instanceof RegExp?C=p.escapeFormulae:typeof p.escapeFormulae=="boolean"&&p.escapeFormulae&&(C=/^[=+\-@\t\r].*$/)}})(),new RegExp(X(d),"g"));if(typeof f=="string"&&(f=JSON.parse(f)),Array.isArray(f)){if(!f.length||Array.isArray(f[0]))return M(null,f,g);if(typeof f[0]=="object")return M(m||Object.keys(f[0]),f,g)}else if(typeof f=="object")return typeof f.data=="string"&&(f.data=JSON.parse(f.data)),Array.isArray(f.data)&&(f.fields||(f.fields=f.meta&&f.meta.fields||m),f.fields||(f.fields=Array.isArray(f.data[0])?f.fields:typeof f.data[0]=="object"?Object.keys(f.data[0]):[]),Array.isArray(f.data[0])||typeof f.data[0]=="object"||(f.data=[f.data])),M(f.fields||[],f.data||[],g);throw new Error("Unable to serialize unrecognized input");function M(A,S,T){var F="",B=(typeof A=="string"&&(A=JSON.parse(A)),typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(A)&&0<A.length),U=!Array.isArray(S[0]);if(B&&b){for(var z=0;z<A.length;z++)0<z&&(F+=y),F+=E(A[z],z);0<S.length&&(F+=$)}for(var O=0;O<S.length;O++){var Y=(B?A:S[O]).length,N=!1,K=B?Object.keys(S[O]).length===0:S[O].length===0;if(T&&!B&&(N=T==="greedy"?S[O].join("").trim()==="":S[O].length===1&&S[O][0].length===0),T==="greedy"&&B){for(var j=[],P=0;P<Y;P++){var q=U?A[P]:P;j.push(S[O][q])}N=j.join("").trim()===""}if(!N){for(var L=0;L<Y;L++){0<L&&!K&&(F+=y);var ut=B&&U?A[L]:L;F+=E(S[O][ut],L)}O<S.length-1&&(!T||0<Y&&!K)&&(F+=$)}}return F}function E(A,S){var T,F;return A==null?"":A.constructor===Date?JSON.stringify(A).slice(1,25):(F=!1,C&&typeof A=="string"&&C.test(A)&&(A="'"+A,F=!0),T=A.toString().replace(w,x),(F=F||c===!0||typeof c=="function"&&c(A,S)||Array.isArray(c)&&c[S]||((B,U)=>{for(var z=0;z<U.length;z++)if(-1<B.indexOf(U[z]))return!0;return!1})(T,l.BAD_DELIMITERS)||-1<T.indexOf(y)||T.charAt(0)===" "||T.charAt(T.length-1)===" ")?d+T+d:T)}},l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=R,l.ParserHandle=H,l.NetworkStreamer=_,l.FileStreamer=v,l.StringStreamer=k,l.ReadableStreamStreamer=I,r.jQuery&&((i=r.jQuery).fn.parse=function(f){var p=f.config||{},c=[];return this.each(function($){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var d=0;d<this.files.length;d++)c.push({file:this.files[d],inputElem:this,instanceConfig:i.extend({},p)})}),b(),this;function b(){if(c.length===0)V(f.complete)&&f.complete();else{var $,d,x,g,m=c[0];if(V(f.before)){var C=f.before(m.file,m.inputElem);if(typeof C=="object"){if(C.action==="abort")return $="AbortError",d=m.file,x=m.inputElem,g=C.reason,void(V(f.error)&&f.error({name:$},d,x,g));if(C.action==="skip")return void y();typeof C.config=="object"&&(m.instanceConfig=i.extend(m.instanceConfig,C.config))}else if(C==="skip")return void y()}var w=m.instanceConfig.complete;m.instanceConfig.complete=function(M){V(w)&&w(M,m.file,m.inputElem),y()},l.parse(m.file,m.instanceConfig)}}function y(){c.splice(0,1),b()}}),o&&(r.onmessage=function(f){f=f.data,l.WORKER_ID===void 0&&f&&(l.WORKER_ID=f.workerId),typeof f.input=="string"?r.postMessage({workerId:l.WORKER_ID,results:l.parse(f.input,f.config),finished:!0}):(r.File&&f.input instanceof File||f.input instanceof Object)&&(f=l.parse(f.input,f.config))&&r.postMessage({workerId:l.WORKER_ID,results:f,finished:!0})}),(_.prototype=Object.create(h.prototype)).constructor=_,(v.prototype=Object.create(h.prototype)).constructor=v,(k.prototype=Object.create(k.prototype)).constructor=k,(I.prototype=Object.create(h.prototype)).constructor=I,l})}(ee)),ee.exports}var Ua=qa();const Ya=Xa(Ua),Za={name:"GalleryView",props:{csvData:{type:String,required:!0}},data(){return{parsedData:[],selectedItemId:null,expandedItemId:null}},computed:{selectedItem(){return this.parsedData.find(t=>t.id===this.selectedItemId)}},watch:{csvData:{immediate:!0,handler(t){this.parseCSV(t)}}},methods:{parseCSV(t){Ya.parse(t,{header:!0,skipEmptyLines:!0,complete:e=>{this.parsedData=e.data.map(n=>({...n,id:n["#"],projection:this.parseProjection(n.projection)}))},error:e=>{console.error("CSV:",e)}})},parseProjection(t){try{return t.replace(/^\[|\]$/g,"").split(",").map(e=>e.trim()).filter(Boolean)}catch{return[]}},hasValidImage(t){return t.image&&t.image.toLowerCase()!=="nan"},itemStyle(t){return{width:this.hasValidImage(t)?"auto":"200px",height:"100px"}},handleItemClick(t){this.selectedItemId=t.id,this.$emit("item-selected",t.projection)},toggleExpand(t){this.selectedItemId=t.id,this.$emit("item-selected",t.projection),this.expandedItemId===t.id?this.expandedItemId=null:this.expandedItemId=t.id}}},Wa={class:"gallery-wrapper"},Ka={class:"info-panel"},Ga={class:"info-content"},Qa={key:0},Ja={class:"item-link"},ja=["href"],t0={class:"item-description"},e0={key:1},n0={class:"gallery-panel"},r0={class:"gallery-container"},i0=["onClick"],s0=["onClick"],o0=["src"],a0={key:1,class:"default-item"};function l0(t,e,n,r,i,s){return at(),ct("div",Wa,[ot("div",Ka,[ot("div",Ga,[s.selectedItem?(at(),ct("div",Qa,[ot("div",Ja,[ot("a",{href:s.selectedItem.link,target:"_blank"},pe(s.selectedItem.link),9,ja)]),ot("div",t0,pe(s.selectedItem.description),1)])):(at(),ct("div",e0,e[0]||(e[0]=[ot("p",null,"please select an item",-1)])))])]),ot("div",n0,[ot("div",r0,[(at(!0),ct(Yn,null,Zn(i.parsedData,o=>(at(),ct("div",{key:o.id,class:Wn(["gallery-item",{selected:o.id===i.selectedItemId,expanded:o.id===i.expandedItemId}]),onClick:a=>s.handleItemClick(o)},[ot("div",{class:"item-inner",onClick:Kn(a=>s.toggleExpand(o),["stop"])},[s.hasValidImage(o)?(at(),ct("img",{key:0,src:o.image,alt:"Projection preview",class:"gallery-image"},null,8,o0)):(at(),ct("div",a0,pe("NaN")))],8,s0)],10,i0))),128))])])])}const u0=Ae(Za,[["render",l0],["__scopeId","data-v-a011ff17"]]);async function c0(){try{const t=await fetch("https://raw.githubusercontent.com/hconhisway/DesignSpaceInteractive/refs/heads/main/src/assets/dstree.json");if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const e=await t.json();return console.log(e),e}catch(t){return console.error("Error fetching dstree.json:",t),null}}const h0=cn({components:{GalleryView:u0,DesignSpaceView:Ba},setup(){const t=Ft(""),e=Ft([]),n=Ft(null);(async()=>n.value=await c0())();const r=async()=>{try{const s=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vRgVvRNgeNqgC1yObFsqNq0sKTkIPTJ_nI10fdhw75zXZ8ZtRyMFkZ2CR7awzDx4udBe243GwFuNlip/pub?gid=1078384481&single=true&output=csv");if(!s.ok)throw new Error("Failed to load CSV from Google Sheets");t.value=await s.text()}catch(s){console.error("Error loading CSV:",s)}},i=s=>{e.value=s};return hn(()=>{r()}),{rawCsvData:t,currentProjection:e,dstreeData:n,handleProjectionSelect:i}}}),f0={class:"designspace"},d0={class:"column"},p0={class:"column"},g0={key:0,class:"loading"};function m0(t,e,n,r,i,s){const o=Be("DesignSpaceView"),a=Be("GalleryView");return at(),ct("div",f0,[ot("div",d0,[t.dstreeData?(at(),Fe(o,{key:0,"projection-list":t.currentProjection,"dstree-data":t.dstreeData},null,8,["projection-list","dstree-data"])):Gn("",!0)]),e[0]||(e[0]=ot("div",{class:"divider"},null,-1)),ot("div",p0,[t.rawCsvData?(at(),Fe(a,{key:1,"csv-data":t.rawCsvData,onItemSelected:t.handleProjectionSelect},null,8,["csv-data","onItemSelected"])):(at(),ct("div",g0,"Loading data..."))])])}const y0=Ae(h0,[["render",m0],["__scopeId","data-v-f75ad1a2"]]);export{y0 as default};
