import{d as un,r as Ft,b as cn,w as qn,o as ot,c as ut,a as ct,_ as Ae,t as Yt,F as Un,e as Zn,n as Yn,f as Kn,g as Fe,h as Wn,i as Be}from"./index-DrP117QW.js";function Xe(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}var Gn={value:()=>{}};function Re(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new jt(n)}function jt(t){this._=t}function Qn(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}jt.prototype=Re.prototype={constructor:jt,on:function(t,e){var n=this._,r=Qn(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=jn(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Pe(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Pe(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new jt(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function jn(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Pe(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Gn,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ye="http://www.w3.org/1999/xhtml";const qe={svg:"http://www.w3.org/2000/svg",xhtml:ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function he(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),qe.hasOwnProperty(e)?{space:qe[e],local:t}:t}function Jn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ye&&e.documentElement.namespaceURI===ye?e.createElement(t):e.createElementNS(n,t)}}function tr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function hn(t){var e=he(t);return(e.local?tr:Jn)(e)}function er(){}function Me(t){return t==null?er:function(){return this.querySelector(t)}}function nr(t){typeof t!="function"&&(t=Me(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),u,l,h=0;h<o;++h)(u=s[h])&&(l=t.call(u,u.__data__,h,s))&&("__data__"in u&&(l.__data__=u.__data__),a[h]=l);return new at(r,this._parents)}function rr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ir(){return[]}function fn(t){return t==null?ir:function(){return this.querySelectorAll(t)}}function sr(t){return function(){return rr(t.apply(this,arguments))}}function or(t){typeof t=="function"?t=sr(t):t=fn(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(t.call(u,u.__data__,l,o)),i.push(u));return new at(r,i)}function dn(t){return function(){return this.matches(t)}}function pn(t){return function(e){return e.matches(t)}}var ar=Array.prototype.find;function lr(t){return function(){return ar.call(this.children,t)}}function ur(){return this.firstElementChild}function cr(t){return this.select(t==null?ur:lr(typeof t=="function"?t:pn(t)))}var hr=Array.prototype.filter;function fr(){return Array.from(this.children)}function dr(t){return function(){return hr.call(this.children,t)}}function pr(t){return this.selectAll(t==null?fr:dr(typeof t=="function"?t:pn(t)))}function gr(t){typeof t!="function"&&(t=dn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&t.call(u,u.__data__,l,s)&&a.push(u);return new at(r,this._parents)}function gn(t){return new Array(t.length)}function mr(){return new at(this._enter||this._groups.map(gn),this._parents)}function re(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}re.prototype={constructor:re,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _r(t){return function(){return t}}function yr(t,e,n,r,i,s){for(var o=0,a,u=e.length,l=s.length;o<l;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new re(t,s[o]);for(;o<u;++o)(a=e[o])&&(i[o]=a)}function vr(t,e,n,r,i,s,o){var a,u,l=new Map,h=e.length,_=s.length,v=new Array(h),b;for(a=0;a<h;++a)(u=e[a])&&(v[a]=b=o.call(u,u.__data__,a,e)+"",l.has(b)?i[a]=u:l.set(b,u));for(a=0;a<_;++a)b=o.call(t,s[a],a,s)+"",(u=l.get(b))?(r[a]=u,u.__data__=s[a],l.delete(b)):n[a]=new re(t,s[a]);for(a=0;a<h;++a)(u=e[a])&&l.get(v[a])===u&&(i[a]=u)}function xr(t){return t.__data__}function wr(t,e){if(!arguments.length)return Array.from(this,xr);var n=e?vr:yr,r=this._parents,i=this._groups;typeof t!="function"&&(t=_r(t));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var h=r[l],_=i[l],v=_.length,b=Cr(t.call(h,h&&h.__data__,l,r)),D=b.length,V=a[l]=new Array(D),B=o[l]=new Array(D),R=u[l]=new Array(v);n(h,_,V,B,R,b,e);for(var Z=0,G=0,et,j;Z<D;++Z)if(et=V[Z]){for(Z>=G&&(G=Z+1);!(j=B[G])&&++G<D;);et._next=j||null}}return o=new at(o,r),o._enter=a,o._exit=u,o}function Cr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function br(){return new at(this._exit||this._groups.map(gn),this._parents)}function kr(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Er(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],h=r[u],_=l.length,v=a[u]=new Array(_),b,D=0;D<_;++D)(b=l[D]||h[D])&&(v[D]=b);for(;u<i;++u)a[u]=n[u];return new at(a,this._parents)}function Sr(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function $r(t){t||(t=Ar);function e(_,v){return _&&v?t(_.__data__,v.__data__):!_-!v}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,h=0;h<a;++h)(l=o[h])&&(u[h]=l);u.sort(e)}return new at(i,this._parents).order()}function Ar(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Rr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Mr(){return Array.from(this)}function zr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Tr(){let t=0;for(const e of this)++t;return t}function Nr(){return!this.node()}function Dr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function Ir(t){return function(){this.removeAttribute(t)}}function Vr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Or(t,e){return function(){this.setAttribute(t,e)}}function Hr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Lr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Fr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Br(t,e){var n=he(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Vr:Ir:typeof e=="function"?n.local?Fr:Lr:n.local?Hr:Or)(n,e))}function mn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Xr(t){return function(){this.style.removeProperty(t)}}function Pr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function qr(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ur(t,e,n){return arguments.length>1?this.each((e==null?Xr:typeof e=="function"?qr:Pr)(t,e,n??"")):Tt(this.node(),t)}function Tt(t,e){return t.style.getPropertyValue(e)||mn(t).getComputedStyle(t,null).getPropertyValue(e)}function Zr(t){return function(){delete this[t]}}function Yr(t,e){return function(){this[t]=e}}function Kr(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Wr(t,e){return arguments.length>1?this.each((e==null?Zr:typeof e=="function"?Kr:Yr)(t,e)):this.node()[t]}function _n(t){return t.trim().split(/^|\s+/)}function ze(t){return t.classList||new yn(t)}function yn(t){this._node=t,this._names=_n(t.getAttribute("class")||"")}yn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function vn(t,e){for(var n=ze(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function xn(t,e){for(var n=ze(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Gr(t){return function(){vn(this,t)}}function Qr(t){return function(){xn(this,t)}}function jr(t,e){return function(){(e.apply(this,arguments)?vn:xn)(this,t)}}function Jr(t,e){var n=_n(t+"");if(arguments.length<2){for(var r=ze(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?jr:e?Gr:Qr)(n,e))}function ti(){this.textContent=""}function ei(t){return function(){this.textContent=t}}function ni(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ri(t){return arguments.length?this.each(t==null?ti:(typeof t=="function"?ni:ei)(t)):this.node().textContent}function ii(){this.innerHTML=""}function si(t){return function(){this.innerHTML=t}}function oi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ai(t){return arguments.length?this.each(t==null?ii:(typeof t=="function"?oi:si)(t)):this.node().innerHTML}function li(){this.nextSibling&&this.parentNode.appendChild(this)}function ui(){return this.each(li)}function ci(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hi(){return this.each(ci)}function fi(t){var e=typeof t=="function"?t:hn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function di(){return null}function pi(t,e){var n=typeof t=="function"?t:hn(t),r=e==null?di:typeof e=="function"?e:Me(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function gi(){var t=this.parentNode;t&&t.removeChild(this)}function mi(){return this.each(gi)}function _i(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yi(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vi(t){return this.select(t?yi:_i)}function xi(t){return arguments.length?this.property("__data__",t):this.node().__data__}function wi(t){return function(e){t.call(this,e,this.__data__)}}function Ci(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function bi(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function ki(t,e,n){return function(){var r=this.__on,i,s=wi(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Ei(t,e,n){var r=Ci(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,h;u<l;++u)for(i=0,h=a[u];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(a=e?ki:bi,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function wn(t,e,n){var r=mn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Si(t,e){return function(){return wn(this,t,e)}}function $i(t,e){return function(){return wn(this,t,e.apply(this,arguments))}}function Ai(t,e){return this.each((typeof e=="function"?$i:Si)(t,e))}function*Ri(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Cn=[null];function at(t,e){this._groups=t,this._parents=e}function Ut(){return new at([[document.documentElement]],Cn)}function Mi(){return this}at.prototype=Ut.prototype={constructor:at,select:nr,selectAll:or,selectChild:cr,selectChildren:pr,filter:gr,data:wr,enter:mr,exit:br,join:kr,merge:Er,selection:Mi,order:Sr,sort:$r,call:Rr,nodes:Mr,node:zr,size:Tr,empty:Nr,each:Dr,attr:Br,style:Ur,property:Wr,classed:Jr,text:ri,html:ai,raise:ui,lower:hi,append:fi,insert:pi,remove:mi,clone:vi,datum:xi,on:Ei,dispatch:Ai,[Symbol.iterator]:Ri};function rt(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],Cn)}function zi(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Et(t,e){if(t=zi(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const ve={capture:!0,passive:!1};function xe(t){t.preventDefault(),t.stopImmediatePropagation()}function Ti(t){var e=t.document.documentElement,n=rt(t).on("dragstart.drag",xe,ve);"onselectstart"in e?n.on("selectstart.drag",xe,ve):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ni(t,e){var n=t.document.documentElement,r=rt(t).on("dragstart.drag",null);e&&(r.on("click.drag",xe,ve),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Te(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zt(){}var Bt=.7,ie=1/Bt,zt="\\s*([+-]?\\d+)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Di=/^#([0-9a-f]{3,8})$/,Ii=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),Vi=new RegExp(`^rgb\\(${mt},${mt},${mt}\\)$`),Oi=new RegExp(`^rgba\\(${zt},${zt},${zt},${Xt}\\)$`),Hi=new RegExp(`^rgba\\(${mt},${mt},${mt},${Xt}\\)$`),Li=new RegExp(`^hsl\\(${Xt},${mt},${mt}\\)$`),Fi=new RegExp(`^hsla\\(${Xt},${mt},${mt},${Xt}\\)$`),Ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Te(Zt,Pt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ze,formatHex:Ze,formatHex8:Bi,formatHsl:Xi,formatRgb:Ye,toString:Ye});function Ze(){return this.rgb().formatHex()}function Bi(){return this.rgb().formatHex8()}function Xi(){return kn(this).formatHsl()}function Ye(){return this.rgb().formatRgb()}function Pt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Di.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ke(e):n===3?new st(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Kt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Kt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ii.exec(t))?new st(e[1],e[2],e[3],1):(e=Vi.exec(t))?new st(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Oi.exec(t))?Kt(e[1],e[2],e[3],e[4]):(e=Hi.exec(t))?Kt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Li.exec(t))?Qe(e[1],e[2]/100,e[3]/100,1):(e=Fi.exec(t))?Qe(e[1],e[2]/100,e[3]/100,e[4]):Ue.hasOwnProperty(t)?Ke(Ue[t]):t==="transparent"?new st(NaN,NaN,NaN,0):null}function Ke(t){return new st(t>>16&255,t>>8&255,t&255,1)}function Kt(t,e,n,r){return r<=0&&(t=e=n=NaN),new st(t,e,n,r)}function Pi(t){return t instanceof Zt||(t=Pt(t)),t?(t=t.rgb(),new st(t.r,t.g,t.b,t.opacity)):new st}function we(t,e,n,r){return arguments.length===1?Pi(t):new st(t,e,n,r??1)}function st(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Te(st,we,bn(Zt,{brighter(t){return t=t==null?ie:Math.pow(ie,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bt:Math.pow(Bt,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new st($t(this.r),$t(this.g),$t(this.b),se(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:We,formatHex:We,formatHex8:qi,formatRgb:Ge,toString:Ge}));function We(){return`#${St(this.r)}${St(this.g)}${St(this.b)}`}function qi(){return`#${St(this.r)}${St(this.g)}${St(this.b)}${St((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ge(){const t=se(this.opacity);return`${t===1?"rgb(":"rgba("}${$t(this.r)}, ${$t(this.g)}, ${$t(this.b)}${t===1?")":`, ${t})`}`}function se(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function St(t){return t=$t(t),(t<16?"0":"")+t.toString(16)}function Qe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ht(t,e,n,r)}function kn(t){if(t instanceof ht)return new ht(t.h,t.s,t.l,t.opacity);if(t instanceof Zt||(t=Pt(t)),!t)return new ht;if(t instanceof ht)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new ht(o,a,u,t.opacity)}function Ui(t,e,n,r){return arguments.length===1?kn(t):new ht(t,e,n,r??1)}function ht(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Te(ht,Ui,bn(Zt,{brighter(t){return t=t==null?ie:Math.pow(ie,t),new ht(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bt:Math.pow(Bt,t),new ht(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new st(ge(t>=240?t-240:t+120,i,r),ge(t,i,r),ge(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ht(je(this.h),Wt(this.s),Wt(this.l),se(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=se(this.opacity);return`${t===1?"hsl(":"hsla("}${je(this.h)}, ${Wt(this.s)*100}%, ${Wt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function je(t){return t=(t||0)%360,t<0?t+360:t}function Wt(t){return Math.max(0,Math.min(1,t||0))}function ge(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const En=t=>()=>t;function Zi(t,e){return function(n){return t+n*e}}function Yi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ki(t){return(t=+t)==1?Sn:function(e,n){return n-e?Yi(e,n,t):En(isNaN(e)?n:e)}}function Sn(t,e){var n=e-t;return n?Zi(t,n):En(isNaN(t)?e:t)}const Je=function t(e){var n=Ki(e);function r(i,s){var o=n((i=we(i)).r,(s=we(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=Sn(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=a(h),i.b=u(h),i.opacity=l(h),i+""}}return r.gamma=t,r}(1);function bt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ce=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,me=new RegExp(Ce.source,"g");function Wi(t){return function(){return t}}function Gi(t){return function(e){return t(e)+""}}function $n(t,e){var n=Ce.lastIndex=me.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(t=t+"",e=e+"";(r=Ce.exec(t))&&(i=me.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:bt(r,i)})),n=me.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?Gi(u[0].x):Wi(e):(e=u.length,function(l){for(var h=0,_;h<e;++h)a[(_=u[h]).i]=_.x(l);return a.join("")})}var tn=180/Math.PI,be={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function An(t,e,n,r,i,s){var o,a,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*tn,skewX:Math.atan(u)*tn,scaleX:o,scaleY:a}}var Gt;function Qi(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?be:An(e.a,e.b,e.c,e.d,e.e,e.f)}function ji(t){return t==null||(Gt||(Gt=document.createElementNS("http://www.w3.org/2000/svg","g")),Gt.setAttribute("transform",t),!(t=Gt.transform.baseVal.consolidate()))?be:(t=t.matrix,An(t.a,t.b,t.c,t.d,t.e,t.f))}function Rn(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,h,_,v,b,D){if(l!==_||h!==v){var V=b.push("translate(",null,e,null,n);D.push({i:V-4,x:bt(l,_)},{i:V-2,x:bt(h,v)})}else(_||v)&&b.push("translate("+_+e+v+n)}function o(l,h,_,v){l!==h?(l-h>180?h+=360:h-l>180&&(l+=360),v.push({i:_.push(i(_)+"rotate(",null,r)-2,x:bt(l,h)})):h&&_.push(i(_)+"rotate("+h+r)}function a(l,h,_,v){l!==h?v.push({i:_.push(i(_)+"skewX(",null,r)-2,x:bt(l,h)}):h&&_.push(i(_)+"skewX("+h+r)}function u(l,h,_,v,b,D){if(l!==_||h!==v){var V=b.push(i(b)+"scale(",null,",",null,")");D.push({i:V-4,x:bt(l,_)},{i:V-2,x:bt(h,v)})}else(_!==1||v!==1)&&b.push(i(b)+"scale("+_+","+v+")")}return function(l,h){var _=[],v=[];return l=t(l),h=t(h),s(l.translateX,l.translateY,h.translateX,h.translateY,_,v),o(l.rotate,h.rotate,_,v),a(l.skewX,h.skewX,_,v),u(l.scaleX,l.scaleY,h.scaleX,h.scaleY,_,v),l=h=null,function(b){for(var D=-1,V=v.length,B;++D<V;)_[(B=v[D]).i]=B.x(b);return _.join("")}}}var Ji=Rn(Qi,"px, ","px)","deg)"),ts=Rn(ji,", ",")",")"),es=1e-12;function en(t){return((t=Math.exp(t))+1/t)/2}function ns(t){return((t=Math.exp(t))-1/t)/2}function rs(t){return((t=Math.exp(2*t))-1)/(t+1)}const is=function t(e,n,r){function i(s,o){var a=s[0],u=s[1],l=s[2],h=o[0],_=o[1],v=o[2],b=h-a,D=_-u,V=b*b+D*D,B,R;if(V<es)R=Math.log(v/l)/e,B=function(I){return[a+I*b,u+I*D,l*Math.exp(e*I*R)]};else{var Z=Math.sqrt(V),G=(v*v-l*l+r*V)/(2*l*n*Z),et=(v*v-l*l-r*V)/(2*v*n*Z),j=Math.log(Math.sqrt(G*G+1)-G),Q=Math.log(Math.sqrt(et*et+1)-et);R=(Q-j)/e,B=function(I){var f=I*R,p=en(j),c=l/(n*Z)*(p*rs(e*f+j)-ns(j));return[a+c*b,u+c*D,l*p/en(e*f+j)]}}return B.duration=R*1e3*e/Math.SQRT2,B}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,u=a*a;return t(o,a,u)},i}(Math.SQRT2,2,4);var Nt=0,Ht=0,Vt=0,Mn=1e3,oe,Lt,ae=0,At=0,fe=0,qt=typeof performance=="object"&&performance.now?performance:Date,zn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ne(){return At||(zn(ss),At=qt.now()+fe)}function ss(){At=0}function le(){this._call=this._time=this._next=null}le.prototype=Tn.prototype={constructor:le,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ne():+n)+(e==null?0:+e),!this._next&&Lt!==this&&(Lt?Lt._next=this:oe=this,Lt=this),this._call=t,this._time=n,ke()},stop:function(){this._call&&(this._call=null,this._time=1/0,ke())}};function Tn(t,e,n){var r=new le;return r.restart(t,e,n),r}function os(){Ne(),++Nt;for(var t=oe,e;t;)(e=At-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Nt}function nn(){At=(ae=qt.now())+fe,Nt=Ht=0;try{os()}finally{Nt=0,ls(),At=0}}function as(){var t=qt.now(),e=t-ae;e>Mn&&(fe-=e,ae=t)}function ls(){for(var t,e=oe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:oe=n);Lt=t,ke(r)}function ke(t){if(!Nt){Ht&&(Ht=clearTimeout(Ht));var e=t-At;e>24?(t<1/0&&(Ht=setTimeout(nn,t-qt.now()-fe)),Vt&&(Vt=clearInterval(Vt))):(Vt||(ae=qt.now(),Vt=setInterval(as,Mn)),Nt=1,zn(nn))}}function rn(t,e,n){var r=new le;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var us=Re("start","end","cancel","interrupt"),cs=[],Nn=0,sn=1,Ee=2,Jt=3,on=4,Se=5,te=6;function de(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;hs(t,n,{name:e,index:r,group:i,on:us,tween:cs,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Nn})}function De(t,e){var n=ft(t,e);if(n.state>Nn)throw new Error("too late; already scheduled");return n}function _t(t,e){var n=ft(t,e);if(n.state>Jt)throw new Error("too late; already running");return n}function ft(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function hs(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Tn(s,0,n.time);function s(l){n.state=sn,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var h,_,v,b;if(n.state!==sn)return u();for(h in r)if(b=r[h],b.name===n.name){if(b.state===Jt)return rn(o);b.state===on?(b.state=te,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[h]):+h<e&&(b.state=te,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[h])}if(rn(function(){n.state===Jt&&(n.state=on,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Ee,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ee){for(n.state=Jt,i=new Array(v=n.tween.length),h=0,_=-1;h<v;++h)(b=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++_]=b);i.length=_+1}}function a(l){for(var h=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Se,1),_=-1,v=i.length;++_<v;)i[_].call(t,h);n.state===Se&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=te,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function ee(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Ee&&r.state<Se,r.state=te,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function fs(t){return this.each(function(){ee(this,t)})}function ds(t,e){var n,r;return function(){var i=_t(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function ps(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=_t(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function gs(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ft(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?ds:ps)(n,t,e))}function Ie(t,e,n){var r=t._id;return t.each(function(){var i=_t(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ft(i,r).value[e]}}function Dn(t,e){var n;return(typeof e=="number"?bt:e instanceof Pt?Je:(n=Pt(e))?(e=n,Je):$n)(t,e)}function ms(t){return function(){this.removeAttribute(t)}}function _s(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ys(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function vs(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function xs(t,e,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,a)))}}function ws(t,e,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,a)))}}function Cs(t,e){var n=he(t),r=n==="transform"?ts:Dn;return this.attrTween(t,typeof e=="function"?(n.local?ws:xs)(n,r,Ie(this,"attr."+t,e)):e==null?(n.local?_s:ms)(n):(n.local?vs:ys)(n,r,e))}function bs(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ks(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Es(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&ks(t,s)),n}return i._value=e,i}function Ss(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&bs(t,s)),n}return i._value=e,i}function $s(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=he(t);return this.tween(n,(r.local?Es:Ss)(r,e))}function As(t,e){return function(){De(this,t).delay=+e.apply(this,arguments)}}function Rs(t,e){return e=+e,function(){De(this,t).delay=e}}function Ms(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?As:Rs)(e,t)):ft(this.node(),e).delay}function zs(t,e){return function(){_t(this,t).duration=+e.apply(this,arguments)}}function Ts(t,e){return e=+e,function(){_t(this,t).duration=e}}function Ns(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?zs:Ts)(e,t)):ft(this.node(),e).duration}function Ds(t,e){if(typeof e!="function")throw new Error;return function(){_t(this,t).ease=e}}function Is(t){var e=this._id;return arguments.length?this.each(Ds(e,t)):ft(this.node(),e).ease}function Vs(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;_t(this,t).ease=n}}function Os(t){if(typeof t!="function")throw new Error;return this.each(Vs(this._id,t))}function Hs(t){typeof t!="function"&&(t=dn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&t.call(u,u.__data__,l,s)&&a.push(u);return new wt(r,this._parents,this._name,this._id)}function Ls(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=e[a],l=n[a],h=u.length,_=o[a]=new Array(h),v,b=0;b<h;++b)(v=u[b]||l[b])&&(_[b]=v);for(;a<r;++a)o[a]=e[a];return new wt(o,this._parents,this._name,this._id)}function Fs(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Bs(t,e,n){var r,i,s=Fs(e)?De:_t;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function Xs(t,e){var n=this._id;return arguments.length<2?ft(this.node(),n).on.on(t):this.each(Bs(n,t,e))}function Ps(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function qs(){return this.on("end.remove",Ps(this._id))}function Us(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Me(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),h,_,v=0;v<u;++v)(h=a[v])&&(_=t.call(h,h.__data__,v,a))&&("__data__"in h&&(_.__data__=h.__data__),l[v]=_,de(l[v],e,n,v,l,ft(h,n)));return new wt(s,this._parents,e,n)}function Zs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fn(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,h,_=0;_<l;++_)if(h=u[_]){for(var v=t.call(h,h.__data__,_,u),b,D=ft(h,n),V=0,B=v.length;V<B;++V)(b=v[V])&&de(b,e,n,V,v,D);s.push(v),o.push(h)}return new wt(s,o,e,n)}var Ys=Ut.prototype.constructor;function Ks(){return new Ys(this._groups,this._parents)}function Ws(t,e){var n,r,i;return function(){var s=Tt(this,t),o=(this.style.removeProperty(t),Tt(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function In(t){return function(){this.style.removeProperty(t)}}function Gs(t,e,n){var r,i=n+"",s;return function(){var o=Tt(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function Qs(t,e,n){var r,i,s;return function(){var o=Tt(this,t),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),Tt(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,a))}}function js(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var u=_t(this,t),l=u.on,h=u.value[s]==null?a||(a=In(e)):void 0;(l!==n||i!==h)&&(r=(n=l).copy()).on(o,i=h),u.on=r}}function Js(t,e,n){var r=(t+="")=="transform"?Ji:Dn;return e==null?this.styleTween(t,Ws(t,r)).on("end.style."+t,In(t)):typeof e=="function"?this.styleTween(t,Qs(t,r,Ie(this,"style."+t,e))).each(js(this._id,t)):this.styleTween(t,Gs(t,r,e),n).on("end.style."+t,null)}function to(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function eo(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&to(t,o,n)),r}return s._value=e,s}function no(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,eo(t,e,n??""))}function ro(t){return function(){this.textContent=t}}function io(t){return function(){var e=t(this);this.textContent=e??""}}function so(t){return this.tween("text",typeof t=="function"?io(Ie(this,"text",t)):ro(t==null?"":t+""))}function oo(t){return function(e){this.textContent=t.call(this,e)}}function ao(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&oo(i)),e}return r._value=t,r}function lo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,ao(t))}function uo(){for(var t=this._name,e=this._id,n=Vn(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var h=ft(u,e);de(u,t,n,l,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new wt(r,this._parents,t,n)}function co(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=_t(this,r),h=l.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),i===0&&s()})}var ho=0;function wt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Vn(){return++ho}var vt=Ut.prototype;wt.prototype={constructor:wt,select:Us,selectAll:Zs,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:Hs,merge:Ls,selection:Ks,transition:uo,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:Xs,attr:Cs,attrTween:$s,style:Js,styleTween:no,text:so,textTween:lo,remove:qs,tween:gs,delay:Ms,duration:Ns,ease:Is,easeVarying:Os,end:co,[Symbol.iterator]:vt[Symbol.iterator]};function fo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var po={time:null,delay:0,duration:250,ease:fo};function go(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function mo(t){var e,n;t instanceof wt?(e=t._id,t=t._name):(e=Vn(),(n=po).time=Ne(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&de(u,t,e,l,o,n||go(u,e));return new wt(r,this._parents,t,e)}Ut.prototype.interrupt=fs;Ut.prototype.transition=mo;function _o(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function yo(){return this.eachAfter(_o)}function vo(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function xo(t,e){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function wo(t,e){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)t.call(e,n,++u,this);return this}function Co(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function bo(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function ko(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Eo(t){for(var e=this,n=So(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function So(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function $o(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Ao(){return Array.from(this)}function Ro(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Mo(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*zo(){var t=this,e,n=[t],r,i,s;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function Ve(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Do)):e===void 0&&(e=No);for(var n=new ue(t),r,i=[n],s,o,a,u;r=i.pop();)if((o=e(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new ue(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(Vo)}function To(){return Ve(this).eachBefore(Io)}function No(t){return t.children}function Do(t){return Array.isArray(t)?t[1]:null}function Io(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Vo(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ue(t){this.data=t,this.depth=this.height=0,this.parent=null}ue.prototype=Ve.prototype={constructor:ue,count:yo,each:vo,eachAfter:wo,eachBefore:xo,find:Co,sum:bo,sort:ko,path:Eo,ancestors:$o,descendants:Ao,leaves:Ro,links:Mo,copy:To,[Symbol.iterator]:zo};const Qt=t=>()=>t;function Oo(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function xt(t,e,n){this.k=t,this.x=e,this.y=n}xt.prototype={constructor:xt,scale:function(t){return t===1?this:new xt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new xt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var On=new xt(1,0,0);xt.prototype;function _e(t){t.stopImmediatePropagation()}function Ot(t){t.preventDefault(),t.stopImmediatePropagation()}function Ho(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Lo(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function an(){return this.__zoom||On}function Fo(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Bo(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xo(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Po(){var t=Ho,e=Lo,n=Xo,r=Fo,i=Bo,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,u=is,l=Re("start","zoom","end"),h,_,v,b=500,D=150,V=0,B=10;function R(d){d.property("__zoom",an).on("wheel.zoom",f,{passive:!1}).on("mousedown.zoom",p).on("dblclick.zoom",c).filter(i).on("touchstart.zoom",C).on("touchmove.zoom",y).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}R.transform=function(d,w,g,m){var k=d.selection?d.selection():d;k.property("__zoom",an),d!==k?j(d,w,g,m):k.interrupt().each(function(){Q(this,arguments).event(m).start().zoom(null,typeof w=="function"?w.apply(this,arguments):w).end()})},R.scaleBy=function(d,w,g,m){R.scaleTo(d,function(){var k=this.__zoom.k,x=typeof w=="function"?w.apply(this,arguments):w;return k*x},g,m)},R.scaleTo=function(d,w,g,m){R.transform(d,function(){var k=e.apply(this,arguments),x=this.__zoom,M=g==null?et(k):typeof g=="function"?g.apply(this,arguments):g,S=x.invert(M),A=typeof w=="function"?w.apply(this,arguments):w;return n(G(Z(x,A),M,S),k,o)},g,m)},R.translateBy=function(d,w,g,m){R.transform(d,function(){return n(this.__zoom.translate(typeof w=="function"?w.apply(this,arguments):w,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),o)},null,m)},R.translateTo=function(d,w,g,m,k){R.transform(d,function(){var x=e.apply(this,arguments),M=this.__zoom,S=m==null?et(x):typeof m=="function"?m.apply(this,arguments):m;return n(On.translate(S[0],S[1]).scale(M.k).translate(typeof w=="function"?-w.apply(this,arguments):-w,typeof g=="function"?-g.apply(this,arguments):-g),x,o)},m,k)};function Z(d,w){return w=Math.max(s[0],Math.min(s[1],w)),w===d.k?d:new xt(w,d.x,d.y)}function G(d,w,g){var m=w[0]-g[0]*d.k,k=w[1]-g[1]*d.k;return m===d.x&&k===d.y?d:new xt(d.k,m,k)}function et(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function j(d,w,g,m){d.on("start.zoom",function(){Q(this,arguments).event(m).start()}).on("interrupt.zoom end.zoom",function(){Q(this,arguments).event(m).end()}).tween("zoom",function(){var k=this,x=arguments,M=Q(k,x).event(m),S=e.apply(k,x),A=g==null?et(S):typeof g=="function"?g.apply(k,x):g,$=Math.max(S[1][0]-S[0][0],S[1][1]-S[0][1]),O=k.__zoom,F=typeof w=="function"?w.apply(k,x):w,X=u(O.invert(A).concat($/O.k),F.invert(A).concat($/F.k));return function(U){if(U===1)U=F;else{var z=X(U),H=$/z[2];U=new xt(H,A[0]-z[0]*H,A[1]-z[1]*H)}M.zoom(null,U)}})}function Q(d,w,g){return!g&&d.__zooming||new I(d,w)}function I(d,w){this.that=d,this.args=w,this.active=0,this.sourceEvent=null,this.extent=e.apply(d,w),this.taps=0}I.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,w){return this.mouse&&d!=="mouse"&&(this.mouse[1]=w.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=w.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=w.invert(this.touch1[0])),this.that.__zoom=w,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var w=rt(this.that).datum();l.call(d,this.that,new Oo(d,{sourceEvent:this.sourceEvent,target:R,type:d,transform:this.that.__zoom,dispatch:l}),w)}};function f(d,...w){if(!t.apply(this,arguments))return;var g=Q(this,w).event(d),m=this.__zoom,k=Math.max(s[0],Math.min(s[1],m.k*Math.pow(2,r.apply(this,arguments)))),x=Et(d);if(g.wheel)(g.mouse[0][0]!==x[0]||g.mouse[0][1]!==x[1])&&(g.mouse[1]=m.invert(g.mouse[0]=x)),clearTimeout(g.wheel);else{if(m.k===k)return;g.mouse=[x,m.invert(x)],ee(this),g.start()}Ot(d),g.wheel=setTimeout(M,D),g.zoom("mouse",n(G(Z(m,k),g.mouse[0],g.mouse[1]),g.extent,o));function M(){g.wheel=null,g.end()}}function p(d,...w){if(v||!t.apply(this,arguments))return;var g=d.currentTarget,m=Q(this,w,!0).event(d),k=rt(d.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",$,!0),x=Et(d,g),M=d.clientX,S=d.clientY;Ti(d.view),_e(d),m.mouse=[x,this.__zoom.invert(x)],ee(this),m.start();function A(O){if(Ot(O),!m.moved){var F=O.clientX-M,X=O.clientY-S;m.moved=F*F+X*X>V}m.event(O).zoom("mouse",n(G(m.that.__zoom,m.mouse[0]=Et(O,g),m.mouse[1]),m.extent,o))}function $(O){k.on("mousemove.zoom mouseup.zoom",null),Ni(O.view,m.moved),Ot(O),m.event(O).end()}}function c(d,...w){if(t.apply(this,arguments)){var g=this.__zoom,m=Et(d.changedTouches?d.changedTouches[0]:d,this),k=g.invert(m),x=g.k*(d.shiftKey?.5:2),M=n(G(Z(g,x),m,k),e.apply(this,w),o);Ot(d),a>0?rt(this).transition().duration(a).call(j,M,m,d):rt(this).call(R.transform,M,m,d)}}function C(d,...w){if(t.apply(this,arguments)){var g=d.touches,m=g.length,k=Q(this,w,d.changedTouches.length===m).event(d),x,M,S,A;for(_e(d),M=0;M<m;++M)S=g[M],A=Et(S,this),A=[A,this.__zoom.invert(A),S.identifier],k.touch0?!k.touch1&&k.touch0[2]!==A[2]&&(k.touch1=A,k.taps=0):(k.touch0=A,x=!0,k.taps=1+!!h);h&&(h=clearTimeout(h)),x&&(k.taps<2&&(_=A[0],h=setTimeout(function(){h=null},b)),ee(this),k.start())}}function y(d,...w){if(this.__zooming){var g=Q(this,w).event(d),m=d.changedTouches,k=m.length,x,M,S,A;for(Ot(d),x=0;x<k;++x)M=m[x],S=Et(M,this),g.touch0&&g.touch0[2]===M.identifier?g.touch0[0]=S:g.touch1&&g.touch1[2]===M.identifier&&(g.touch1[0]=S);if(M=g.that.__zoom,g.touch1){var $=g.touch0[0],O=g.touch0[1],F=g.touch1[0],X=g.touch1[1],U=(U=F[0]-$[0])*U+(U=F[1]-$[1])*U,z=(z=X[0]-O[0])*z+(z=X[1]-O[1])*z;M=Z(M,Math.sqrt(U/z)),S=[($[0]+F[0])/2,($[1]+F[1])/2],A=[(O[0]+X[0])/2,(O[1]+X[1])/2]}else if(g.touch0)S=g.touch0[0],A=g.touch0[1];else return;g.zoom("touch",n(G(M,S,A),g.extent,o))}}function E(d,...w){if(this.__zooming){var g=Q(this,w).event(d),m=d.changedTouches,k=m.length,x,M;for(_e(d),v&&clearTimeout(v),v=setTimeout(function(){v=null},b),x=0;x<k;++x)M=m[x],g.touch0&&g.touch0[2]===M.identifier?delete g.touch0:g.touch1&&g.touch1[2]===M.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(M=Et(M,this),Math.hypot(_[0]-M[0],_[1]-M[1])<B)){var S=rt(this).on("dblclick.zoom");S&&S.apply(this,arguments)}}}return R.wheelDelta=function(d){return arguments.length?(r=typeof d=="function"?d:Qt(+d),R):r},R.filter=function(d){return arguments.length?(t=typeof d=="function"?d:Qt(!!d),R):t},R.touchable=function(d){return arguments.length?(i=typeof d=="function"?d:Qt(!!d),R):i},R.extent=function(d){return arguments.length?(e=typeof d=="function"?d:Qt([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),R):e},R.scaleExtent=function(d){return arguments.length?(s[0]=+d[0],s[1]=+d[1],R):[s[0],s[1]]},R.translateExtent=function(d){return arguments.length?(o[0][0]=+d[0][0],o[1][0]=+d[1][0],o[0][1]=+d[0][1],o[1][1]=+d[1][1],R):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},R.constrain=function(d){return arguments.length?(n=d,R):n},R.duration=function(d){return arguments.length?(a=+d,R):a},R.interpolate=function(d){return arguments.length?(u=d,R):u},R.on=function(){var d=l.on.apply(l,arguments);return d===l?R:d},R.clickDistance=function(d){return arguments.length?(V=(d=+d)*d,R):Math.sqrt(V)},R.tapDistance=function(d){return arguments.length?(B=+d,R):B},R}function qo(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function Uo(){return this.eachAfter(qo)}function Zo(t){var e=this,n,r=[e],i,s,o;do for(n=r.reverse(),r=[];e=n.pop();)if(t(e),i=e.children,i)for(s=0,o=i.length;s<o;++s)r.push(i[s]);while(r.length);return this}function Yo(t){for(var e=this,n=[e],r,i;e=n.pop();)if(t(e),r=e.children,r)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this}function Ko(t){for(var e=this,n=[e],r=[],i,s,o;e=n.pop();)if(r.push(e),i=e.children,i)for(s=0,o=i.length;s<o;++s)n.push(i[s]);for(;e=r.pop();)t(e);return this}function Wo(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Go(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Qo(t){for(var e=this,n=jo(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function jo(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Jo(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function ta(){var t=[];return this.each(function(e){t.push(e)}),t}function ea(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function na(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function Oe(t,e){var n=new ce(t),r=+t.value&&(n.value=t.value),i,s=[n],o,a,u,l;for(e==null&&(e=ia);i=s.pop();)if(r&&(i.value=+i.data.value),(a=e(i.data))&&(l=a.length))for(i.children=new Array(l),u=l-1;u>=0;--u)s.push(o=i.children[u]=new ce(a[u])),o.parent=i,o.depth=i.depth+1;return n.eachBefore(oa)}function ra(){return Oe(this).eachBefore(sa)}function ia(t){return t.children}function sa(t){t.data=t.data.data}function oa(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ce(t){this.data=t,this.depth=this.height=0,this.parent=null}ce.prototype=Oe.prototype={constructor:ce,count:Uo,each:Zo,eachAfter:Ko,eachBefore:Yo,sum:Wo,sort:Go,path:Qo,ancestors:Jo,descendants:ta,leaves:ea,links:na,copy:ra};const aa="d3-flextree",la="2.1.2",ua="build/d3-flextree.js",ca="index",ha={name:"Chris Maloney",url:"http://chrismaloney.org"},fa="Flexible tree layout algorithm that allows for variable node sizes.",da=["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],pa="https://github.com/klortho/d3-flextree",ga="WTFPL",ma={type:"git",url:"https://github.com/klortho/d3-flextree.git"},_a={clean:"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test",build:"rollup -c",lint:"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js",test:"npm-run-all test:*",prepare:"npm-run-all clean build lint test"},ya={"d3-hierarchy":"^1.1.5"},va={"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0",d3:"^4.13.0","d3-selection-multi":"^1.0.1",eslint:"^4.19.1",jsdom:"^11.6.2","npm-run-all":"^4.1.2",rollup:"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"},xa={name:aa,version:la,main:ua,module:ca,"jsnext:main":"index",author:ha,description:fa,keywords:da,homepage:pa,license:ga,repository:ma,scripts:_a,dependencies:ya,devDependencies:va},{version:wa}=xa,Ca=Object.freeze({children:t=>t.children,nodeSize:t=>t.data.size,spacing:0});function Ln(t){const e=Object.assign({},Ca,t);function n(a){const u=e[a];return typeof u=="function"?u:()=>u}function r(a){const u=o(s(),a,l=>l.children);return u.update(),u.data}function i(){const a=n("nodeSize"),u=n("spacing");return class Hn extends Oe.prototype.constructor{constructor(h){super(h)}copy(){const h=o(this.constructor,this,_=>_.children);return h.each(_=>_.data=_.data.data),h}get size(){return a(this)}spacing(h){return u(this,h)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const h=this.ancestors();return h[h.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return this.children===null}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce((h,_)=>Hn.maxExtents(h,_.extents),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(h,_){return{top:Math.min(h.top,_.top),bottom:Math.max(h.bottom,_.bottom),left:Math.min(h.left,_.left),right:Math.max(h.right,_.right)}}}}function s(){const a=i(),u=n("nodeSize"),l=n("spacing");return class extends a{constructor(h){super(h),Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return u(this.data)}spacing(h){return l(this.data,h.data)}get x(){return this.data.x}set x(h){this.data.x=h}get y(){return this.data.y}set y(h){this.data.y=h}update(){return Fn(this),Bn(this),this}}}function o(a,u,l){const h=(_,v)=>{const b=new a(_);Object.assign(b,{parent:v,depth:v===null?0:v.depth+1,height:0,length:1});const D=l(_)||[];return b.children=D.length===0?null:D.map(V=>h(V,b)),b.children&&Object.assign(b,b.children.reduce((V,B)=>({height:Math.max(V.height,B.height+1),length:V.length+B.length}),b)),b};return h(u,null)}return Object.assign(r,{nodeSize(a){return arguments.length?(e.nodeSize=a,r):e.nodeSize},spacing(a){return arguments.length?(e.spacing=a,r):e.spacing},children(a){return arguments.length?(e.children=a,r):e.children},hierarchy(a,u){const l=typeof u>"u"?e.children:u;return o(i(),a,l)},dump(a){const u=n("nodeSize"),l=h=>_=>{const v=h+"  ",b=h+"    ",{x:D,y:V}=_,B=u(_),R=_.children||[],Z=R.length===0?" ":`,${v}children: [${b}${R.map(l(b)).join(b)}${v}],${h}`;return`{ size: [${B.join(", ")}],${v}x: ${D}, y: ${V}${Z}},`};return l(`
`)(a)}}),r}Ln.version=wa;const Fn=(t,e=0)=>(t.y=e,(t.children||[]).reduce((n,r)=>{const[i,s]=n;Fn(r,t.y+t.ySize);const o=(i===0?r.lExt:r.rExt).bottom;i!==0&&ka(t,i,s);const a=Ta(o,i,s);return[i+1,a]},[0,null]),ba(t),za(t),t),Bn=(t,e,n)=>{typeof e>"u"&&(e=-t.relX-t.prelim,n=0);const r=e+t.relX;return t.relX=r+t.prelim-n,t.prelim=0,t.x=n+t.relX,(t.children||[]).forEach(i=>Bn(i,r,t.x)),t},ba=t=>{(t.children||[]).reduce((e,n)=>{const[r,i]=e,s=r+n.shift,o=i+s+n.change;return n.relX+=o,[s,o]},[0,0])},ka=(t,e,n)=>{const r=t.children[e-1],i=t.children[e];let s=r,o=r.relX,a=i,u=i.relX,l=!0;for(;s&&a;){s.bottom>n.lowY&&(n=n.next);const h=o+s.prelim-(u+a.prelim)+s.xSize/2+a.xSize/2+s.spacing(a);(h>0||h<0&&l)&&(u+=h,Ea(i,h),Sa(t,e,n.index,h)),l=!1;const _=s.bottom,v=a.bottom;_<=v&&(s=Aa(s),s&&(o+=s.relX)),_>=v&&(a=$a(a),a&&(u+=a.relX))}!s&&a?Ra(t,e,a,u):s&&!a&&Ma(t,e,s,o)},Ea=(t,e)=>{t.relX+=e,t.lExtRelX+=e,t.rExtRelX+=e},Sa=(t,e,n,r)=>{const i=t.children[e],s=e-n;if(s>1){const o=r/s;t.children[n+1].shift+=o,i.shift-=o,i.change-=r-o}},$a=t=>t.hasChildren?t.firstChild:t.lThr,Aa=t=>t.hasChildren?t.lastChild:t.rThr,Ra=(t,e,n,r)=>{const i=t.firstChild,s=i.lExt,o=t.children[e];s.lThr=n;const a=r-n.relX-i.lExtRelX;s.relX+=a,s.prelim-=a,i.lExt=o.lExt,i.lExtRelX=o.lExtRelX},Ma=(t,e,n,r)=>{const i=t.children[e],s=i.rExt,o=t.children[e-1];s.rThr=n;const a=r-n.relX-i.rExtRelX;s.relX+=a,s.prelim-=a,i.rExt=o.rExt,i.rExtRelX=o.rExtRelX},za=t=>{if(t.hasChildren){const e=t.firstChild,n=t.lastChild,r=(e.prelim+e.relX-e.xSize/2+n.relX+n.prelim+n.xSize/2)/2;Object.assign(t,{prelim:r,lExt:e.lExt,lExtRelX:e.lExtRelX,rExt:n.rExt,rExtRelX:n.rExtRelX})}},Ta=(t,e,n)=>{for(;n!==null&&t>=n.lowY;)n=n.next;return{lowY:t,index:e,next:n}},Na="data:image/svg+xml,%3csvg%20width='32'%20height='21'%20viewBox='0%200%2032%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cellipse%20cx='16'%20cy='10.5'%20rx='16'%20ry='10.5'%20fill='%2386BA80'%20fill-opacity='0.6'/%3e%3cpath%20d='M14.1184%2014.1278C13.4792%2014.1278%2012.9252%2013.9872%2012.4565%2013.706C11.9877%2013.4247%2011.6241%2013.0312%2011.3656%2012.5256C11.1099%2012.0199%2010.9821%2011.429%2010.9821%2010.7528C10.9821%2010.0767%2011.1099%209.48437%2011.3656%208.97585C11.6241%208.46733%2011.9877%208.07244%2012.4565%207.79119C12.9252%207.50994%2013.4792%207.36932%2014.1184%207.36932C14.7576%207.36932%2015.3116%207.50994%2015.7804%207.79119C16.2491%208.07244%2016.6113%208.46733%2016.867%208.97585C17.1255%209.48437%2017.2548%2010.0767%2017.2548%2010.7528C17.2548%2011.429%2017.1255%2012.0199%2016.867%2012.5256C16.6113%2013.0312%2016.2491%2013.4247%2015.7804%2013.706C15.3116%2013.9872%2014.7576%2014.1278%2014.1184%2014.1278ZM14.127%2012.892C14.4735%2012.892%2014.7633%2012.7969%2014.9963%2012.6065C15.2292%2012.4134%2015.4025%2012.1548%2015.5162%2011.831C15.6326%2011.5071%2015.6909%2011.1463%2015.6909%2010.7486C15.6909%2010.348%2015.6326%209.9858%2015.5162%209.66193C15.4025%209.33523%2015.2292%209.07528%2014.9963%208.8821C14.7633%208.68892%2014.4735%208.59233%2014.127%208.59233C13.7718%208.59233%2013.4764%208.68892%2013.2406%208.8821C13.0076%209.07528%2012.8329%209.33523%2012.7164%209.66193C12.6028%209.9858%2012.546%2010.348%2012.546%2010.7486C12.546%2011.1463%2012.6028%2011.5071%2012.7164%2011.831C12.8329%2012.1548%2013.0076%2012.4134%2013.2406%2012.6065C13.4764%2012.7969%2013.7718%2012.892%2014.127%2012.892ZM18.5641%2014V7.45455H20.0598V8.54545H20.128C20.2473%208.16761%2020.4519%207.87642%2020.7417%207.67188C21.0343%207.46449%2021.3681%207.3608%2021.7431%207.3608C21.8283%207.3608%2021.9235%207.36506%2022.0286%207.37358C22.1365%207.37926%2022.226%207.3892%2022.2971%207.40341V8.82244C22.2317%208.79972%2022.128%208.77983%2021.986%208.76278C21.8468%208.7429%2021.7118%208.73295%2021.5811%208.73295C21.2999%208.73295%2021.0471%208.79403%2020.8226%208.91619C20.601%209.03551%2020.4263%209.2017%2020.2985%209.41477C20.1706%209.62784%2020.1067%209.87358%2020.1067%2010.152V14H18.5641Z'%20fill='black'/%3e%3c/svg%3e",Da="data:image/svg+xml,%3csvg%20width='32'%20height='21'%20viewBox='0%200%2032%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cellipse%20cx='16'%20cy='10.5'%20rx='16'%20ry='10.5'%20fill='%23EF9A9A'%20fill-opacity='0.85'/%3e%3cpath%20d='M7.79528%2014.1321C7.3805%2014.1321%207.00692%2014.0582%206.67454%2013.9105C6.34499%2013.7599%206.08363%2013.5384%205.89045%2013.2457C5.70011%2012.9531%205.60494%2012.5923%205.60494%2012.1634C5.60494%2011.794%205.67312%2011.4886%205.80948%2011.2472C5.94585%2011.0057%206.13192%2010.8125%206.36772%2010.6676C6.60352%2010.5227%206.86914%2010.4134%207.1646%2010.3395C7.46289%2010.2628%207.77113%2010.2074%208.08931%2010.1733C8.47283%2010.1335%208.78391%2010.098%209.02255%2010.0668C9.26119%2010.0327%209.43448%209.98153%209.54244%209.91335C9.65323%209.84233%209.70863%209.73295%209.70863%209.58523V9.55966C9.70863%209.23864%209.61346%208.99006%209.42312%208.81392C9.23278%208.63778%208.95863%208.54972%208.60067%208.54972C8.22283%208.54972%207.92312%208.6321%207.70153%208.79688C7.48278%208.96165%207.33505%209.15625%207.25835%209.38068L5.818%209.17614C5.93164%208.77841%206.11914%208.44602%206.3805%208.17898C6.64187%207.90909%206.96147%207.70739%207.33931%207.57386C7.71715%207.4375%208.13477%207.36932%208.59215%207.36932C8.90749%207.36932%209.22141%207.40625%209.53391%207.48011C9.84641%207.55398%2010.1319%207.67614%2010.3904%207.84659C10.649%208.0142%2010.8564%208.2429%2011.0126%208.53267C11.1717%208.82244%2011.2512%209.18466%2011.2512%209.61932V14H9.76829V13.1009H9.71715C9.6234%2013.2827%209.4913%2013.4531%209.32085%2013.6122C9.15323%2013.7685%208.94158%2013.8949%208.6859%2013.9915C8.43306%2014.0852%208.13619%2014.1321%207.79528%2014.1321ZM8.19585%2012.9986C8.5055%2012.9986%208.77397%2012.9375%209.00124%2012.8153C9.22852%2012.6903%209.40323%2012.5256%209.52539%2012.321C9.65039%2012.1165%209.71289%2011.8935%209.71289%2011.652V10.8807C9.6646%2010.9205%209.58221%2010.9574%209.46573%2010.9915C9.3521%2011.0256%209.22425%2011.0554%209.08221%2011.081C8.94016%2011.1065%208.79954%2011.1293%208.66033%2011.1491C8.52113%2011.169%208.40039%2011.1861%208.29812%2011.2003C8.068%2011.2315%207.86204%2011.2827%207.68022%2011.3537C7.4984%2011.4247%207.35494%2011.5241%207.24982%2011.652C7.14471%2011.777%207.09215%2011.9389%207.09215%2012.1378C7.09215%2012.4219%207.19585%2012.6364%207.40323%2012.7812C7.61062%2012.9261%207.87482%2012.9986%208.19585%2012.9986ZM14.345%2010.1648V14H12.8024V7.45455H14.2768V8.56676H14.3535C14.5041%208.20028%2014.7441%207.90909%2015.0737%207.69318C15.4061%207.47727%2015.8166%207.36932%2016.3052%207.36932C16.7569%207.36932%2017.1504%207.46591%2017.4856%207.65909C17.8237%207.85227%2018.085%208.1321%2018.2697%208.49858C18.4572%208.86506%2018.5495%209.30966%2018.5467%209.83239V14H17.0041V10.071C17.0041%209.63352%2016.8904%209.29119%2016.6632%209.04403C16.4387%208.79687%2016.1277%208.6733%2015.7299%208.6733C15.46%208.6733%2015.22%208.73295%2015.0098%208.85227C14.8024%208.96875%2014.639%209.13778%2014.5197%209.35938C14.4032%209.58097%2014.345%209.84943%2014.345%2010.1648ZM22.5439%2014.1151C22.0297%2014.1151%2021.5694%2013.983%2021.1632%2013.7188C20.7569%2013.4545%2020.4359%2013.071%2020.2001%2012.5682C19.9643%2012.0653%2019.8464%2011.4545%2019.8464%2010.7358C19.8464%2010.0085%2019.9657%209.39489%2020.2044%208.89489C20.4458%208.39205%2020.7711%208.01278%2021.1802%207.7571C21.5893%207.49858%2022.0453%207.36932%2022.5481%207.36932C22.9316%207.36932%2023.247%207.43466%2023.4941%207.56534C23.7413%207.69318%2023.9373%207.84801%2024.0822%208.02983C24.2271%208.20881%2024.3393%208.37784%2024.4189%208.53693H24.4828V5.27273H26.0297V14H24.5126V12.9688H24.4189C24.3393%2013.1278%2024.2243%2013.2969%2024.0737%2013.4759C23.9231%2013.652%2023.7243%2013.8026%2023.4771%2013.9276C23.2299%2014.0526%2022.9189%2014.1151%2022.5439%2014.1151ZM22.9743%2012.8494C23.301%2012.8494%2023.5794%2012.7614%2023.8095%2012.5852C24.0396%2012.4062%2024.2143%2012.1577%2024.3336%2011.8395C24.4529%2011.5213%2024.5126%2011.1506%2024.5126%2010.7273C24.5126%2010.304%2024.4529%209.93608%2024.3336%209.62358C24.2172%209.31108%2024.0439%209.06818%2023.8137%208.89489C23.5865%208.72159%2023.3066%208.63494%2022.9743%208.63494C22.6305%208.63494%2022.3436%208.72443%2022.1135%208.90341C21.8833%209.08239%2021.71%209.32955%2021.5936%209.64489C21.4771%209.96023%2021.4189%2010.321%2021.4189%2010.7273C21.4189%2011.1364%2021.4771%2011.5014%2021.5936%2011.8224C21.7129%2012.1406%2021.8876%2012.392%2022.1177%2012.5767C22.3507%2012.7585%2022.6362%2012.8494%2022.9743%2012.8494Z'%20fill='black'/%3e%3c/svg%3e",Ia="data:image/svg+xml,%3csvg%20width='47'%20height='16'%20viewBox='0%200%2047%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='47'%20height='16'%20rx='5'%20fill='%23A2A0D1'%20fill-opacity='0.7'/%3e%3cpath%20d='M10.2179%207.18466L8.81161%207.33807C8.77184%207.19602%208.70224%207.0625%208.60281%206.9375C8.50621%206.8125%208.37553%206.71165%208.21076%206.63494C8.04599%206.55824%207.84428%206.51989%207.60565%206.51989C7.28462%206.51989%207.01474%206.58949%206.79599%206.72869C6.58008%206.8679%206.47354%207.0483%206.47639%207.26989C6.47354%207.46023%206.54315%207.61506%206.68519%207.73438C6.83008%207.85369%207.06871%207.9517%207.4011%208.02841L8.51758%208.26705C9.1369%208.40057%209.59712%208.61222%209.89826%208.90199C10.2022%209.19176%2010.3556%209.57102%2010.3585%2010.0398C10.3556%2010.4517%2010.2349%2010.8153%209.99627%2011.1307C9.76048%2011.4432%209.43235%2011.6875%209.0119%2011.8636C8.59144%2012.0398%208.10849%2012.1278%207.56303%2012.1278C6.7619%2012.1278%206.11701%2011.9602%205.62837%2011.625C5.13974%2011.2869%204.84854%2010.8168%204.75479%2010.2145L6.25906%2010.0696C6.32724%2010.3651%206.47212%2010.5881%206.69371%2010.7386C6.91531%2010.8892%207.20366%2010.9645%207.55877%2010.9645C7.92525%2010.9645%208.21928%2010.8892%208.44087%2010.7386C8.66531%2010.5881%208.77752%2010.402%208.77752%2010.1804C8.77752%209.9929%208.70508%209.83807%208.56019%209.71591C8.41815%209.59375%208.19656%209.5%207.89542%209.43466L6.77894%209.20028C6.1511%209.0696%205.68661%208.84943%205.38548%208.53977C5.08434%208.22727%204.93519%207.83239%204.93803%207.35511C4.93519%206.9517%205.04457%206.60227%205.26616%206.30682C5.49059%206.00852%205.80167%205.77841%206.1994%205.61648C6.59996%205.4517%207.06161%205.36932%207.58434%205.36932C8.35139%205.36932%208.95508%205.53267%209.39542%205.85938C9.8386%206.18608%2010.1127%206.62784%2010.2179%207.18466ZM15.8024%209.24716V5.45455H17.345V12H15.8493V10.8366H15.7811C15.6333%2011.2031%2015.3904%2011.5028%2015.0524%2011.7358C14.7172%2011.9687%2014.3038%2012.0852%2013.8123%2012.0852C13.3833%2012.0852%2013.0041%2011.9901%2012.6745%2011.7997C12.3478%2011.6065%2012.0922%2011.3267%2011.9075%2010.9602C11.7228%2010.5909%2011.6305%2010.1449%2011.6305%209.62216V5.45455H13.1731V9.38352C13.1731%209.7983%2013.2868%2010.1278%2013.514%2010.3722C13.7413%2010.6165%2014.0396%2010.7386%2014.4089%2010.7386C14.6362%2010.7386%2014.8564%2010.6832%2015.0694%2010.5724C15.2825%2010.4616%2015.4572%2010.2969%2015.5936%2010.0781C15.7328%209.85653%2015.8024%209.57955%2015.8024%209.24716ZM18.9313%2012V5.45455H20.4057V6.56676H20.4824C20.6188%206.19176%2020.8446%205.89915%2021.16%205.68892C21.4753%205.47585%2021.8517%205.36932%2022.2892%205.36932C22.7324%205.36932%2023.106%205.47727%2023.41%205.69318C23.7168%205.90625%2023.9327%206.19744%2024.0577%206.56676H24.1259C24.2708%206.20312%2024.5151%205.91335%2024.8588%205.69744C25.2054%205.47869%2025.6159%205.36932%2026.0904%205.36932C26.6926%205.36932%2027.1841%205.55966%2027.5648%205.94034C27.9455%206.32102%2028.1358%206.87642%2028.1358%207.60653V12H26.589V7.84517C26.589%207.43892%2026.481%207.14205%2026.2651%206.95455C26.0492%206.7642%2025.785%206.66903%2025.4725%206.66903C25.1003%206.66903%2024.8091%206.78551%2024.5989%207.01847C24.3915%207.24858%2024.2878%207.5483%2024.2878%207.91761V12H22.775V7.78125C22.775%207.44318%2022.6728%207.1733%2022.4682%206.97159C22.2665%206.76989%2022.0023%206.66903%2021.6756%206.66903C21.454%206.66903%2021.2523%206.72585%2021.0705%206.83949C20.8887%206.95028%2020.7438%207.10795%2020.6358%207.3125C20.5279%207.5142%2020.4739%207.75%2020.4739%208.01989V12H18.9313ZM30.1099%207.83239V6.51562H35.7818V7.83239H30.1099ZM30.1099%2010.5597V9.2429H35.7818V10.5597H30.1099ZM41.3077%203.27273V12H39.7267V4.81108H39.6756L37.6344%206.11506V4.66619L39.8034%203.27273H41.3077Z'%20fill='black'/%3e%3c/svg%3e",Va="data:image/svg+xml,%3csvg%20width='47'%20height='16'%20viewBox='0%200%2047%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='47'%20height='16'%20rx='5'%20fill='%23D9D9D9'/%3e%3cpath%20d='M10.2179%207.18466L8.81161%207.33807C8.77184%207.19602%208.70224%207.0625%208.60281%206.9375C8.50621%206.8125%208.37553%206.71165%208.21076%206.63494C8.04599%206.55824%207.84428%206.51989%207.60565%206.51989C7.28462%206.51989%207.01474%206.58949%206.79599%206.72869C6.58008%206.8679%206.47354%207.0483%206.47639%207.26989C6.47354%207.46023%206.54315%207.61506%206.68519%207.73438C6.83008%207.85369%207.06871%207.9517%207.4011%208.02841L8.51758%208.26705C9.1369%208.40057%209.59712%208.61222%209.89826%208.90199C10.2022%209.19176%2010.3556%209.57102%2010.3585%2010.0398C10.3556%2010.4517%2010.2349%2010.8153%209.99627%2011.1307C9.76048%2011.4432%209.43235%2011.6875%209.0119%2011.8636C8.59144%2012.0398%208.10849%2012.1278%207.56303%2012.1278C6.7619%2012.1278%206.11701%2011.9602%205.62837%2011.625C5.13974%2011.2869%204.84854%2010.8168%204.75479%2010.2145L6.25906%2010.0696C6.32724%2010.3651%206.47212%2010.5881%206.69371%2010.7386C6.91531%2010.8892%207.20366%2010.9645%207.55877%2010.9645C7.92525%2010.9645%208.21928%2010.8892%208.44087%2010.7386C8.66531%2010.5881%208.77752%2010.402%208.77752%2010.1804C8.77752%209.9929%208.70508%209.83807%208.56019%209.71591C8.41815%209.59375%208.19656%209.5%207.89542%209.43466L6.77894%209.20028C6.1511%209.0696%205.68661%208.84943%205.38548%208.53977C5.08434%208.22727%204.93519%207.83239%204.93803%207.35511C4.93519%206.9517%205.04457%206.60227%205.26616%206.30682C5.49059%206.00852%205.80167%205.77841%206.1994%205.61648C6.59996%205.4517%207.06161%205.36932%207.58434%205.36932C8.35139%205.36932%208.95508%205.53267%209.39542%205.85938C9.8386%206.18608%2010.1127%206.62784%2010.2179%207.18466ZM15.8024%209.24716V5.45455H17.345V12H15.8493V10.8366H15.7811C15.6333%2011.2031%2015.3904%2011.5028%2015.0524%2011.7358C14.7172%2011.9687%2014.3038%2012.0852%2013.8123%2012.0852C13.3833%2012.0852%2013.0041%2011.9901%2012.6745%2011.7997C12.3478%2011.6065%2012.0922%2011.3267%2011.9075%2010.9602C11.7228%2010.5909%2011.6305%2010.1449%2011.6305%209.62216V5.45455H13.1731V9.38352C13.1731%209.7983%2013.2868%2010.1278%2013.514%2010.3722C13.7413%2010.6165%2014.0396%2010.7386%2014.4089%2010.7386C14.6362%2010.7386%2014.8564%2010.6832%2015.0694%2010.5724C15.2825%2010.4616%2015.4572%2010.2969%2015.5936%2010.0781C15.7328%209.85653%2015.8024%209.57955%2015.8024%209.24716ZM18.9313%2012V5.45455H20.4057V6.56676H20.4824C20.6188%206.19176%2020.8446%205.89915%2021.16%205.68892C21.4753%205.47585%2021.8517%205.36932%2022.2892%205.36932C22.7324%205.36932%2023.106%205.47727%2023.41%205.69318C23.7168%205.90625%2023.9327%206.19744%2024.0577%206.56676H24.1259C24.2708%206.20312%2024.5151%205.91335%2024.8588%205.69744C25.2054%205.47869%2025.6159%205.36932%2026.0904%205.36932C26.6926%205.36932%2027.1841%205.55966%2027.5648%205.94034C27.9455%206.32102%2028.1358%206.87642%2028.1358%207.60653V12H26.589V7.84517C26.589%207.43892%2026.481%207.14205%2026.2651%206.95455C26.0492%206.7642%2025.785%206.66903%2025.4725%206.66903C25.1003%206.66903%2024.8091%206.78551%2024.5989%207.01847C24.3915%207.24858%2024.2878%207.5483%2024.2878%207.91761V12H22.775V7.78125C22.775%207.44318%2022.6728%207.1733%2022.4682%206.97159C22.2665%206.76989%2022.0023%206.66903%2021.6756%206.66903C21.454%206.66903%2021.2523%206.72585%2021.0705%206.83949C20.8887%206.95028%2020.7438%207.10795%2020.6358%207.3125C20.5279%207.5142%2020.4739%207.75%2020.4739%208.01989V12H18.9313ZM35.8585%2011.6463H30.0289V10.3636H35.8585V11.6463ZM30.0289%208.11364V6.88636L35.8585%205.14773V6.42614L31.9423%207.48295L31.9892%207.40199V7.59801L31.9423%207.51705L35.8585%208.57386V9.85227L30.0289%208.11364ZM41.3077%203.27273V12H39.7267V4.81108H39.6756L37.6344%206.11506V4.66619L39.8034%203.27273H41.3077Z'%20fill='black'/%3e%3c/svg%3e";function $e(t){t.collapsed===void 0&&(t.collapsed=!1),t.children&&t.children.forEach(e=>$e(e))}function Oa(t){return["Duration Encoded along Timelines","Cross-track Dependencies","Discrete Tracks"].includes(t.name)}function kt(t,e){return t.name==="Gantts"?!!(kt(t.children[0],e)&&kt(t.children[1],e)&&kt(t.children[2],e)):e.includes(t.name)?!0:t.children?t.children.some(n=>kt(n,e)):!1}function Xn(t,e){let n=!1;return e.has(t.name)&&(t.collapsed=!1,n=!0),t.children&&t.children.forEach(r=>{const i=Xn(r,e);n=n||i}),n&&(t.collapsed=!1),n}function Pn(t,e,n){if(!t.children||t.children.length===0)return t.data.wid=1,t.data.size=[e,n],1;const r=t.children.reduce((i,s)=>i+Pn(s,e,n),0);return t.data.wid=r,t.data.size=[e*r,n],r}function Ha(t,e=[],n){$e(n);const r=rt(t);r.selectAll("*").remove();const i=r.append("g").attr("class","nodes"),s=r.append("g").attr("class","operators"),o=100,a=42,u=5,l=10,h=5,_=7,v=500,b=new Set(e);Xn(n,b);function D(){$e(n);const V=Ve(n,c=>c.collapsed?null:c.children);Pn(V,o,a);const R=Ln({})(V),Z=Xe(R.descendants(),c=>c.x)-o,G=Xe(R.descendants(),c=>c.y)-a,et=R.descendants(),j=i.selectAll(".node").data(et,c=>c.data.name);j.enter().append("g").attr("class","node").attr("transform",c=>(c.data.size&&c.data.size[0],`translate(${c.x-Z},${c.y-G})`)).each(function(c){const C=rt(this),y=c.data.size?c.data.size[0]:o,E=-y/2;if(C.append("path").attr("class","top-line").attr("d",`
          M ${E+u} 0 H ${E+y-u}
          M ${E+u} 0 V ${l}
          M ${E+y-u} 0 V ${l}
        `).attr("stroke-width",c.data.collapsed?3:1).attr("stroke","black").attr("fill","none"),c.children&&c.children.length>0&&(C.append("path").attr("class","left-line").attr("d",`
            M ${E+u} ${l} V ${a}
            M ${E+u} ${a} l -${h} -${h}
            M ${E+u} ${a} l ${h} -${h}
          `).attr("stroke","lightgray").attr("fill","none").attr("stroke-dasharray","5,5"),C.append("path").attr("class","right-line").attr("d",`
            M ${E+y-u} ${l} V ${a}
            M ${E+y-u} ${a} l ${h} -${h}
            M ${E+y-u} ${a} l -${h} -${h}
          `).attr("stroke","lightgray").attr("fill","none").attr("stroke-dasharray","5,5")),C.append("text").attr("class","node-text").attr("x",0).attr("y",-42/2+_).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("fill",e.includes(c.data.name)||kt(c.data,e)?"white":"black").style("font-weight",e.includes(c.data.name)||kt(c.data,e)?600:"normal").text(c.data.displayName?c.data.displayName:c.data.name).each(function(){const d=this,w=d.getComputedTextLength();let g=1;if(w>y*.75&&(g=y*.75/w,d.setAttribute("transform",`scale(${g})`)),e.includes(c.data.name)||kt(c.data,e)){const m=d.getBBox();if(d.parentNode!==null){const k=d.parentNode;rt(k).insert("rect","text").attr("class","node-text-rect").attr("x",m.x).attr("y",m.y).attr("width",m.width).attr("height",m.height).attr("fill","#E45756").attr("stroke","#E45756").attr("transform",g!==1?`scale(${g})`:null)}}if(Oa(c.data)&&!kt(c.data,e)&&e.length>0){const m=d.getBBox();if(d.parentNode!==null){const k=d.parentNode;rt(k).insert("rect","text").attr("class","node-text-rect").attr("x",m.x).attr("y",m.y).attr("width",m.width).attr("height",m.height).attr("fill","#86BA80").attr("stroke","#86BA80").attr("transform",g!==1?`scale(${g})`:null)}}}),c.data.sum!=="None"){let d="";c.data.sum==="EQUAL"?d=Ia:c.data.sum==="LESS"&&(d=Va),C.append("image").attr("class","sum-image").attr("href",d).attr("x",-40/2).attr("y",20/2-12.5).attr("width",40).attr("height",20)}c.data.children&&c.data.children.length>0&&C.append("rect").attr("class","clickable-area").attr("x",E+u).attr("y",0).attr("width",y-2*u).attr("height",l+10).attr("fill","transparent").style("cursor","pointer").on("click",function(d){d.stopPropagation(),c.data.collapsed=!c.data.collapsed,D()})}),j.transition().duration(v).attr("transform",c=>(c.data.size&&c.data.size[0],`translate(${c.x-Z},${c.y-G})`)).each(function(c){const C=rt(this),y=c.data.size?c.data.size[0]:o,E=-y/2,d=`
          M ${E+u} 0 H ${E+y-u}
          M ${E+u} 0 V ${l}
          M ${E+y-u} 0 V ${l}
        `;C.select(".top-line").transition().duration(v).attrTween("d",function(){const g=this.getAttribute("d")??"";return $n(g,d)}).attr("stroke-width",c.data.collapsed?3:1),C.select(".clickable-area").transition().duration(v).attr("width",y-2*u).attr("x",E+u),!c.data.collapsed&&c.children&&c.children.length>0?(C.select(".left-line").attr("d",`
              M ${E+u} ${l} V ${a}
              M ${E+u} ${a} l -${h} -${h}
              M ${E+u} ${a} l ${h} -${h}
            `),C.select(".right-line").attr("d",`
              M ${E+y-u} ${l} V ${a}
              M ${E+y-u} ${a} l ${h} -${h}
              M ${E+y-u} ${a} l -${h} -${h}
            `)):(C.select(".left-line").attr("d",null),C.select(".right-line").attr("d",null)),C.select(".node-text").each(function(){const w=this;w.removeAttribute("transform");const g=w.getBBox().width;if(g>y*.75){const m=y*.75/g;w.setAttribute("transform",`scale(${m})`)}})}),j.exit().transition().duration(v).style("opacity",0).remove();let I=[];et.forEach(c=>{if(c.children&&c.children.length>1&&c.data.logicalOperators&&c.data.logicalOperators.length>0){const C=Math.min(c.children.length-1,c.data.logicalOperators.length);for(let y=0;y<C;y++){const E=c.children[y],d=c.children[y+1],w=E.data.size?E.data.size[0]:o,g=d.data.size?d.data.size[0]:o,m=(E.x-Z+w/2+(d.x-Z-g/2))/2,k=c.y-G+a/2+_;I.push({key:c.data.name+"_"+y,operator:c.data.logicalOperators[y],x:m,y:k})}}});const f=s.selectAll("image.operator").data(I,c=>c.key);f.enter().append("image").attr("class","operator").attr("width",20).attr("height",20).attr("href",c=>c.operator==="AND"?Da:c.operator==="OR"?Na:"").attr("x",c=>c.x-10).attr("y",c=>c.y-10).style("opacity",0).transition().duration(v).style("opacity",1),f.transition().duration(v).attr("x",c=>c.x-10).attr("y",c=>c.y-10),f.exit().transition().duration(v).style("opacity",0).remove()}D()}const La={class:"svg-container"},Fa=un({__name:"DesignspaceView",props:{projectionList:{},dstreeData:{}},setup(t){const e=t,n=Ft(null),r=Ft(null);let i=null;const s=()=>{n.value&&rt(n.value).selectAll("*").remove()},o=()=>{if(!r.value)return;const u=rt(r.value);i=Po().on("zoom",l=>{rt(n.value).attr("transform",l.transform)}),u.call(i)},a=()=>{n.value&&(s(),Ha(n.value,e.projectionList,e.dstreeData))};return cn(()=>{o(),a()}),qn(()=>[...e.projectionList],(u,l)=>{(u.length!==l.length||JSON.stringify(u)!==JSON.stringify(l))&&a()}),(u,l)=>(ot(),ut("div",La,[(ot(),ut("svg",{id:"mainsvg",ref_key:"svgDSV",ref:r},[ct("g",{ref_key:"gElement",ref:n},null,512)],512))]))}}),Ba=Ae(Fa,[["__scopeId","data-v-c3434ad7"]]);function Xa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ne={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var Pa=ne.exports,ln;function qa(){return ln||(ln=1,function(t,e){((n,r)=>{t.exports=r()})(Pa,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},u=0,l={};function h(f){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(p){var c=j(p);c.chunkSize=parseInt(c.chunkSize),p.step||p.chunk||(c.chunkSize=null),this._handle=new V(c),(this._handle.streamer=this)._config=c}).call(this,f),this.parseChunk=function(p,c){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let E=this._config.newline;E||(y=this._config.quoteChar||'"',E=this._handle.guessLineEndings(p,y)),p=[...p.split(E).slice(C)].join(E)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(y=this._config.beforeFirstChunk(p))!==void 0&&(p=y),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+p,y=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(p=y.meta.cursor,C=(this._finished||(this._partialLine=C.substring(p-this._baseIndex),this._baseIndex=p),y&&y.data&&(this._rowCount+=y.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:y,workerId:l.WORKER_ID,finished:C});else if(I(this._config.chunk)&&!c){if(this._config.chunk(y,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=y=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(y.data),this._completeResults.errors=this._completeResults.errors.concat(y.errors),this._completeResults.meta=y.meta),this._completed||!C||!I(this._config.complete)||y&&y.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||y&&y.meta.paused||this._nextChunk(),y}this._halted=!0},this._sendError=function(p){I(this._config.error)?this._config.error(p):o&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:p,finished:!1})}}function _(f){var p;(f=f||{}).chunkSize||(f.chunkSize=l.RemoteChunkSize),h.call(this,f),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(c){this._input=c,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(p=new XMLHttpRequest,this._config.withCredentials&&(p.withCredentials=this._config.withCredentials),s||(p.onload=Q(this._chunkLoaded,this),p.onerror=Q(this._chunkError,this)),p.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var c,C=this._config.downloadRequestHeaders;for(c in C)p.setRequestHeader(c,C[c])}var y;this._config.chunkSize&&(y=this._start+this._config.chunkSize-1,p.setRequestHeader("Range","bytes="+this._start+"-"+y));try{p.send(this._config.downloadRequestBody)}catch(E){this._chunkError(E.message)}s&&p.status===0&&this._chunkError()}},this._chunkLoaded=function(){p.readyState===4&&(p.status<200||400<=p.status?this._chunkError():(this._start+=this._config.chunkSize||p.responseText.length,this._finished=!this._config.chunkSize||this._start>=(c=>(c=c.getResponseHeader("Content-Range"))!==null?parseInt(c.substring(c.lastIndexOf("/")+1)):-1)(p),this.parseChunk(p.responseText)))},this._chunkError=function(c){c=p.statusText||c,this._sendError(new Error(c))}}function v(f){(f=f||{}).chunkSize||(f.chunkSize=l.LocalChunkSize),h.call(this,f);var p,c,C=typeof FileReader<"u";this.stream=function(y){this._input=y,c=y.slice||y.webkitSlice||y.mozSlice,C?((p=new FileReader).onload=Q(this._chunkLoaded,this),p.onerror=Q(this._chunkError,this)):p=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var y=this._input,E=(this._config.chunkSize&&(E=Math.min(this._start+this._config.chunkSize,this._input.size),y=c.call(y,this._start,E)),p.readAsText(y,this._config.encoding));C||this._chunkLoaded({target:{result:E}})},this._chunkLoaded=function(y){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(y.target.result)},this._chunkError=function(){this._sendError(p.error)}}function b(f){var p;h.call(this,f=f||{}),this.stream=function(c){return p=c,this._nextChunk()},this._nextChunk=function(){var c,C;if(!this._finished)return c=this._config.chunkSize,p=c?(C=p.substring(0,c),p.substring(c)):(C=p,""),this._finished=!p,this.parseChunk(C)}}function D(f){h.call(this,f=f||{});var p=[],c=!0,C=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(y){this._input=y,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&p.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),p.length?this.parseChunk(p.shift()):c=!0},this._streamData=Q(function(y){try{p.push(typeof y=="string"?y:y.toString(this._config.encoding)),c&&(c=!1,this._checkIsFinished(),this.parseChunk(p.shift()))}catch(E){this._streamError(E)}},this),this._streamError=Q(function(y){this._streamCleanUp(),this._sendError(y)},this),this._streamEnd=Q(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=Q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function V(f){var p,c,C,y,E=Math.pow(2,53),d=-E,w=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,g=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,m=this,k=0,x=0,M=!1,S=!1,A=[],$={data:[],errors:[],meta:{}};function O(z){return f.skipEmptyLines==="greedy"?z.join("").trim()==="":z.length===1&&z[0].length===0}function F(){if($&&C&&(U("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),C=!1),f.skipEmptyLines&&($.data=$.data.filter(function(T){return!O(T)})),X()){let T=function(W,J){I(f.transformHeader)&&(W=f.transformHeader(W,J)),A.push(W)};if($)if(Array.isArray($.data[0])){for(var z=0;X()&&z<$.data.length;z++)$.data[z].forEach(T);$.data.splice(0,1)}else $.data.forEach(T)}function H(T,W){for(var J=f.header?{}:[],P=0;P<T.length;P++){var q=P,L=T[P],L=((lt,N)=>(Y=>(f.dynamicTypingFunction&&f.dynamicTyping[Y]===void 0&&(f.dynamicTyping[Y]=f.dynamicTypingFunction(Y)),(f.dynamicTyping[Y]||f.dynamicTyping)===!0))(lt)?N==="true"||N==="TRUE"||N!=="false"&&N!=="FALSE"&&((Y=>{if(w.test(Y)&&(Y=parseFloat(Y),d<Y&&Y<E))return 1})(N)?parseFloat(N):g.test(N)?new Date(N):N===""?null:N):N)(q=f.header?P>=A.length?"__parsed_extra":A[P]:q,L=f.transform?f.transform(L,q):L);q==="__parsed_extra"?(J[q]=J[q]||[],J[q].push(L)):J[q]=L}return f.header&&(P>A.length?U("FieldMismatch","TooManyFields","Too many fields: expected "+A.length+" fields but parsed "+P,x+W):P<A.length&&U("FieldMismatch","TooFewFields","Too few fields: expected "+A.length+" fields but parsed "+P,x+W)),J}var K;$&&(f.header||f.dynamicTyping||f.transform)&&(K=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(H),K=$.data.length):$.data=H($.data,0),f.header&&$.meta&&($.meta.fields=A),x+=K)}function X(){return f.header&&A.length===0}function U(z,H,K,T){z={type:z,code:H,message:K},T!==void 0&&(z.row=T),$.errors.push(z)}I(f.step)&&(y=f.step,f.step=function(z){$=z,X()?F():(F(),$.data.length!==0&&(k+=z.data.length,f.preview&&k>f.preview?c.abort():($.data=$.data[0],y($,m))))}),this.parse=function(z,H,K){var T=f.quoteChar||'"',T=(f.newline||(f.newline=this.guessLineEndings(z,T)),C=!1,f.delimiter?I(f.delimiter)&&(f.delimiter=f.delimiter(z),$.meta.delimiter=f.delimiter):((T=((W,J,P,q,L)=>{var lt,N,Y,Ct;L=L||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Rt=0;Rt<L.length;Rt++){for(var dt,Dt=L[Rt],nt=0,pt=0,tt=0,it=(Y=void 0,new R({comments:q,delimiter:Dt,newline:J,preview:10}).parse(W)),yt=0;yt<it.data.length;yt++)P&&O(it.data[yt])?tt++:(dt=it.data[yt].length,pt+=dt,Y===void 0?Y=dt:0<dt&&(nt+=Math.abs(dt-Y),Y=dt));0<it.data.length&&(pt/=it.data.length-tt),(N===void 0||nt<=N)&&(Ct===void 0||Ct<pt)&&1.99<pt&&(N=nt,lt=Dt,Ct=pt)}return{successful:!!(f.delimiter=lt),bestDelimiter:lt}})(z,f.newline,f.skipEmptyLines,f.comments,f.delimitersToGuess)).successful?f.delimiter=T.bestDelimiter:(C=!0,f.delimiter=l.DefaultDelimiter),$.meta.delimiter=f.delimiter),j(f));return f.preview&&f.header&&T.preview++,p=z,c=new R(T),$=c.parse(p,H,K),F(),M?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,c.abort(),p=I(f.chunk)?"":p.substring(c.getCharIndex())},this.resume=function(){m.streamer._halted?(M=!1,m.streamer.parseChunk(p,!0)):setTimeout(m.resume,3)},this.aborted=function(){return S},this.abort=function(){S=!0,c.abort(),$.meta.aborted=!0,I(f.complete)&&f.complete($),p=""},this.guessLineEndings=function(W,T){W=W.substring(0,1048576);var T=new RegExp(B(T)+"([^]*?)"+B(T),"gm"),K=(W=W.replace(T,"")).split("\r"),T=W.split(`
`),W=1<T.length&&T[0].length<K[0].length;if(K.length===1||W)return`
`;for(var J=0,P=0;P<K.length;P++)K[P][0]===`
`&&J++;return J>=K.length/2?`\r
`:"\r"}}function B(f){return f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(f){var p=(f=f||{}).delimiter,c=f.newline,C=f.comments,y=f.step,E=f.preview,d=f.fastMode,w=null,g=!1,m=f.quoteChar==null?'"':f.quoteChar,k=m;if(f.escapeChar!==void 0&&(k=f.escapeChar),(typeof p!="string"||-1<l.BAD_DELIMITERS.indexOf(p))&&(p=","),C===p)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<l.BAD_DELIMITERS.indexOf(C))&&(C=!1),c!==`
`&&c!=="\r"&&c!==`\r
`&&(c=`
`);var x=0,M=!1;this.parse=function(S,A,$){if(typeof S!="string")throw new Error("Input must be a string");var O=S.length,F=p.length,X=c.length,U=C.length,z=I(y),H=[],K=[],T=[],W=x=0;if(!S)return nt();if(d||d!==!1&&S.indexOf(m)===-1){for(var J=S.split(c),P=0;P<J.length;P++){if(T=J[P],x+=T.length,P!==J.length-1)x+=c.length;else if($)return nt();if(!C||T.substring(0,U)!==C){if(z){if(H=[],Ct(T.split(p)),pt(),M)return nt()}else Ct(T.split(p));if(E&&E<=P)return H=H.slice(0,E),nt(!0)}}return nt()}for(var q=S.indexOf(p,x),L=S.indexOf(c,x),lt=new RegExp(B(k)+B(m),"g"),N=S.indexOf(m,x);;)if(S[x]===m)for(N=x,x++;;){if((N=S.indexOf(m,N+1))===-1)return $||K.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:H.length,index:x}),dt();if(N===O-1)return dt(S.substring(x,N).replace(lt,m));if(m===k&&S[N+1]===k)N++;else if(m===k||N===0||S[N-1]!==k){q!==-1&&q<N+1&&(q=S.indexOf(p,N+1));var Y=Rt((L=L!==-1&&L<N+1?S.indexOf(c,N+1):L)===-1?q:Math.min(q,L));if(S.substr(N+1+Y,F)===p){T.push(S.substring(x,N).replace(lt,m)),S[x=N+1+Y+F]!==m&&(N=S.indexOf(m,x)),q=S.indexOf(p,x),L=S.indexOf(c,x);break}if(Y=Rt(L),S.substring(N+1+Y,N+1+Y+X)===c){if(T.push(S.substring(x,N).replace(lt,m)),Dt(N+1+Y+X),q=S.indexOf(p,x),N=S.indexOf(m,x),z&&(pt(),M))return nt();if(E&&H.length>=E)return nt(!0);break}K.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:H.length,index:x}),N++}}else if(C&&T.length===0&&S.substring(x,x+U)===C){if(L===-1)return nt();x=L+X,L=S.indexOf(c,x),q=S.indexOf(p,x)}else if(q!==-1&&(q<L||L===-1))T.push(S.substring(x,q)),x=q+F,q=S.indexOf(p,x);else{if(L===-1)break;if(T.push(S.substring(x,L)),Dt(L+X),z&&(pt(),M))return nt();if(E&&H.length>=E)return nt(!0)}return dt();function Ct(tt){H.push(tt),W=x}function Rt(tt){var it=0;return it=tt!==-1&&(tt=S.substring(N+1,tt))&&tt.trim()===""?tt.length:it}function dt(tt){return $||(tt===void 0&&(tt=S.substring(x)),T.push(tt),x=O,Ct(T),z&&pt()),nt()}function Dt(tt){x=tt,Ct(T),T=[],L=S.indexOf(c,x)}function nt(tt){if(f.header&&!A&&H.length&&!g){var it=H[0],yt={},pe=new Set(it);let He=!1;for(let Mt=0;Mt<it.length;Mt++){let gt=it[Mt];if(yt[gt=I(f.transformHeader)?f.transformHeader(gt,Mt):gt]){let It,Le=yt[gt];for(;It=gt+"_"+Le,Le++,pe.has(It););pe.add(It),it[Mt]=It,yt[gt]++,He=!0,(w=w===null?{}:w)[It]=gt}else yt[gt]=1,it[Mt]=gt;pe.add(gt)}He&&console.warn("Duplicate headers found and renamed."),g=!0}return{data:H,errors:K,meta:{delimiter:p,linebreak:c,aborted:M,truncated:!!tt,cursor:W+(A||0),renamedHeaders:w}}}function pt(){y(nt()),H=[],K=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return x}}function Z(f){var p=f.data,c=a[p.workerId],C=!1;if(p.error)c.userError(p.error,p.file);else if(p.results&&p.results.data){var y={abort:function(){C=!0,G(p.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:et,resume:et};if(I(c.userStep)){for(var E=0;E<p.results.data.length&&(c.userStep({data:p.results.data[E],errors:p.results.errors,meta:p.results.meta},y),!C);E++);delete p.results}else I(c.userChunk)&&(c.userChunk(p.results,y,p.file),delete p.results)}p.finished&&!C&&G(p.workerId,p.results)}function G(f,p){var c=a[f];I(c.userComplete)&&c.userComplete(p),c.terminate(),delete a[f]}function et(){throw new Error("Not implemented.")}function j(f){if(typeof f!="object"||f===null)return f;var p,c=Array.isArray(f)?[]:{};for(p in f)c[p]=j(f[p]);return c}function Q(f,p){return function(){f.apply(p,arguments)}}function I(f){return typeof f=="function"}return l.parse=function(f,p){var c=(p=p||{}).dynamicTyping||!1;if(I(c)&&(p.dynamicTypingFunction=c,c={}),p.dynamicTyping=c,p.transform=!!I(p.transform)&&p.transform,!p.worker||!l.WORKERS_SUPPORTED)return c=null,l.NODE_STREAM_INPUT,typeof f=="string"?(f=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(f),c=new(p.download?_:b)(p)):f.readable===!0&&I(f.read)&&I(f.on)?c=new D(p):(r.File&&f instanceof File||f instanceof Object)&&(c=new v(p)),c.stream(f);(c=(()=>{var C;return!!l.WORKERS_SUPPORTED&&(C=(()=>{var y=r.URL||r.webkitURL||null,E=n.toString();return l.BLOB_URL||(l.BLOB_URL=y.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",E,")();"],{type:"text/javascript"})))})(),(C=new r.Worker(C)).onmessage=Z,C.id=u++,a[C.id]=C)})()).userStep=p.step,c.userChunk=p.chunk,c.userComplete=p.complete,c.userError=p.error,p.step=I(p.step),p.chunk=I(p.chunk),p.complete=I(p.complete),p.error=I(p.error),delete p.worker,c.postMessage({input:f,config:p,workerId:c.id})},l.unparse=function(f,p){var c=!1,C=!0,y=",",E=`\r
`,d='"',w=d+d,g=!1,m=null,k=!1,x=((()=>{if(typeof p=="object"){if(typeof p.delimiter!="string"||l.BAD_DELIMITERS.filter(function(A){return p.delimiter.indexOf(A)!==-1}).length||(y=p.delimiter),typeof p.quotes!="boolean"&&typeof p.quotes!="function"&&!Array.isArray(p.quotes)||(c=p.quotes),typeof p.skipEmptyLines!="boolean"&&typeof p.skipEmptyLines!="string"||(g=p.skipEmptyLines),typeof p.newline=="string"&&(E=p.newline),typeof p.quoteChar=="string"&&(d=p.quoteChar),typeof p.header=="boolean"&&(C=p.header),Array.isArray(p.columns)){if(p.columns.length===0)throw new Error("Option columns is empty");m=p.columns}p.escapeChar!==void 0&&(w=p.escapeChar+d),p.escapeFormulae instanceof RegExp?k=p.escapeFormulae:typeof p.escapeFormulae=="boolean"&&p.escapeFormulae&&(k=/^[=+\-@\t\r].*$/)}})(),new RegExp(B(d),"g"));if(typeof f=="string"&&(f=JSON.parse(f)),Array.isArray(f)){if(!f.length||Array.isArray(f[0]))return M(null,f,g);if(typeof f[0]=="object")return M(m||Object.keys(f[0]),f,g)}else if(typeof f=="object")return typeof f.data=="string"&&(f.data=JSON.parse(f.data)),Array.isArray(f.data)&&(f.fields||(f.fields=f.meta&&f.meta.fields||m),f.fields||(f.fields=Array.isArray(f.data[0])?f.fields:typeof f.data[0]=="object"?Object.keys(f.data[0]):[]),Array.isArray(f.data[0])||typeof f.data[0]=="object"||(f.data=[f.data])),M(f.fields||[],f.data||[],g);throw new Error("Unable to serialize unrecognized input");function M(A,$,O){var F="",X=(typeof A=="string"&&(A=JSON.parse(A)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(A)&&0<A.length),U=!Array.isArray($[0]);if(X&&C){for(var z=0;z<A.length;z++)0<z&&(F+=y),F+=S(A[z],z);0<$.length&&(F+=E)}for(var H=0;H<$.length;H++){var K=(X?A:$[H]).length,T=!1,W=X?Object.keys($[H]).length===0:$[H].length===0;if(O&&!X&&(T=O==="greedy"?$[H].join("").trim()==="":$[H].length===1&&$[H][0].length===0),O==="greedy"&&X){for(var J=[],P=0;P<K;P++){var q=U?A[P]:P;J.push($[H][q])}T=J.join("").trim()===""}if(!T){for(var L=0;L<K;L++){0<L&&!W&&(F+=y);var lt=X&&U?A[L]:L;F+=S($[H][lt],L)}H<$.length-1&&(!O||0<K&&!W)&&(F+=E)}}return F}function S(A,$){var O,F;return A==null?"":A.constructor===Date?JSON.stringify(A).slice(1,25):(F=!1,k&&typeof A=="string"&&k.test(A)&&(A="'"+A,F=!0),O=A.toString().replace(x,w),(F=F||c===!0||typeof c=="function"&&c(A,$)||Array.isArray(c)&&c[$]||((X,U)=>{for(var z=0;z<U.length;z++)if(-1<X.indexOf(U[z]))return!0;return!1})(O,l.BAD_DELIMITERS)||-1<O.indexOf(y)||O.charAt(0)===" "||O.charAt(O.length-1)===" ")?d+O+d:O)}},l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=R,l.ParserHandle=V,l.NetworkStreamer=_,l.FileStreamer=v,l.StringStreamer=b,l.ReadableStreamStreamer=D,r.jQuery&&((i=r.jQuery).fn.parse=function(f){var p=f.config||{},c=[];return this.each(function(E){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var d=0;d<this.files.length;d++)c.push({file:this.files[d],inputElem:this,instanceConfig:i.extend({},p)})}),C(),this;function C(){if(c.length===0)I(f.complete)&&f.complete();else{var E,d,w,g,m=c[0];if(I(f.before)){var k=f.before(m.file,m.inputElem);if(typeof k=="object"){if(k.action==="abort")return E="AbortError",d=m.file,w=m.inputElem,g=k.reason,void(I(f.error)&&f.error({name:E},d,w,g));if(k.action==="skip")return void y();typeof k.config=="object"&&(m.instanceConfig=i.extend(m.instanceConfig,k.config))}else if(k==="skip")return void y()}var x=m.instanceConfig.complete;m.instanceConfig.complete=function(M){I(x)&&x(M,m.file,m.inputElem),y()},l.parse(m.file,m.instanceConfig)}}function y(){c.splice(0,1),C()}}),o&&(r.onmessage=function(f){f=f.data,l.WORKER_ID===void 0&&f&&(l.WORKER_ID=f.workerId),typeof f.input=="string"?r.postMessage({workerId:l.WORKER_ID,results:l.parse(f.input,f.config),finished:!0}):(r.File&&f.input instanceof File||f.input instanceof Object)&&(f=l.parse(f.input,f.config))&&r.postMessage({workerId:l.WORKER_ID,results:f,finished:!0})}),(_.prototype=Object.create(h.prototype)).constructor=_,(v.prototype=Object.create(h.prototype)).constructor=v,(b.prototype=Object.create(b.prototype)).constructor=b,(D.prototype=Object.create(h.prototype)).constructor=D,l})}(ne)),ne.exports}var Ua=qa();const Za=Xa(Ua),Ya={name:"GalleryView",props:{csvData:{type:String,required:!0}},data(){return{parsedData:[],selectedItemId:null}},computed:{selectedItem(){return this.parsedData.find(t=>t.id===this.selectedItemId)}},watch:{csvData:{immediate:!0,handler(t){this.parseCSV(t)}}},methods:{parseCSV(t){Za.parse(t,{header:!0,skipEmptyLines:!0,complete:e=>{this.parsedData=e.data.map(n=>({...n,id:n["#"],projection:this.parseProjection(n.projection)}))},error:e=>{console.error("CSV解析错误:",e)}})},parseProjection(t){try{return t.replace(/^\[|\]$/g,"").split(",").map(e=>e.trim()).filter(Boolean)}catch{return[]}},hasValidImage(t){return t.image&&t.image.toLowerCase()!=="nan"},itemStyle(t){return{width:this.hasValidImage(t)?"auto":"200px",height:"100px"}},handleItemClick(t){this.selectedItemId=t.id,this.$emit("item-selected",t.projection)}}},Ka={class:"gallery-wrapper"},Wa={class:"info-list"},Ga={key:0},Qa={class:"item-link"},ja=["href"],Ja={class:"item-title"},t0={class:"item-description"},e0={key:1},n0={class:"gallery-container"},r0=["onClick"],i0=["src"],s0={key:1,class:"default-item"};function o0(t,e,n,r,i,s){return ot(),ut("div",Ka,[ct("div",Wa,[s.selectedItem?(ot(),ut("div",Ga,[ct("div",Qa,[ct("a",{href:s.selectedItem.link,target:"_blank"},Yt(s.selectedItem.link),9,ja)]),ct("div",Ja,Yt("Title: "+s.selectedItem.title),1),ct("div",t0,Yt("Description: "+s.selectedItem.description),1)])):(ot(),ut("div",e0,e[0]||(e[0]=[ct("p",null,"please select an item",-1)])))]),ct("div",n0,[(ot(!0),ut(Un,null,Zn(i.parsedData,o=>(ot(),ut("div",{key:o.id,class:Yn(["gallery-item",{selected:o.id===i.selectedItemId}]),style:Kn(s.itemStyle(o)),onClick:a=>s.handleItemClick(o)},[s.hasValidImage(o)?(ot(),ut("img",{key:0,src:o.image,alt:"Projection preview",class:"gallery-image"},null,8,i0)):(ot(),ut("div",s0,Yt("NaN")))],14,r0))),128))])])}const a0=Ae(Ya,[["render",o0],["__scopeId","data-v-e490b940"]]);async function l0(){try{const t=await fetch("https://raw.githubusercontent.com/hconhisway/DesignSpaceInteractive/refs/heads/main/src/assets/dstree.json");if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const e=await t.json();return console.log(e),e}catch(t){return console.error("Error fetching dstree.json:",t),null}}const u0=un({components:{GalleryView:a0,DesignSpaceView:Ba},setup(){const t=Ft(""),e=Ft([]),n=Ft(null);(async()=>n.value=await l0())();const r=async()=>{try{const s=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vRgVvRNgeNqgC1yObFsqNq0sKTkIPTJ_nI10fdhw75zXZ8ZtRyMFkZ2CR7awzDx4udBe243GwFuNlip/pub?gid=1078384481&single=true&output=csv");if(!s.ok)throw new Error("Failed to load CSV from Google Sheets");t.value=await s.text()}catch(s){console.error("Error loading CSV:",s)}},i=s=>{e.value=s};return cn(()=>{r()}),{rawCsvData:t,currentProjection:e,dstreeData:n,handleProjectionSelect:i}}}),c0={class:"designspace"},h0={class:"column"},f0={class:"column"},d0={key:0,class:"loading"};function p0(t,e,n,r,i,s){const o=Be("DesignSpaceView"),a=Be("GalleryView");return ot(),ut("div",c0,[ct("div",h0,[t.dstreeData?(ot(),Fe(o,{key:0,"projection-list":t.currentProjection,"dstree-data":t.dstreeData},null,8,["projection-list","dstree-data"])):Wn("",!0)]),e[0]||(e[0]=ct("div",{class:"divider"},null,-1)),ct("div",f0,[t.rawCsvData?(ot(),Fe(a,{key:1,"csv-data":t.rawCsvData,onItemSelected:t.handleProjectionSelect},null,8,["csv-data","onItemSelected"])):(ot(),ut("div",d0,"Loading data..."))])])}const m0=Ae(u0,[["render",p0],["__scopeId","data-v-f75ad1a2"]]);export{m0 as default};
