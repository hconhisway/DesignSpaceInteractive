import{d as on,r as te,b as an,w as Pn,o as dt,c as yt,a as Wt,_ as Se,F as Xn,e as qn,n as Un,f as Yn,t as Zn,g as Wn,h as Kn,i as Gn,j as Ie}from"./index-b2QKLdOg.js";function He(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}var jn={value:()=>{}};function $e(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Kt(n)}function Kt(t){this._=t}function Qn(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Kt.prototype=$e.prototype={constructor:Kt,on:function(t,e){var n=this._,r=Qn(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=Jn(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Fe(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Fe(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Kt(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Jn(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Fe(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=jn,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var _e="http://www.w3.org/1999/xhtml";const Be={svg:"http://www.w3.org/2000/svg",xhtml:_e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ue(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Be.hasOwnProperty(e)?{space:Be[e],local:t}:t}function tr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_e&&e.documentElement.namespaceURI===_e?e.createElement(t):e.createElementNS(n,t)}}function er(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ln(t){var e=ue(t);return(e.local?er:tr)(e)}function nr(){}function Ae(t){return t==null?nr:function(){return this.querySelector(t)}}function rr(t){typeof t!="function"&&(t=Ae(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),c,u,f=0;f<o;++f)(c=s[f])&&(u=t.call(c,c.__data__,f,s))&&("__data__"in c&&(u.__data__=c.__data__),a[f]=u);return new ot(r,this._parents)}function ir(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function sr(){return[]}function un(t){return t==null?sr:function(){return this.querySelectorAll(t)}}function or(t){return function(){return ir(t.apply(this,arguments))}}function ar(t){typeof t=="function"?t=or(t):t=un(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,c,u=0;u<a;++u)(c=o[u])&&(r.push(t.call(c,c.__data__,u,o)),i.push(c));return new ot(r,i)}function cn(t){return function(){return this.matches(t)}}function hn(t){return function(e){return e.matches(t)}}var lr=Array.prototype.find;function ur(t){return function(){return lr.call(this.children,t)}}function cr(){return this.firstElementChild}function hr(t){return this.select(t==null?cr:ur(typeof t=="function"?t:hn(t)))}var fr=Array.prototype.filter;function dr(){return Array.from(this.children)}function pr(t){return function(){return fr.call(this.children,t)}}function gr(t){return this.selectAll(t==null?dr:pr(typeof t=="function"?t:hn(t)))}function mr(t){typeof t!="function"&&(t=cn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],c,u=0;u<o;++u)(c=s[u])&&t.call(c,c.__data__,u,s)&&a.push(c);return new ot(r,this._parents)}function fn(t){return new Array(t.length)}function _r(){return new ot(this._enter||this._groups.map(fn),this._parents)}function ee(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ee.prototype={constructor:ee,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function yr(t){return function(){return t}}function vr(t,e,n,r,i,s){for(var o=0,a,c=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new ee(t,s[o]);for(;o<c;++o)(a=e[o])&&(i[o]=a)}function xr(t,e,n,r,i,s,o){var a,c,u=new Map,f=e.length,m=s.length,x=new Array(f),b;for(a=0;a<f;++a)(c=e[a])&&(x[a]=b=o.call(c,c.__data__,a,e)+"",u.has(b)?i[a]=c:u.set(b,c));for(a=0;a<m;++a)b=o.call(t,s[a],a,s)+"",(c=u.get(b))?(r[a]=c,c.__data__=s[a],u.delete(b)):n[a]=new ee(t,s[a]);for(a=0;a<f;++a)(c=e[a])&&u.get(x[a])===c&&(i[a]=c)}function wr(t){return t.__data__}function Cr(t,e){if(!arguments.length)return Array.from(this,wr);var n=e?xr:vr,r=this._parents,i=this._groups;typeof t!="function"&&(t=yr(t));for(var s=i.length,o=new Array(s),a=new Array(s),c=new Array(s),u=0;u<s;++u){var f=r[u],m=i[u],x=m.length,b=br(t.call(f,f&&f.__data__,u,r)),T=b.length,V=a[u]=new Array(T),B=o[u]=new Array(T),R=c[u]=new Array(x);n(f,m,V,B,R,b,e);for(var W=0,j=0,tt,et;W<T;++W)if(tt=V[W]){for(W>=j&&(j=W+1);!(et=B[j])&&++j<T;);tt._next=et||null}}return o=new ot(o,r),o._enter=a,o._exit=c,o}function br(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Er(){return new ot(this._exit||this._groups.map(fn),this._parents)}function kr(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Sr(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),c=0;c<o;++c)for(var u=n[c],f=r[c],m=u.length,x=a[c]=new Array(m),b,T=0;T<m;++T)(b=u[T]||f[T])&&(x[T]=b);for(;c<i;++c)a[c]=n[c];return new ot(a,this._parents)}function $r(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Ar(t){t||(t=Rr);function e(m,x){return m&&x?t(m.__data__,x.__data__):!m-!x}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,c=i[s]=new Array(a),u,f=0;f<a;++f)(u=o[f])&&(c[f]=u);c.sort(e)}return new ot(i,this._parents).order()}function Rr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Mr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function zr(){return Array.from(this)}function Or(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Nr(){let t=0;for(const e of this)++t;return t}function Tr(){return!this.node()}function Dr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function Lr(t){return function(){this.removeAttribute(t)}}function Vr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ir(t,e){return function(){this.setAttribute(t,e)}}function Hr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Fr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Br(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Pr(t,e){var n=ue(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Vr:Lr:typeof e=="function"?n.local?Br:Fr:n.local?Hr:Ir)(n,e))}function dn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Xr(t){return function(){this.style.removeProperty(t)}}function qr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ur(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Yr(t,e,n){return arguments.length>1?this.each((e==null?Xr:typeof e=="function"?Ur:qr)(t,e,n??"")):Mt(this.node(),t)}function Mt(t,e){return t.style.getPropertyValue(e)||dn(t).getComputedStyle(t,null).getPropertyValue(e)}function Zr(t){return function(){delete this[t]}}function Wr(t,e){return function(){this[t]=e}}function Kr(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Gr(t,e){return arguments.length>1?this.each((e==null?Zr:typeof e=="function"?Kr:Wr)(t,e)):this.node()[t]}function pn(t){return t.trim().split(/^|\s+/)}function Re(t){return t.classList||new gn(t)}function gn(t){this._node=t,this._names=pn(t.getAttribute("class")||"")}gn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function mn(t,e){for(var n=Re(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function _n(t,e){for(var n=Re(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function jr(t){return function(){mn(this,t)}}function Qr(t){return function(){_n(this,t)}}function Jr(t,e){return function(){(e.apply(this,arguments)?mn:_n)(this,t)}}function ti(t,e){var n=pn(t+"");if(arguments.length<2){for(var r=Re(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Jr:e?jr:Qr)(n,e))}function ei(){this.textContent=""}function ni(t){return function(){this.textContent=t}}function ri(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ii(t){return arguments.length?this.each(t==null?ei:(typeof t=="function"?ri:ni)(t)):this.node().textContent}function si(){this.innerHTML=""}function oi(t){return function(){this.innerHTML=t}}function ai(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function li(t){return arguments.length?this.each(t==null?si:(typeof t=="function"?ai:oi)(t)):this.node().innerHTML}function ui(){this.nextSibling&&this.parentNode.appendChild(this)}function ci(){return this.each(ui)}function hi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fi(){return this.each(hi)}function di(t){var e=typeof t=="function"?t:ln(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function pi(){return null}function gi(t,e){var n=typeof t=="function"?t:ln(t),r=e==null?pi:typeof e=="function"?e:Ae(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function mi(){var t=this.parentNode;t&&t.removeChild(this)}function _i(){return this.each(mi)}function yi(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vi(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xi(t){return this.select(t?vi:yi)}function wi(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ci(t){return function(e){t.call(this,e,this.__data__)}}function bi(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ei(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function ki(t,e,n){return function(){var r=this.__on,i,s=Ci(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Si(t,e,n){var r=bi(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,f;c<u;++c)for(i=0,f=a[c];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(a=e?ki:Ei,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function yn(t,e,n){var r=dn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $i(t,e){return function(){return yn(this,t,e)}}function Ai(t,e){return function(){return yn(this,t,e.apply(this,arguments))}}function Ri(t,e){return this.each((typeof e=="function"?Ai:$i)(t,e))}function*Mi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var vn=[null];function ot(t,e){this._groups=t,this._parents=e}function Pt(){return new ot([[document.documentElement]],vn)}function zi(){return this}ot.prototype=Pt.prototype={constructor:ot,select:rr,selectAll:ar,selectChild:hr,selectChildren:gr,filter:mr,data:Cr,enter:_r,exit:Er,join:kr,merge:Sr,selection:zi,order:$r,sort:Ar,call:Mr,nodes:zr,node:Or,size:Nr,empty:Tr,each:Dr,attr:Pr,style:Yr,property:Gr,classed:ti,text:ii,html:li,raise:ci,lower:fi,append:di,insert:gi,remove:_i,clone:xi,datum:wi,on:Si,dispatch:Ri,[Symbol.iterator]:Mi};function it(t){return typeof t=="string"?new ot([[document.querySelector(t)]],[document.documentElement]):new ot([[t]],vn)}function Oi(t){let e;for(;e=t.sourceEvent;)t=e;return t}function bt(t,e){if(t=Oi(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const ye={capture:!0,passive:!1};function ve(t){t.preventDefault(),t.stopImmediatePropagation()}function Ni(t){var e=t.document.documentElement,n=it(t).on("dragstart.drag",ve,ye);"onselectstart"in e?n.on("selectstart.drag",ve,ye):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ti(t,e){var n=t.document.documentElement,r=it(t).on("dragstart.drag",null);e&&(r.on("click.drag",ve,ye),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Me(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xt(){}var It=.7,ne=1/It,Rt="\\s*([+-]?\\d+)\\s*",Ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Di=/^#([0-9a-f]{3,8})$/,Li=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),Vi=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),Ii=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${Ht}\\)$`),Hi=new RegExp(`^rgba\\(${pt},${pt},${pt},${Ht}\\)$`),Fi=new RegExp(`^hsl\\(${Ht},${pt},${pt}\\)$`),Bi=new RegExp(`^hsla\\(${Ht},${pt},${pt},${Ht}\\)$`),Pe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Me(Xt,Ft,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xe,formatHex:Xe,formatHex8:Pi,formatHsl:Xi,formatRgb:qe,toString:qe});function Xe(){return this.rgb().formatHex()}function Pi(){return this.rgb().formatHex8()}function Xi(){return wn(this).formatHsl()}function qe(){return this.rgb().formatRgb()}function Ft(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Di.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ue(e):n===3?new st(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Li.exec(t))?new st(e[1],e[2],e[3],1):(e=Vi.exec(t))?new st(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ii.exec(t))?qt(e[1],e[2],e[3],e[4]):(e=Hi.exec(t))?qt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fi.exec(t))?We(e[1],e[2]/100,e[3]/100,1):(e=Bi.exec(t))?We(e[1],e[2]/100,e[3]/100,e[4]):Pe.hasOwnProperty(t)?Ue(Pe[t]):t==="transparent"?new st(NaN,NaN,NaN,0):null}function Ue(t){return new st(t>>16&255,t>>8&255,t&255,1)}function qt(t,e,n,r){return r<=0&&(t=e=n=NaN),new st(t,e,n,r)}function qi(t){return t instanceof Xt||(t=Ft(t)),t?(t=t.rgb(),new st(t.r,t.g,t.b,t.opacity)):new st}function xe(t,e,n,r){return arguments.length===1?qi(t):new st(t,e,n,r??1)}function st(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Me(st,xe,xn(Xt,{brighter(t){return t=t==null?ne:Math.pow(ne,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?It:Math.pow(It,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new st(kt(this.r),kt(this.g),kt(this.b),re(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ye,formatHex:Ye,formatHex8:Ui,formatRgb:Ze,toString:Ze}));function Ye(){return`#${Et(this.r)}${Et(this.g)}${Et(this.b)}`}function Ui(){return`#${Et(this.r)}${Et(this.g)}${Et(this.b)}${Et((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ze(){const t=re(this.opacity);return`${t===1?"rgb(":"rgba("}${kt(this.r)}, ${kt(this.g)}, ${kt(this.b)}${t===1?")":`, ${t})`}`}function re(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function kt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Et(t){return t=kt(t),(t<16?"0":"")+t.toString(16)}function We(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new lt(t,e,n,r)}function wn(t){if(t instanceof lt)return new lt(t.h,t.s,t.l,t.opacity);if(t instanceof Xt||(t=Ft(t)),!t)return new lt;if(t instanceof lt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,c=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new lt(o,a,c,t.opacity)}function Yi(t,e,n,r){return arguments.length===1?wn(t):new lt(t,e,n,r??1)}function lt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Me(lt,Yi,xn(Xt,{brighter(t){return t=t==null?ne:Math.pow(ne,t),new lt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?It:Math.pow(It,t),new lt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new st(de(t>=240?t-240:t+120,i,r),de(t,i,r),de(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new lt(Ke(this.h),Ut(this.s),Ut(this.l),re(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=re(this.opacity);return`${t===1?"hsl(":"hsla("}${Ke(this.h)}, ${Ut(this.s)*100}%, ${Ut(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ke(t){return t=(t||0)%360,t<0?t+360:t}function Ut(t){return Math.max(0,Math.min(1,t||0))}function de(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Cn=t=>()=>t;function Zi(t,e){return function(n){return t+n*e}}function Wi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ki(t){return(t=+t)==1?bn:function(e,n){return n-e?Wi(e,n,t):Cn(isNaN(e)?n:e)}}function bn(t,e){var n=e-t;return n?Zi(t,n):Cn(isNaN(t)?e:t)}const Ge=function t(e){var n=Ki(e);function r(i,s){var o=n((i=xe(i)).r,(s=xe(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),u=bn(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=c(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function Ct(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var we=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pe=new RegExp(we.source,"g");function Gi(t){return function(){return t}}function ji(t){return function(e){return t(e)+""}}function En(t,e){var n=we.lastIndex=pe.lastIndex=0,r,i,s,o=-1,a=[],c=[];for(t=t+"",e=e+"";(r=we.exec(t))&&(i=pe.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:Ct(r,i)})),n=pe.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?ji(c[0].x):Gi(e):(e=c.length,function(u){for(var f=0,m;f<e;++f)a[(m=c[f]).i]=m.x(u);return a.join("")})}var je=180/Math.PI,Ce={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kn(t,e,n,r,i,s){var o,a,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*je,skewX:Math.atan(c)*je,scaleX:o,scaleY:a}}var Yt;function Qi(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ce:kn(e.a,e.b,e.c,e.d,e.e,e.f)}function Ji(t){return t==null||(Yt||(Yt=document.createElementNS("http://www.w3.org/2000/svg","g")),Yt.setAttribute("transform",t),!(t=Yt.transform.baseVal.consolidate()))?Ce:(t=t.matrix,kn(t.a,t.b,t.c,t.d,t.e,t.f))}function Sn(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,f,m,x,b,T){if(u!==m||f!==x){var V=b.push("translate(",null,e,null,n);T.push({i:V-4,x:Ct(u,m)},{i:V-2,x:Ct(f,x)})}else(m||x)&&b.push("translate("+m+e+x+n)}function o(u,f,m,x){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),x.push({i:m.push(i(m)+"rotate(",null,r)-2,x:Ct(u,f)})):f&&m.push(i(m)+"rotate("+f+r)}function a(u,f,m,x){u!==f?x.push({i:m.push(i(m)+"skewX(",null,r)-2,x:Ct(u,f)}):f&&m.push(i(m)+"skewX("+f+r)}function c(u,f,m,x,b,T){if(u!==m||f!==x){var V=b.push(i(b)+"scale(",null,",",null,")");T.push({i:V-4,x:Ct(u,m)},{i:V-2,x:Ct(f,x)})}else(m!==1||x!==1)&&b.push(i(b)+"scale("+m+","+x+")")}return function(u,f){var m=[],x=[];return u=t(u),f=t(f),s(u.translateX,u.translateY,f.translateX,f.translateY,m,x),o(u.rotate,f.rotate,m,x),a(u.skewX,f.skewX,m,x),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,m,x),u=f=null,function(b){for(var T=-1,V=x.length,B;++T<V;)m[(B=x[T]).i]=B.x(b);return m.join("")}}}var ts=Sn(Qi,"px, ","px)","deg)"),es=Sn(Ji,", ",")",")"),ns=1e-12;function Qe(t){return((t=Math.exp(t))+1/t)/2}function rs(t){return((t=Math.exp(t))-1/t)/2}function is(t){return((t=Math.exp(2*t))-1)/(t+1)}const ss=function t(e,n,r){function i(s,o){var a=s[0],c=s[1],u=s[2],f=o[0],m=o[1],x=o[2],b=f-a,T=m-c,V=b*b+T*T,B,R;if(V<ns)R=Math.log(x/u)/e,B=function(D){return[a+D*b,c+D*T,u*Math.exp(e*D*R)]};else{var W=Math.sqrt(V),j=(x*x-u*u+r*V)/(2*u*n*W),tt=(x*x-u*u-r*V)/(2*x*n*W),et=Math.log(Math.sqrt(j*j+1)-j),Y=Math.log(Math.sqrt(tt*tt+1)-tt);R=(Y-et)/e,B=function(D){var h=D*R,l=Qe(et),p=u/(n*W)*(l*is(e*h+et)-rs(et));return[a+p*b,c+p*T,u*l/Qe(e*h+et)]}}return B.duration=R*1e3*e/Math.SQRT2,B}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,c=a*a;return t(o,a,c)},i}(Math.SQRT2,2,4);var zt=0,Lt=0,Tt=0,$n=1e3,ie,Vt,se=0,St=0,ce=0,Bt=typeof performance=="object"&&performance.now?performance:Date,An=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ze(){return St||(An(os),St=Bt.now()+ce)}function os(){St=0}function oe(){this._call=this._time=this._next=null}oe.prototype=Rn.prototype={constructor:oe,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ze():+n)+(e==null?0:+e),!this._next&&Vt!==this&&(Vt?Vt._next=this:ie=this,Vt=this),this._call=t,this._time=n,be()},stop:function(){this._call&&(this._call=null,this._time=1/0,be())}};function Rn(t,e,n){var r=new oe;return r.restart(t,e,n),r}function as(){ze(),++zt;for(var t=ie,e;t;)(e=St-t._time)>=0&&t._call.call(void 0,e),t=t._next;--zt}function Je(){St=(se=Bt.now())+ce,zt=Lt=0;try{as()}finally{zt=0,us(),St=0}}function ls(){var t=Bt.now(),e=t-se;e>$n&&(ce-=e,se=t)}function us(){for(var t,e=ie,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ie=n);Vt=t,be(r)}function be(t){if(!zt){Lt&&(Lt=clearTimeout(Lt));var e=t-St;e>24?(t<1/0&&(Lt=setTimeout(Je,t-Bt.now()-ce)),Tt&&(Tt=clearInterval(Tt))):(Tt||(se=Bt.now(),Tt=setInterval(ls,$n)),zt=1,An(Je))}}function tn(t,e,n){var r=new oe;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var cs=$e("start","end","cancel","interrupt"),hs=[],Mn=0,en=1,Ee=2,Gt=3,nn=4,ke=5,jt=6;function he(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;fs(t,n,{name:e,index:r,group:i,on:cs,tween:hs,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Mn})}function Oe(t,e){var n=ut(t,e);if(n.state>Mn)throw new Error("too late; already scheduled");return n}function gt(t,e){var n=ut(t,e);if(n.state>Gt)throw new Error("too late; already running");return n}function ut(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fs(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Rn(s,0,n.time);function s(u){n.state=en,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,m,x,b;if(n.state!==en)return c();for(f in r)if(b=r[f],b.name===n.name){if(b.state===Gt)return tn(o);b.state===nn?(b.state=jt,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[f]):+f<e&&(b.state=jt,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[f])}if(tn(function(){n.state===Gt&&(n.state=nn,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Ee,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ee){for(n.state=Gt,i=new Array(x=n.tween.length),f=0,m=-1;f<x;++f)(b=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++m]=b);i.length=m+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=ke,1),m=-1,x=i.length;++m<x;)i[m].call(t,f);n.state===ke&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=jt,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Qt(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Ee&&r.state<ke,r.state=jt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function ds(t){return this.each(function(){Qt(this,t)})}function ps(t,e){var n,r;return function(){var i=gt(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function gs(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=gt(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=a;break}c===u&&i.push(a)}s.tween=i}}function ms(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ut(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?ps:gs)(n,t,e))}function Ne(t,e,n){var r=t._id;return t.each(function(){var i=gt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ut(i,r).value[e]}}function zn(t,e){var n;return(typeof e=="number"?Ct:e instanceof Ft?Ge:(n=Ft(e))?(e=n,Ge):En)(t,e)}function _s(t){return function(){this.removeAttribute(t)}}function ys(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vs(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function xs(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function ws(t,e,n){var r,i,s;return function(){var o,a=n(this),c;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=a+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,a)))}}function Cs(t,e,n){var r,i,s;return function(){var o,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=a+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,a)))}}function bs(t,e){var n=ue(t),r=n==="transform"?es:zn;return this.attrTween(t,typeof e=="function"?(n.local?Cs:ws)(n,r,Ne(this,"attr."+t,e)):e==null?(n.local?ys:_s)(n):(n.local?xs:vs)(n,r,e))}function Es(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ks(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ss(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&ks(t,s)),n}return i._value=e,i}function $s(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Es(t,s)),n}return i._value=e,i}function As(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ue(t);return this.tween(n,(r.local?Ss:$s)(r,e))}function Rs(t,e){return function(){Oe(this,t).delay=+e.apply(this,arguments)}}function Ms(t,e){return e=+e,function(){Oe(this,t).delay=e}}function zs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Rs:Ms)(e,t)):ut(this.node(),e).delay}function Os(t,e){return function(){gt(this,t).duration=+e.apply(this,arguments)}}function Ns(t,e){return e=+e,function(){gt(this,t).duration=e}}function Ts(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Os:Ns)(e,t)):ut(this.node(),e).duration}function Ds(t,e){if(typeof e!="function")throw new Error;return function(){gt(this,t).ease=e}}function Ls(t){var e=this._id;return arguments.length?this.each(Ds(e,t)):ut(this.node(),e).ease}function Vs(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;gt(this,t).ease=n}}function Is(t){if(typeof t!="function")throw new Error;return this.each(Vs(this._id,t))}function Hs(t){typeof t!="function"&&(t=cn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],c,u=0;u<o;++u)(c=s[u])&&t.call(c,c.__data__,u,s)&&a.push(c);return new xt(r,this._parents,this._name,this._id)}function Fs(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var c=e[a],u=n[a],f=c.length,m=o[a]=new Array(f),x,b=0;b<f;++b)(x=c[b]||u[b])&&(m[b]=x);for(;a<r;++a)o[a]=e[a];return new xt(o,this._parents,this._name,this._id)}function Bs(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ps(t,e,n){var r,i,s=Bs(e)?Oe:gt;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function Xs(t,e){var n=this._id;return arguments.length<2?ut(this.node(),n).on.on(t):this.each(Ps(n,t,e))}function qs(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Us(){return this.on("end.remove",qs(this._id))}function Ys(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ae(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],c=a.length,u=s[o]=new Array(c),f,m,x=0;x<c;++x)(f=a[x])&&(m=t.call(f,f.__data__,x,a))&&("__data__"in f&&(m.__data__=f.__data__),u[x]=m,he(u[x],e,n,x,u,ut(f,n)));return new xt(s,this._parents,e,n)}function Zs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=un(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var c=r[a],u=c.length,f,m=0;m<u;++m)if(f=c[m]){for(var x=t.call(f,f.__data__,m,c),b,T=ut(f,n),V=0,B=x.length;V<B;++V)(b=x[V])&&he(b,e,n,V,x,T);s.push(x),o.push(f)}return new xt(s,o,e,n)}var Ws=Pt.prototype.constructor;function Ks(){return new Ws(this._groups,this._parents)}function Gs(t,e){var n,r,i;return function(){var s=Mt(this,t),o=(this.style.removeProperty(t),Mt(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function On(t){return function(){this.style.removeProperty(t)}}function js(t,e,n){var r,i=n+"",s;return function(){var o=Mt(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function Qs(t,e,n){var r,i,s;return function(){var o=Mt(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),Mt(this,t))),o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,a))}}function Js(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var c=gt(this,t),u=c.on,f=c.value[s]==null?a||(a=On(e)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(o,i=f),c.on=r}}function to(t,e,n){var r=(t+="")=="transform"?ts:zn;return e==null?this.styleTween(t,Gs(t,r)).on("end.style."+t,On(t)):typeof e=="function"?this.styleTween(t,Qs(t,r,Ne(this,"style."+t,e))).each(Js(this._id,t)):this.styleTween(t,js(t,r,e),n).on("end.style."+t,null)}function eo(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function no(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&eo(t,o,n)),r}return s._value=e,s}function ro(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,no(t,e,n??""))}function io(t){return function(){this.textContent=t}}function so(t){return function(){var e=t(this);this.textContent=e??""}}function oo(t){return this.tween("text",typeof t=="function"?so(Ne(this,"text",t)):io(t==null?"":t+""))}function ao(t){return function(e){this.textContent=t.call(this,e)}}function lo(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&ao(i)),e}return r._value=t,r}function uo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,lo(t))}function co(){for(var t=this._name,e=this._id,n=Nn(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,c,u=0;u<a;++u)if(c=o[u]){var f=ut(c,e);he(c,t,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new xt(r,this._parents,t,n)}function ho(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},c={value:function(){--i===0&&s()}};n.each(function(){var u=gt(this,r),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),u.on=e}),i===0&&s()})}var fo=0;function xt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Nn(){return++fo}var _t=Pt.prototype;xt.prototype={constructor:xt,select:Ys,selectAll:Zs,selectChild:_t.selectChild,selectChildren:_t.selectChildren,filter:Hs,merge:Fs,selection:Ks,transition:co,call:_t.call,nodes:_t.nodes,node:_t.node,size:_t.size,empty:_t.empty,each:_t.each,on:Xs,attr:bs,attrTween:As,style:to,styleTween:ro,text:oo,textTween:uo,remove:Us,tween:ms,delay:zs,duration:Ts,ease:Ls,easeVarying:Is,end:ho,[Symbol.iterator]:_t[Symbol.iterator]};function po(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var go={time:null,delay:0,duration:250,ease:po};function mo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function _o(t){var e,n;t instanceof xt?(e=t._id,t=t._name):(e=Nn(),(n=go).time=ze(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,c,u=0;u<a;++u)(c=o[u])&&he(c,t,e,u,o,n||mo(c,e));return new xt(r,this._parents,t,e)}Pt.prototype.interrupt=ds;Pt.prototype.transition=_o;function yo(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function vo(){return this.eachAfter(yo)}function xo(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function wo(t,e){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function Co(t,e){for(var n=this,r=[n],i=[],s,o,a,c=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)t.call(e,n,++c,this);return this}function bo(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function Eo(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function ko(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function So(t){for(var e=this,n=$o(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function $o(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Ao(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Ro(){return Array.from(this)}function Mo(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function zo(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Oo(){var t=this,e,n=[t],r,i,s;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function Te(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Do)):e===void 0&&(e=To);for(var n=new ae(t),r,i=[n],s,o,a,c;r=i.pop();)if((o=e(r.data))&&(c=(o=Array.from(o)).length))for(r.children=o,a=c-1;a>=0;--a)i.push(s=o[a]=new ae(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(Vo)}function No(){return Te(this).eachBefore(Lo)}function To(t){return t.children}function Do(t){return Array.isArray(t)?t[1]:null}function Lo(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Vo(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ae(t){this.data=t,this.depth=this.height=0,this.parent=null}ae.prototype=Te.prototype={constructor:ae,count:vo,each:xo,eachAfter:Co,eachBefore:wo,find:bo,sum:Eo,sort:ko,path:So,ancestors:Ao,descendants:Ro,leaves:Mo,links:zo,copy:No,[Symbol.iterator]:Oo};const Zt=t=>()=>t;function Io(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function vt(t,e,n){this.k=t,this.x=e,this.y=n}vt.prototype={constructor:vt,scale:function(t){return t===1?this:new vt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new vt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Tn=new vt(1,0,0);vt.prototype;function ge(t){t.stopImmediatePropagation()}function Dt(t){t.preventDefault(),t.stopImmediatePropagation()}function Ho(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Fo(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function rn(){return this.__zoom||Tn}function Bo(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Po(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xo(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function qo(){var t=Ho,e=Fo,n=Xo,r=Bo,i=Po,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,c=ss,u=$e("start","zoom","end"),f,m,x,b=500,T=150,V=0,B=10;function R(d){d.property("__zoom",rn).on("wheel.zoom",h,{passive:!1}).on("mousedown.zoom",l).on("dblclick.zoom",p).filter(i).on("touchstart.zoom",v).on("touchmove.zoom",y).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}R.transform=function(d,w,g,_){var S=d.selection?d.selection():d;S.property("__zoom",rn),d!==S?et(d,w,g,_):S.interrupt().each(function(){Y(this,arguments).event(_).start().zoom(null,typeof w=="function"?w.apply(this,arguments):w).end()})},R.scaleBy=function(d,w,g,_){R.scaleTo(d,function(){var S=this.__zoom.k,C=typeof w=="function"?w.apply(this,arguments):w;return S*C},g,_)},R.scaleTo=function(d,w,g,_){R.transform(d,function(){var S=e.apply(this,arguments),C=this.__zoom,M=g==null?tt(S):typeof g=="function"?g.apply(this,arguments):g,E=C.invert(M),A=typeof w=="function"?w.apply(this,arguments):w;return n(j(W(C,A),M,E),S,o)},g,_)},R.translateBy=function(d,w,g,_){R.transform(d,function(){return n(this.__zoom.translate(typeof w=="function"?w.apply(this,arguments):w,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),o)},null,_)},R.translateTo=function(d,w,g,_,S){R.transform(d,function(){var C=e.apply(this,arguments),M=this.__zoom,E=_==null?tt(C):typeof _=="function"?_.apply(this,arguments):_;return n(Tn.translate(E[0],E[1]).scale(M.k).translate(typeof w=="function"?-w.apply(this,arguments):-w,typeof g=="function"?-g.apply(this,arguments):-g),C,o)},_,S)};function W(d,w){return w=Math.max(s[0],Math.min(s[1],w)),w===d.k?d:new vt(w,d.x,d.y)}function j(d,w,g){var _=w[0]-g[0]*d.k,S=w[1]-g[1]*d.k;return _===d.x&&S===d.y?d:new vt(d.k,_,S)}function tt(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function et(d,w,g,_){d.on("start.zoom",function(){Y(this,arguments).event(_).start()}).on("interrupt.zoom end.zoom",function(){Y(this,arguments).event(_).end()}).tween("zoom",function(){var S=this,C=arguments,M=Y(S,C).event(_),E=e.apply(S,C),A=g==null?tt(E):typeof g=="function"?g.apply(S,C):g,k=Math.max(E[1][0]-E[0][0],E[1][1]-E[0][1]),L=S.__zoom,F=typeof w=="function"?w.apply(S,C):w,P=c(L.invert(A).concat(k/L.k),F.invert(A).concat(k/F.k));return function(U){if(U===1)U=F;else{var z=P(U),I=k/z[2];U=new vt(I,A[0]-z[0]*I,A[1]-z[1]*I)}M.zoom(null,U)}})}function Y(d,w,g){return!g&&d.__zooming||new D(d,w)}function D(d,w){this.that=d,this.args=w,this.active=0,this.sourceEvent=null,this.extent=e.apply(d,w),this.taps=0}D.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,w){return this.mouse&&d!=="mouse"&&(this.mouse[1]=w.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=w.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=w.invert(this.touch1[0])),this.that.__zoom=w,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var w=it(this.that).datum();u.call(d,this.that,new Io(d,{sourceEvent:this.sourceEvent,target:R,type:d,transform:this.that.__zoom,dispatch:u}),w)}};function h(d,...w){if(!t.apply(this,arguments))return;var g=Y(this,w).event(d),_=this.__zoom,S=Math.max(s[0],Math.min(s[1],_.k*Math.pow(2,r.apply(this,arguments)))),C=bt(d);if(g.wheel)(g.mouse[0][0]!==C[0]||g.mouse[0][1]!==C[1])&&(g.mouse[1]=_.invert(g.mouse[0]=C)),clearTimeout(g.wheel);else{if(_.k===S)return;g.mouse=[C,_.invert(C)],Qt(this),g.start()}Dt(d),g.wheel=setTimeout(M,T),g.zoom("mouse",n(j(W(_,S),g.mouse[0],g.mouse[1]),g.extent,o));function M(){g.wheel=null,g.end()}}function l(d,...w){if(x||!t.apply(this,arguments))return;var g=d.currentTarget,_=Y(this,w,!0).event(d),S=it(d.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",k,!0),C=bt(d,g),M=d.clientX,E=d.clientY;Ni(d.view),ge(d),_.mouse=[C,this.__zoom.invert(C)],Qt(this),_.start();function A(L){if(Dt(L),!_.moved){var F=L.clientX-M,P=L.clientY-E;_.moved=F*F+P*P>V}_.event(L).zoom("mouse",n(j(_.that.__zoom,_.mouse[0]=bt(L,g),_.mouse[1]),_.extent,o))}function k(L){S.on("mousemove.zoom mouseup.zoom",null),Ti(L.view,_.moved),Dt(L),_.event(L).end()}}function p(d,...w){if(t.apply(this,arguments)){var g=this.__zoom,_=bt(d.changedTouches?d.changedTouches[0]:d,this),S=g.invert(_),C=g.k*(d.shiftKey?.5:2),M=n(j(W(g,C),_,S),e.apply(this,w),o);Dt(d),a>0?it(this).transition().duration(a).call(et,M,_,d):it(this).call(R.transform,M,_,d)}}function v(d,...w){if(t.apply(this,arguments)){var g=d.touches,_=g.length,S=Y(this,w,d.changedTouches.length===_).event(d),C,M,E,A;for(ge(d),M=0;M<_;++M)E=g[M],A=bt(E,this),A=[A,this.__zoom.invert(A),E.identifier],S.touch0?!S.touch1&&S.touch0[2]!==A[2]&&(S.touch1=A,S.taps=0):(S.touch0=A,C=!0,S.taps=1+!!f);f&&(f=clearTimeout(f)),C&&(S.taps<2&&(m=A[0],f=setTimeout(function(){f=null},b)),Qt(this),S.start())}}function y(d,...w){if(this.__zooming){var g=Y(this,w).event(d),_=d.changedTouches,S=_.length,C,M,E,A;for(Dt(d),C=0;C<S;++C)M=_[C],E=bt(M,this),g.touch0&&g.touch0[2]===M.identifier?g.touch0[0]=E:g.touch1&&g.touch1[2]===M.identifier&&(g.touch1[0]=E);if(M=g.that.__zoom,g.touch1){var k=g.touch0[0],L=g.touch0[1],F=g.touch1[0],P=g.touch1[1],U=(U=F[0]-k[0])*U+(U=F[1]-k[1])*U,z=(z=P[0]-L[0])*z+(z=P[1]-L[1])*z;M=W(M,Math.sqrt(U/z)),E=[(k[0]+F[0])/2,(k[1]+F[1])/2],A=[(L[0]+P[0])/2,(L[1]+P[1])/2]}else if(g.touch0)E=g.touch0[0],A=g.touch0[1];else return;g.zoom("touch",n(j(M,E,A),g.extent,o))}}function $(d,...w){if(this.__zooming){var g=Y(this,w).event(d),_=d.changedTouches,S=_.length,C,M;for(ge(d),x&&clearTimeout(x),x=setTimeout(function(){x=null},b),C=0;C<S;++C)M=_[C],g.touch0&&g.touch0[2]===M.identifier?delete g.touch0:g.touch1&&g.touch1[2]===M.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(M=bt(M,this),Math.hypot(m[0]-M[0],m[1]-M[1])<B)){var E=it(this).on("dblclick.zoom");E&&E.apply(this,arguments)}}}return R.wheelDelta=function(d){return arguments.length?(r=typeof d=="function"?d:Zt(+d),R):r},R.filter=function(d){return arguments.length?(t=typeof d=="function"?d:Zt(!!d),R):t},R.touchable=function(d){return arguments.length?(i=typeof d=="function"?d:Zt(!!d),R):i},R.extent=function(d){return arguments.length?(e=typeof d=="function"?d:Zt([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),R):e},R.scaleExtent=function(d){return arguments.length?(s[0]=+d[0],s[1]=+d[1],R):[s[0],s[1]]},R.translateExtent=function(d){return arguments.length?(o[0][0]=+d[0][0],o[1][0]=+d[1][0],o[0][1]=+d[0][1],o[1][1]=+d[1][1],R):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},R.constrain=function(d){return arguments.length?(n=d,R):n},R.duration=function(d){return arguments.length?(a=+d,R):a},R.interpolate=function(d){return arguments.length?(c=d,R):c},R.on=function(){var d=u.on.apply(u,arguments);return d===u?R:d},R.clickDistance=function(d){return arguments.length?(V=(d=+d)*d,R):Math.sqrt(V)},R.tapDistance=function(d){return arguments.length?(B=+d,R):B},R}function Uo(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function Yo(){return this.eachAfter(Uo)}function Zo(t){var e=this,n,r=[e],i,s,o;do for(n=r.reverse(),r=[];e=n.pop();)if(t(e),i=e.children,i)for(s=0,o=i.length;s<o;++s)r.push(i[s]);while(r.length);return this}function Wo(t){for(var e=this,n=[e],r,i;e=n.pop();)if(t(e),r=e.children,r)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this}function Ko(t){for(var e=this,n=[e],r=[],i,s,o;e=n.pop();)if(r.push(e),i=e.children,i)for(s=0,o=i.length;s<o;++s)n.push(i[s]);for(;e=r.pop();)t(e);return this}function Go(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function jo(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Qo(t){for(var e=this,n=Jo(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Jo(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function ta(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function ea(){var t=[];return this.each(function(e){t.push(e)}),t}function na(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function ra(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function De(t,e){var n=new le(t),r=+t.value&&(n.value=t.value),i,s=[n],o,a,c,u;for(e==null&&(e=sa);i=s.pop();)if(r&&(i.value=+i.data.value),(a=e(i.data))&&(u=a.length))for(i.children=new Array(u),c=u-1;c>=0;--c)s.push(o=i.children[c]=new le(a[c])),o.parent=i,o.depth=i.depth+1;return n.eachBefore(aa)}function ia(){return De(this).eachBefore(oa)}function sa(t){return t.children}function oa(t){t.data=t.data.data}function aa(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function le(t){this.data=t,this.depth=this.height=0,this.parent=null}le.prototype=De.prototype={constructor:le,count:Yo,each:Zo,eachAfter:Ko,eachBefore:Wo,sum:Go,sort:jo,path:Qo,ancestors:ta,descendants:ea,leaves:na,links:ra,copy:ia};const la="d3-flextree",ua="2.1.2",ca="build/d3-flextree.js",ha="index",fa={name:"Chris Maloney",url:"http://chrismaloney.org"},da="Flexible tree layout algorithm that allows for variable node sizes.",pa=["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],ga="https://github.com/klortho/d3-flextree",ma="WTFPL",_a={type:"git",url:"https://github.com/klortho/d3-flextree.git"},ya={clean:"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test",build:"rollup -c",lint:"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js",test:"npm-run-all test:*",prepare:"npm-run-all clean build lint test"},va={"d3-hierarchy":"^1.1.5"},xa={"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0",d3:"^4.13.0","d3-selection-multi":"^1.0.1",eslint:"^4.19.1",jsdom:"^11.6.2","npm-run-all":"^4.1.2",rollup:"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"},wa={name:la,version:ua,main:ca,module:ha,"jsnext:main":"index",author:fa,description:da,keywords:pa,homepage:ga,license:ma,repository:_a,scripts:ya,dependencies:va,devDependencies:xa},{version:Ca}=wa,ba=Object.freeze({children:t=>t.children,nodeSize:t=>t.data.size,spacing:0});function Ln(t){const e=Object.assign({},ba,t);function n(a){const c=e[a];return typeof c=="function"?c:()=>c}function r(a){const c=o(s(),a,u=>u.children);return c.update(),c.data}function i(){const a=n("nodeSize"),c=n("spacing");return class Dn extends De.prototype.constructor{constructor(f){super(f)}copy(){const f=o(this.constructor,this,m=>m.children);return f.each(m=>m.data=m.data.data),f}get size(){return a(this)}spacing(f){return c(this,f)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const f=this.ancestors();return f[f.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return this.children===null}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce((f,m)=>Dn.maxExtents(f,m.extents),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(f,m){return{top:Math.min(f.top,m.top),bottom:Math.max(f.bottom,m.bottom),left:Math.min(f.left,m.left),right:Math.max(f.right,m.right)}}}}function s(){const a=i(),c=n("nodeSize"),u=n("spacing");return class extends a{constructor(f){super(f),Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return c(this.data)}spacing(f){return u(this.data,f.data)}get x(){return this.data.x}set x(f){this.data.x=f}get y(){return this.data.y}set y(f){this.data.y=f}update(){return Vn(this),In(this),this}}}function o(a,c,u){const f=(m,x)=>{const b=new a(m);Object.assign(b,{parent:x,depth:x===null?0:x.depth+1,height:0,length:1});const T=u(m)||[];return b.children=T.length===0?null:T.map(V=>f(V,b)),b.children&&Object.assign(b,b.children.reduce((V,B)=>({height:Math.max(V.height,B.height+1),length:V.length+B.length}),b)),b};return f(c,null)}return Object.assign(r,{nodeSize(a){return arguments.length?(e.nodeSize=a,r):e.nodeSize},spacing(a){return arguments.length?(e.spacing=a,r):e.spacing},children(a){return arguments.length?(e.children=a,r):e.children},hierarchy(a,c){const u=typeof c>"u"?e.children:c;return o(i(),a,u)},dump(a){const c=n("nodeSize"),u=f=>m=>{const x=f+"  ",b=f+"    ",{x:T,y:V}=m,B=c(m),R=m.children||[],W=R.length===0?" ":`,${x}children: [${b}${R.map(u(b)).join(b)}${x}],${f}`;return`{ size: [${B.join(", ")}],${x}x: ${T}, y: ${V}${W}},`};return u(`
`)(a)}}),r}Ln.version=Ca;const Vn=(t,e=0)=>(t.y=e,(t.children||[]).reduce((n,r)=>{const[i,s]=n;Vn(r,t.y+t.ySize);const o=(i===0?r.lExt:r.rExt).bottom;i!==0&&ka(t,i,s);const a=Na(o,i,s);return[i+1,a]},[0,null]),Ea(t),Oa(t),t),In=(t,e,n)=>{typeof e>"u"&&(e=-t.relX-t.prelim,n=0);const r=e+t.relX;return t.relX=r+t.prelim-n,t.prelim=0,t.x=n+t.relX,(t.children||[]).forEach(i=>In(i,r,t.x)),t},Ea=t=>{(t.children||[]).reduce((e,n)=>{const[r,i]=e,s=r+n.shift,o=i+s+n.change;return n.relX+=o,[s,o]},[0,0])},ka=(t,e,n)=>{const r=t.children[e-1],i=t.children[e];let s=r,o=r.relX,a=i,c=i.relX,u=!0;for(;s&&a;){s.bottom>n.lowY&&(n=n.next);const f=o+s.prelim-(c+a.prelim)+s.xSize/2+a.xSize/2+s.spacing(a);(f>0||f<0&&u)&&(c+=f,Sa(i,f),$a(t,e,n.index,f)),u=!1;const m=s.bottom,x=a.bottom;m<=x&&(s=Ra(s),s&&(o+=s.relX)),m>=x&&(a=Aa(a),a&&(c+=a.relX))}!s&&a?Ma(t,e,a,c):s&&!a&&za(t,e,s,o)},Sa=(t,e)=>{t.relX+=e,t.lExtRelX+=e,t.rExtRelX+=e},$a=(t,e,n,r)=>{const i=t.children[e],s=e-n;if(s>1){const o=r/s;t.children[n+1].shift+=o,i.shift-=o,i.change-=r-o}},Aa=t=>t.hasChildren?t.firstChild:t.lThr,Ra=t=>t.hasChildren?t.lastChild:t.rThr,Ma=(t,e,n,r)=>{const i=t.firstChild,s=i.lExt,o=t.children[e];s.lThr=n;const a=r-n.relX-i.lExtRelX;s.relX+=a,s.prelim-=a,i.lExt=o.lExt,i.lExtRelX=o.lExtRelX},za=(t,e,n,r)=>{const i=t.children[e],s=i.rExt,o=t.children[e-1];s.rThr=n;const a=r-n.relX-i.rExtRelX;s.relX+=a,s.prelim-=a,i.rExt=o.rExt,i.rExtRelX=o.rExtRelX},Oa=t=>{if(t.hasChildren){const e=t.firstChild,n=t.lastChild,r=(e.prelim+e.relX-e.xSize/2+n.relX+n.prelim+n.xSize/2)/2;Object.assign(t,{prelim:r,lExt:e.lExt,lExtRelX:e.lExtRelX,rExt:n.rExt,rExtRelX:n.rExtRelX})}},Na=(t,e,n)=>{for(;n!==null&&t>=n.lowY;)n=n.next;return{lowY:t,index:e,next:n}},Ta="Gantts",Da=["AND","AND"],La="None",Va=[{name:"Duration Encoded along Timelines",logicalOperators:["AND"],sum:"None",children:[{name:"Duration-encoding marks",logicalOperators:["OR","OR"],sum:"None",children:[{name:"Bars",logicalOperators:["OR"],sum:"LESS",children:[{name:"Height encoded"},{name:"Height unencoded"}]},{name:"Lines"},{name:"Springs"}]},{name:"Time axis",logicalOperators:["AND"],sum:"None",children:[{name:"Orientation",logicalOperators:["OR","OR"],sum:"EQUAL",children:[{name:"Vertical"},{name:"Horizontal"},{name:"Spiral"}]},{name:"Ticks"}]}]},{name:"Non-linear Dependencies",children:[{name:"Connection (lines)",logicalOperators:["OR","OR","OR"],sum:"None",children:[{name:"Arrows"},{name:"Width"},{name:"Color"}]},{name:"Position",logicalOperators:["OR"],sum:"LESS",children:[{name:"Adjacency"},{name:"Constraints"}]},{name:"Colors",logicalOperators:["OR"],sum:"LESS",children:[{name:"Color Hues"},{name:"Gradient"}]}]},{name:"Discrete Tracks",logicalOperators:["AND","AND"],sum:"None",children:[{name:"Hierarchy",logicalOperators:["OR"],sum:"EQUAL",children:[{name:"1-level"},{name:"multi-level",logicalOperators:["OR"],sum:"LESS",children:[{name:"parallel"},{name:"superimposed",logicalOperators:["OR"],sum:"LESS",children:[{name:"categorical"},{name:"depth-encoded"}]}]}]},{name:"Sortable",logicalOperators:["OR"],sum:"EQUAL",children:[{name:"Unsorted"},{name:"Sorted",logicalOperators:["OR"],sum:"LESS",children:[{name:"Derived",logicalOperators:["OR"],sum:"NONE",children:[{name:"initial start"},{name:"highest time span"}]},{name:"Intrinsic",logicalOperators:["OR"],sum:"LESS",children:[{name:"Alphabetical"},{name:"ID"}]}]}]},{name:"Size distribution",logicalOperators:["OR"],sum:"EQUAL",children:[{name:"equal"},{name:"varied"}]}]}],me={name:Ta,logicalOperators:Da,sum:La,children:Va},Ia="data:image/svg+xml,%3csvg%20width='32'%20height='21'%20viewBox='0%200%2032%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cellipse%20cx='16'%20cy='10.5'%20rx='16'%20ry='10.5'%20fill='%2386BA80'%20fill-opacity='0.6'/%3e%3cpath%20d='M14.1184%2014.1278C13.4792%2014.1278%2012.9252%2013.9872%2012.4565%2013.706C11.9877%2013.4247%2011.6241%2013.0312%2011.3656%2012.5256C11.1099%2012.0199%2010.9821%2011.429%2010.9821%2010.7528C10.9821%2010.0767%2011.1099%209.48437%2011.3656%208.97585C11.6241%208.46733%2011.9877%208.07244%2012.4565%207.79119C12.9252%207.50994%2013.4792%207.36932%2014.1184%207.36932C14.7576%207.36932%2015.3116%207.50994%2015.7804%207.79119C16.2491%208.07244%2016.6113%208.46733%2016.867%208.97585C17.1255%209.48437%2017.2548%2010.0767%2017.2548%2010.7528C17.2548%2011.429%2017.1255%2012.0199%2016.867%2012.5256C16.6113%2013.0312%2016.2491%2013.4247%2015.7804%2013.706C15.3116%2013.9872%2014.7576%2014.1278%2014.1184%2014.1278ZM14.127%2012.892C14.4735%2012.892%2014.7633%2012.7969%2014.9963%2012.6065C15.2292%2012.4134%2015.4025%2012.1548%2015.5162%2011.831C15.6326%2011.5071%2015.6909%2011.1463%2015.6909%2010.7486C15.6909%2010.348%2015.6326%209.9858%2015.5162%209.66193C15.4025%209.33523%2015.2292%209.07528%2014.9963%208.8821C14.7633%208.68892%2014.4735%208.59233%2014.127%208.59233C13.7718%208.59233%2013.4764%208.68892%2013.2406%208.8821C13.0076%209.07528%2012.8329%209.33523%2012.7164%209.66193C12.6028%209.9858%2012.546%2010.348%2012.546%2010.7486C12.546%2011.1463%2012.6028%2011.5071%2012.7164%2011.831C12.8329%2012.1548%2013.0076%2012.4134%2013.2406%2012.6065C13.4764%2012.7969%2013.7718%2012.892%2014.127%2012.892ZM18.5641%2014V7.45455H20.0598V8.54545H20.128C20.2473%208.16761%2020.4519%207.87642%2020.7417%207.67188C21.0343%207.46449%2021.3681%207.3608%2021.7431%207.3608C21.8283%207.3608%2021.9235%207.36506%2022.0286%207.37358C22.1365%207.37926%2022.226%207.3892%2022.2971%207.40341V8.82244C22.2317%208.79972%2022.128%208.77983%2021.986%208.76278C21.8468%208.7429%2021.7118%208.73295%2021.5811%208.73295C21.2999%208.73295%2021.0471%208.79403%2020.8226%208.91619C20.601%209.03551%2020.4263%209.2017%2020.2985%209.41477C20.1706%209.62784%2020.1067%209.87358%2020.1067%2010.152V14H18.5641Z'%20fill='black'/%3e%3c/svg%3e",Ha="data:image/svg+xml,%3csvg%20width='32'%20height='21'%20viewBox='0%200%2032%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cellipse%20cx='16'%20cy='10.5'%20rx='16'%20ry='10.5'%20fill='%23EF9A9A'%20fill-opacity='0.85'/%3e%3cpath%20d='M7.79528%2014.1321C7.3805%2014.1321%207.00692%2014.0582%206.67454%2013.9105C6.34499%2013.7599%206.08363%2013.5384%205.89045%2013.2457C5.70011%2012.9531%205.60494%2012.5923%205.60494%2012.1634C5.60494%2011.794%205.67312%2011.4886%205.80948%2011.2472C5.94585%2011.0057%206.13192%2010.8125%206.36772%2010.6676C6.60352%2010.5227%206.86914%2010.4134%207.1646%2010.3395C7.46289%2010.2628%207.77113%2010.2074%208.08931%2010.1733C8.47283%2010.1335%208.78391%2010.098%209.02255%2010.0668C9.26119%2010.0327%209.43448%209.98153%209.54244%209.91335C9.65323%209.84233%209.70863%209.73295%209.70863%209.58523V9.55966C9.70863%209.23864%209.61346%208.99006%209.42312%208.81392C9.23278%208.63778%208.95863%208.54972%208.60067%208.54972C8.22283%208.54972%207.92312%208.6321%207.70153%208.79688C7.48278%208.96165%207.33505%209.15625%207.25835%209.38068L5.818%209.17614C5.93164%208.77841%206.11914%208.44602%206.3805%208.17898C6.64187%207.90909%206.96147%207.70739%207.33931%207.57386C7.71715%207.4375%208.13477%207.36932%208.59215%207.36932C8.90749%207.36932%209.22141%207.40625%209.53391%207.48011C9.84641%207.55398%2010.1319%207.67614%2010.3904%207.84659C10.649%208.0142%2010.8564%208.2429%2011.0126%208.53267C11.1717%208.82244%2011.2512%209.18466%2011.2512%209.61932V14H9.76829V13.1009H9.71715C9.6234%2013.2827%209.4913%2013.4531%209.32085%2013.6122C9.15323%2013.7685%208.94158%2013.8949%208.6859%2013.9915C8.43306%2014.0852%208.13619%2014.1321%207.79528%2014.1321ZM8.19585%2012.9986C8.5055%2012.9986%208.77397%2012.9375%209.00124%2012.8153C9.22852%2012.6903%209.40323%2012.5256%209.52539%2012.321C9.65039%2012.1165%209.71289%2011.8935%209.71289%2011.652V10.8807C9.6646%2010.9205%209.58221%2010.9574%209.46573%2010.9915C9.3521%2011.0256%209.22425%2011.0554%209.08221%2011.081C8.94016%2011.1065%208.79954%2011.1293%208.66033%2011.1491C8.52113%2011.169%208.40039%2011.1861%208.29812%2011.2003C8.068%2011.2315%207.86204%2011.2827%207.68022%2011.3537C7.4984%2011.4247%207.35494%2011.5241%207.24982%2011.652C7.14471%2011.777%207.09215%2011.9389%207.09215%2012.1378C7.09215%2012.4219%207.19585%2012.6364%207.40323%2012.7812C7.61062%2012.9261%207.87482%2012.9986%208.19585%2012.9986ZM14.345%2010.1648V14H12.8024V7.45455H14.2768V8.56676H14.3535C14.5041%208.20028%2014.7441%207.90909%2015.0737%207.69318C15.4061%207.47727%2015.8166%207.36932%2016.3052%207.36932C16.7569%207.36932%2017.1504%207.46591%2017.4856%207.65909C17.8237%207.85227%2018.085%208.1321%2018.2697%208.49858C18.4572%208.86506%2018.5495%209.30966%2018.5467%209.83239V14H17.0041V10.071C17.0041%209.63352%2016.8904%209.29119%2016.6632%209.04403C16.4387%208.79687%2016.1277%208.6733%2015.7299%208.6733C15.46%208.6733%2015.22%208.73295%2015.0098%208.85227C14.8024%208.96875%2014.639%209.13778%2014.5197%209.35938C14.4032%209.58097%2014.345%209.84943%2014.345%2010.1648ZM22.5439%2014.1151C22.0297%2014.1151%2021.5694%2013.983%2021.1632%2013.7188C20.7569%2013.4545%2020.4359%2013.071%2020.2001%2012.5682C19.9643%2012.0653%2019.8464%2011.4545%2019.8464%2010.7358C19.8464%2010.0085%2019.9657%209.39489%2020.2044%208.89489C20.4458%208.39205%2020.7711%208.01278%2021.1802%207.7571C21.5893%207.49858%2022.0453%207.36932%2022.5481%207.36932C22.9316%207.36932%2023.247%207.43466%2023.4941%207.56534C23.7413%207.69318%2023.9373%207.84801%2024.0822%208.02983C24.2271%208.20881%2024.3393%208.37784%2024.4189%208.53693H24.4828V5.27273H26.0297V14H24.5126V12.9688H24.4189C24.3393%2013.1278%2024.2243%2013.2969%2024.0737%2013.4759C23.9231%2013.652%2023.7243%2013.8026%2023.4771%2013.9276C23.2299%2014.0526%2022.9189%2014.1151%2022.5439%2014.1151ZM22.9743%2012.8494C23.301%2012.8494%2023.5794%2012.7614%2023.8095%2012.5852C24.0396%2012.4062%2024.2143%2012.1577%2024.3336%2011.8395C24.4529%2011.5213%2024.5126%2011.1506%2024.5126%2010.7273C24.5126%2010.304%2024.4529%209.93608%2024.3336%209.62358C24.2172%209.31108%2024.0439%209.06818%2023.8137%208.89489C23.5865%208.72159%2023.3066%208.63494%2022.9743%208.63494C22.6305%208.63494%2022.3436%208.72443%2022.1135%208.90341C21.8833%209.08239%2021.71%209.32955%2021.5936%209.64489C21.4771%209.96023%2021.4189%2010.321%2021.4189%2010.7273C21.4189%2011.1364%2021.4771%2011.5014%2021.5936%2011.8224C21.7129%2012.1406%2021.8876%2012.392%2022.1177%2012.5767C22.3507%2012.7585%2022.6362%2012.8494%2022.9743%2012.8494Z'%20fill='black'/%3e%3c/svg%3e",Fa="data:image/svg+xml,%3csvg%20width='47'%20height='16'%20viewBox='0%200%2047%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='47'%20height='16'%20rx='5'%20fill='%23A2A0D1'%20fill-opacity='0.7'/%3e%3cpath%20d='M10.2179%207.18466L8.81161%207.33807C8.77184%207.19602%208.70224%207.0625%208.60281%206.9375C8.50621%206.8125%208.37553%206.71165%208.21076%206.63494C8.04599%206.55824%207.84428%206.51989%207.60565%206.51989C7.28462%206.51989%207.01474%206.58949%206.79599%206.72869C6.58008%206.8679%206.47354%207.0483%206.47639%207.26989C6.47354%207.46023%206.54315%207.61506%206.68519%207.73438C6.83008%207.85369%207.06871%207.9517%207.4011%208.02841L8.51758%208.26705C9.1369%208.40057%209.59712%208.61222%209.89826%208.90199C10.2022%209.19176%2010.3556%209.57102%2010.3585%2010.0398C10.3556%2010.4517%2010.2349%2010.8153%209.99627%2011.1307C9.76048%2011.4432%209.43235%2011.6875%209.0119%2011.8636C8.59144%2012.0398%208.10849%2012.1278%207.56303%2012.1278C6.7619%2012.1278%206.11701%2011.9602%205.62837%2011.625C5.13974%2011.2869%204.84854%2010.8168%204.75479%2010.2145L6.25906%2010.0696C6.32724%2010.3651%206.47212%2010.5881%206.69371%2010.7386C6.91531%2010.8892%207.20366%2010.9645%207.55877%2010.9645C7.92525%2010.9645%208.21928%2010.8892%208.44087%2010.7386C8.66531%2010.5881%208.77752%2010.402%208.77752%2010.1804C8.77752%209.9929%208.70508%209.83807%208.56019%209.71591C8.41815%209.59375%208.19656%209.5%207.89542%209.43466L6.77894%209.20028C6.1511%209.0696%205.68661%208.84943%205.38548%208.53977C5.08434%208.22727%204.93519%207.83239%204.93803%207.35511C4.93519%206.9517%205.04457%206.60227%205.26616%206.30682C5.49059%206.00852%205.80167%205.77841%206.1994%205.61648C6.59996%205.4517%207.06161%205.36932%207.58434%205.36932C8.35139%205.36932%208.95508%205.53267%209.39542%205.85938C9.8386%206.18608%2010.1127%206.62784%2010.2179%207.18466ZM15.8024%209.24716V5.45455H17.345V12H15.8493V10.8366H15.7811C15.6333%2011.2031%2015.3904%2011.5028%2015.0524%2011.7358C14.7172%2011.9687%2014.3038%2012.0852%2013.8123%2012.0852C13.3833%2012.0852%2013.0041%2011.9901%2012.6745%2011.7997C12.3478%2011.6065%2012.0922%2011.3267%2011.9075%2010.9602C11.7228%2010.5909%2011.6305%2010.1449%2011.6305%209.62216V5.45455H13.1731V9.38352C13.1731%209.7983%2013.2868%2010.1278%2013.514%2010.3722C13.7413%2010.6165%2014.0396%2010.7386%2014.4089%2010.7386C14.6362%2010.7386%2014.8564%2010.6832%2015.0694%2010.5724C15.2825%2010.4616%2015.4572%2010.2969%2015.5936%2010.0781C15.7328%209.85653%2015.8024%209.57955%2015.8024%209.24716ZM18.9313%2012V5.45455H20.4057V6.56676H20.4824C20.6188%206.19176%2020.8446%205.89915%2021.16%205.68892C21.4753%205.47585%2021.8517%205.36932%2022.2892%205.36932C22.7324%205.36932%2023.106%205.47727%2023.41%205.69318C23.7168%205.90625%2023.9327%206.19744%2024.0577%206.56676H24.1259C24.2708%206.20312%2024.5151%205.91335%2024.8588%205.69744C25.2054%205.47869%2025.6159%205.36932%2026.0904%205.36932C26.6926%205.36932%2027.1841%205.55966%2027.5648%205.94034C27.9455%206.32102%2028.1358%206.87642%2028.1358%207.60653V12H26.589V7.84517C26.589%207.43892%2026.481%207.14205%2026.2651%206.95455C26.0492%206.7642%2025.785%206.66903%2025.4725%206.66903C25.1003%206.66903%2024.8091%206.78551%2024.5989%207.01847C24.3915%207.24858%2024.2878%207.5483%2024.2878%207.91761V12H22.775V7.78125C22.775%207.44318%2022.6728%207.1733%2022.4682%206.97159C22.2665%206.76989%2022.0023%206.66903%2021.6756%206.66903C21.454%206.66903%2021.2523%206.72585%2021.0705%206.83949C20.8887%206.95028%2020.7438%207.10795%2020.6358%207.3125C20.5279%207.5142%2020.4739%207.75%2020.4739%208.01989V12H18.9313ZM30.1099%207.83239V6.51562H35.7818V7.83239H30.1099ZM30.1099%2010.5597V9.2429H35.7818V10.5597H30.1099ZM41.3077%203.27273V12H39.7267V4.81108H39.6756L37.6344%206.11506V4.66619L39.8034%203.27273H41.3077Z'%20fill='black'/%3e%3c/svg%3e",Ba="data:image/svg+xml,%3csvg%20width='47'%20height='16'%20viewBox='0%200%2047%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='47'%20height='16'%20rx='5'%20fill='%23D9D9D9'/%3e%3cpath%20d='M10.2179%207.18466L8.81161%207.33807C8.77184%207.19602%208.70224%207.0625%208.60281%206.9375C8.50621%206.8125%208.37553%206.71165%208.21076%206.63494C8.04599%206.55824%207.84428%206.51989%207.60565%206.51989C7.28462%206.51989%207.01474%206.58949%206.79599%206.72869C6.58008%206.8679%206.47354%207.0483%206.47639%207.26989C6.47354%207.46023%206.54315%207.61506%206.68519%207.73438C6.83008%207.85369%207.06871%207.9517%207.4011%208.02841L8.51758%208.26705C9.1369%208.40057%209.59712%208.61222%209.89826%208.90199C10.2022%209.19176%2010.3556%209.57102%2010.3585%2010.0398C10.3556%2010.4517%2010.2349%2010.8153%209.99627%2011.1307C9.76048%2011.4432%209.43235%2011.6875%209.0119%2011.8636C8.59144%2012.0398%208.10849%2012.1278%207.56303%2012.1278C6.7619%2012.1278%206.11701%2011.9602%205.62837%2011.625C5.13974%2011.2869%204.84854%2010.8168%204.75479%2010.2145L6.25906%2010.0696C6.32724%2010.3651%206.47212%2010.5881%206.69371%2010.7386C6.91531%2010.8892%207.20366%2010.9645%207.55877%2010.9645C7.92525%2010.9645%208.21928%2010.8892%208.44087%2010.7386C8.66531%2010.5881%208.77752%2010.402%208.77752%2010.1804C8.77752%209.9929%208.70508%209.83807%208.56019%209.71591C8.41815%209.59375%208.19656%209.5%207.89542%209.43466L6.77894%209.20028C6.1511%209.0696%205.68661%208.84943%205.38548%208.53977C5.08434%208.22727%204.93519%207.83239%204.93803%207.35511C4.93519%206.9517%205.04457%206.60227%205.26616%206.30682C5.49059%206.00852%205.80167%205.77841%206.1994%205.61648C6.59996%205.4517%207.06161%205.36932%207.58434%205.36932C8.35139%205.36932%208.95508%205.53267%209.39542%205.85938C9.8386%206.18608%2010.1127%206.62784%2010.2179%207.18466ZM15.8024%209.24716V5.45455H17.345V12H15.8493V10.8366H15.7811C15.6333%2011.2031%2015.3904%2011.5028%2015.0524%2011.7358C14.7172%2011.9687%2014.3038%2012.0852%2013.8123%2012.0852C13.3833%2012.0852%2013.0041%2011.9901%2012.6745%2011.7997C12.3478%2011.6065%2012.0922%2011.3267%2011.9075%2010.9602C11.7228%2010.5909%2011.6305%2010.1449%2011.6305%209.62216V5.45455H13.1731V9.38352C13.1731%209.7983%2013.2868%2010.1278%2013.514%2010.3722C13.7413%2010.6165%2014.0396%2010.7386%2014.4089%2010.7386C14.6362%2010.7386%2014.8564%2010.6832%2015.0694%2010.5724C15.2825%2010.4616%2015.4572%2010.2969%2015.5936%2010.0781C15.7328%209.85653%2015.8024%209.57955%2015.8024%209.24716ZM18.9313%2012V5.45455H20.4057V6.56676H20.4824C20.6188%206.19176%2020.8446%205.89915%2021.16%205.68892C21.4753%205.47585%2021.8517%205.36932%2022.2892%205.36932C22.7324%205.36932%2023.106%205.47727%2023.41%205.69318C23.7168%205.90625%2023.9327%206.19744%2024.0577%206.56676H24.1259C24.2708%206.20312%2024.5151%205.91335%2024.8588%205.69744C25.2054%205.47869%2025.6159%205.36932%2026.0904%205.36932C26.6926%205.36932%2027.1841%205.55966%2027.5648%205.94034C27.9455%206.32102%2028.1358%206.87642%2028.1358%207.60653V12H26.589V7.84517C26.589%207.43892%2026.481%207.14205%2026.2651%206.95455C26.0492%206.7642%2025.785%206.66903%2025.4725%206.66903C25.1003%206.66903%2024.8091%206.78551%2024.5989%207.01847C24.3915%207.24858%2024.2878%207.5483%2024.2878%207.91761V12H22.775V7.78125C22.775%207.44318%2022.6728%207.1733%2022.4682%206.97159C22.2665%206.76989%2022.0023%206.66903%2021.6756%206.66903C21.454%206.66903%2021.2523%206.72585%2021.0705%206.83949C20.8887%206.95028%2020.7438%207.10795%2020.6358%207.3125C20.5279%207.5142%2020.4739%207.75%2020.4739%208.01989V12H18.9313ZM35.8585%2011.6463H30.0289V10.3636H35.8585V11.6463ZM30.0289%208.11364V6.88636L35.8585%205.14773V6.42614L31.9423%207.48295L31.9892%207.40199V7.59801L31.9423%207.51705L35.8585%208.57386V9.85227L30.0289%208.11364ZM41.3077%203.27273V12H39.7267V4.81108H39.6756L37.6344%206.11506V4.66619L39.8034%203.27273H41.3077Z'%20fill='black'/%3e%3c/svg%3e";function Hn(t){t.collapsed===void 0&&(t.collapsed=!1),t.children&&t.children.forEach(e=>Hn(e))}function Fn(t,e){let n=!1;return e.has(t.name)&&(t.collapsed=!1,n=!0),t.children&&t.children.forEach(r=>{const i=Fn(r,e);n=n||i}),n&&(t.collapsed=!1),n}function Bn(t,e,n){if(!t.children||t.children.length===0)return t.data.wid=1,t.data.size=[e,n],1;const r=t.children.reduce((i,s)=>i+Bn(s,e,n),0);return t.data.wid=r,t.data.size=[e*r,n],r}function Pa(t,e=[]){Hn(me);const n=it(t);n.selectAll("*").remove();const r=n.append("g").attr("class","nodes"),i=n.append("g").attr("class","operators"),s=100,o=42,a=5,c=10,u=5,f=7,m=500,x=new Set(e);Fn(me,x);function b(){const T=Te(me,l=>l.collapsed?null:l.children);Bn(T,s,o);const B=Ln({})(T),R=He(B.descendants(),l=>l.x)-s,W=He(B.descendants(),l=>l.y)-o,j=B.descendants(),tt=r.selectAll(".node").data(j,l=>l.data.name);tt.enter().append("g").attr("class","node").attr("transform",l=>(l.data.size&&l.data.size[0],`translate(${l.x-R},${l.y-W})`)).each(function(l){const p=it(this),v=l.data.size?l.data.size[0]:s,y=-v/2;if(p.append("path").attr("class","top-line").attr("d",`
          M ${y+a} 0 H ${y+v-a}
          M ${y+a} 0 V ${c}
          M ${y+v-a} 0 V ${c}
        `).attr("stroke-width",l.data.collapsed?3:1).attr("stroke","black").attr("fill","none"),l.children&&l.children.length>0&&(p.append("path").attr("class","left-line").attr("d",`
            M ${y+a} ${c} V ${o}
            M ${y+a} ${o} l -${u} -${u}
            M ${y+a} ${o} l ${u} -${u}
          `).attr("stroke","lightgray").attr("fill","none").attr("stroke-dasharray","5,5"),p.append("path").attr("class","right-line").attr("d",`
            M ${y+v-a} ${c} V ${o}
            M ${y+v-a} ${o} l ${u} -${u}
            M ${y+v-a} ${o} l -${u} -${u}
          `).attr("stroke","lightgray").attr("fill","none").attr("stroke-dasharray","5,5")),p.append("text").attr("class","node-text").attr("x",0).attr("y",-42/2+f).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("fill",e.includes(l.data.name)?"white":"black").style("font-weight",e.includes(l.data.name)?600:"normal").text(l.data.name).each(function(){const $=this,d=$.getComputedTextLength();let w=1;if(d>v*.75&&(w=v*.75/d,$.setAttribute("transform",`scale(${w})`)),e.includes(l.data.name)){const g=$.getBBox();if($.parentNode!==null){const _=$.parentNode;it(_).insert("rect","text").attr("x",g.x).attr("y",g.y).attr("width",g.width).attr("height",g.height).attr("fill","#E45756").attr("stroke","#E45756").attr("transform",w!==1?`scale(${w})`:null)}}}),l.data.sum!=="None"){let $="";l.data.sum==="EQUAL"?$=Fa:l.data.sum==="LESS"&&($=Ba),p.append("image").attr("class","sum-image").attr("href",$).attr("x",-40/2).attr("y",20/2-12.5).attr("width",40).attr("height",20)}l.data.children&&l.data.children.length>0&&p.append("rect").attr("class","clickable-area").attr("x",y+a).attr("y",0).attr("width",v-2*a).attr("height",c+10).attr("fill","transparent").style("cursor","pointer").on("click",function($){$.stopPropagation(),l.data.collapsed=!l.data.collapsed,b()})}),tt.transition().duration(m).attr("transform",l=>(l.data.size&&l.data.size[0],`translate(${l.x-R},${l.y-W})`)).each(function(l){const p=it(this),v=l.data.size?l.data.size[0]:s,y=-v/2,$=`
          M ${y+a} 0 H ${y+v-a}
          M ${y+a} 0 V ${c}
          M ${y+v-a} 0 V ${c}
        `;p.select(".top-line").transition().duration(m).attrTween("d",function(){const w=this.getAttribute("d")??"";return En(w,$)}).attr("stroke-width",l.data.collapsed?3:1),p.select(".clickable-area").transition().duration(m).attr("width",v-2*a).attr("x",y+a),!l.data.collapsed&&l.children&&l.children.length>0?(p.select(".left-line").attr("d",`
              M ${y+a} ${c} V ${o}
              M ${y+a} ${o} l -${u} -${u}
              M ${y+a} ${o} l ${u} -${u}
            `),p.select(".right-line").attr("d",`
              M ${y+v-a} ${c} V ${o}
              M ${y+v-a} ${o} l ${u} -${u}
              M ${y+v-a} ${o} l -${u} -${u}
            `)):(p.select(".left-line").attr("d",null),p.select(".right-line").attr("d",null)),p.select(".node-text").each(function(){const d=this;d.removeAttribute("transform");const w=d.getBBox().width;if(w>v*.75){const g=v*.75/w;d.setAttribute("transform",`scale(${g})`)}})}),tt.exit().transition().duration(m).style("opacity",0).remove();let Y=[];j.forEach(l=>{if(l.children&&l.children.length>1&&l.data.logicalOperators&&l.data.logicalOperators.length>0){const p=Math.min(l.children.length-1,l.data.logicalOperators.length);for(let v=0;v<p;v++){const y=l.children[v],$=l.children[v+1],d=y.data.size?y.data.size[0]:s,w=$.data.size?$.data.size[0]:s,g=(y.x-R+d/2+($.x-R-w/2))/2,_=l.y-W+o/2+f;Y.push({key:l.data.name+"_"+v,operator:l.data.logicalOperators[v],x:g,y:_})}}});const D=i.selectAll("image.operator").data(Y,l=>l.key);D.enter().append("image").attr("class","operator").attr("width",20).attr("height",20).attr("href",l=>l.operator==="AND"?Ha:l.operator==="OR"?Ia:"").attr("x",l=>l.x-10).attr("y",l=>l.y-10).style("opacity",0).transition().duration(m).style("opacity",1),D.transition().duration(m).attr("x",l=>l.x-10).attr("y",l=>l.y-10),D.exit().transition().duration(m).style("opacity",0).remove()}b()}const Xa={class:"svg-container"},qa=on({__name:"DesignspaceView",props:{projectionList:{}},setup(t){const e=t,n=te(null),r=te(null);let i=null;const s=()=>{n.value&&it(n.value).selectAll("*").remove()},o=()=>{if(!r.value)return;const c=it(r.value);i=qo().on("zoom",u=>{it(n.value).attr("transform",u.transform)}),c.call(i)},a=()=>{n.value&&(s(),Pa(n.value,e.projectionList))};return an(()=>{o(),a()}),Pn(()=>[...e.projectionList],(c,u)=>{(c.length!==u.length||JSON.stringify(c)!==JSON.stringify(u))&&a()}),(c,u)=>(dt(),yt("div",Xa,[(dt(),yt("svg",{id:"mainsvg",ref_key:"svgDSV",ref:r},[Wt("g",{ref_key:"gElement",ref:n},null,512)],512))]))}}),Ua=Se(qa,[["__scopeId","data-v-dc163866"]]);function Ya(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jt={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var Za=Jt.exports,sn;function Wa(){return sn||(sn=1,function(t,e){((n,r)=>{t.exports=r()})(Za,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},c=0,u={};function f(h){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(l){var p=et(l);p.chunkSize=parseInt(p.chunkSize),l.step||l.chunk||(p.chunkSize=null),this._handle=new V(p),(this._handle.streamer=this)._config=p}).call(this,h),this.parseChunk=function(l,p){var v=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<v){let $=this._config.newline;$||(y=this._config.quoteChar||'"',$=this._handle.guessLineEndings(l,y)),l=[...l.split($).slice(v)].join($)}this.isFirstChunk&&D(this._config.beforeFirstChunk)&&(y=this._config.beforeFirstChunk(l))!==void 0&&(l=y),this.isFirstChunk=!1,this._halted=!1;var v=this._partialLine+l,y=(this._partialLine="",this._handle.parse(v,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(l=y.meta.cursor,v=(this._finished||(this._partialLine=v.substring(l-this._baseIndex),this._baseIndex=l),y&&y.data&&(this._rowCount+=y.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:y,workerId:u.WORKER_ID,finished:v});else if(D(this._config.chunk)&&!p){if(this._config.chunk(y,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=y=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(y.data),this._completeResults.errors=this._completeResults.errors.concat(y.errors),this._completeResults.meta=y.meta),this._completed||!v||!D(this._config.complete)||y&&y.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),v||y&&y.meta.paused||this._nextChunk(),y}this._halted=!0},this._sendError=function(l){D(this._config.error)?this._config.error(l):o&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:l,finished:!1})}}function m(h){var l;(h=h||{}).chunkSize||(h.chunkSize=u.RemoteChunkSize),f.call(this,h),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(p){this._input=p,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(l=new XMLHttpRequest,this._config.withCredentials&&(l.withCredentials=this._config.withCredentials),s||(l.onload=Y(this._chunkLoaded,this),l.onerror=Y(this._chunkError,this)),l.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var p,v=this._config.downloadRequestHeaders;for(p in v)l.setRequestHeader(p,v[p])}var y;this._config.chunkSize&&(y=this._start+this._config.chunkSize-1,l.setRequestHeader("Range","bytes="+this._start+"-"+y));try{l.send(this._config.downloadRequestBody)}catch($){this._chunkError($.message)}s&&l.status===0&&this._chunkError()}},this._chunkLoaded=function(){l.readyState===4&&(l.status<200||400<=l.status?this._chunkError():(this._start+=this._config.chunkSize||l.responseText.length,this._finished=!this._config.chunkSize||this._start>=(p=>(p=p.getResponseHeader("Content-Range"))!==null?parseInt(p.substring(p.lastIndexOf("/")+1)):-1)(l),this.parseChunk(l.responseText)))},this._chunkError=function(p){p=l.statusText||p,this._sendError(new Error(p))}}function x(h){(h=h||{}).chunkSize||(h.chunkSize=u.LocalChunkSize),f.call(this,h);var l,p,v=typeof FileReader<"u";this.stream=function(y){this._input=y,p=y.slice||y.webkitSlice||y.mozSlice,v?((l=new FileReader).onload=Y(this._chunkLoaded,this),l.onerror=Y(this._chunkError,this)):l=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var y=this._input,$=(this._config.chunkSize&&($=Math.min(this._start+this._config.chunkSize,this._input.size),y=p.call(y,this._start,$)),l.readAsText(y,this._config.encoding));v||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(y){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(y.target.result)},this._chunkError=function(){this._sendError(l.error)}}function b(h){var l;f.call(this,h=h||{}),this.stream=function(p){return l=p,this._nextChunk()},this._nextChunk=function(){var p,v;if(!this._finished)return p=this._config.chunkSize,l=p?(v=l.substring(0,p),l.substring(p)):(v=l,""),this._finished=!l,this.parseChunk(v)}}function T(h){f.call(this,h=h||{});var l=[],p=!0,v=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(y){this._input=y,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){v&&l.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),l.length?this.parseChunk(l.shift()):p=!0},this._streamData=Y(function(y){try{l.push(typeof y=="string"?y:y.toString(this._config.encoding)),p&&(p=!1,this._checkIsFinished(),this.parseChunk(l.shift()))}catch($){this._streamError($)}},this),this._streamError=Y(function(y){this._streamCleanUp(),this._sendError(y)},this),this._streamEnd=Y(function(){this._streamCleanUp(),v=!0,this._streamData("")},this),this._streamCleanUp=Y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function V(h){var l,p,v,y,$=Math.pow(2,53),d=-$,w=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,g=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,_=this,S=0,C=0,M=!1,E=!1,A=[],k={data:[],errors:[],meta:{}};function L(z){return h.skipEmptyLines==="greedy"?z.join("").trim()==="":z.length===1&&z[0].length===0}function F(){if(k&&v&&(U("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),v=!1),h.skipEmptyLines&&(k.data=k.data.filter(function(O){return!L(O)})),P()){let O=function(G,Q){D(h.transformHeader)&&(G=h.transformHeader(G,Q)),A.push(G)};if(k)if(Array.isArray(k.data[0])){for(var z=0;P()&&z<k.data.length;z++)k.data[z].forEach(O);k.data.splice(0,1)}else k.data.forEach(O)}function I(O,G){for(var Q=h.header?{}:[],X=0;X<O.length;X++){var q=X,H=O[X],H=((at,N)=>(Z=>(h.dynamicTypingFunction&&h.dynamicTyping[Z]===void 0&&(h.dynamicTyping[Z]=h.dynamicTypingFunction(Z)),(h.dynamicTyping[Z]||h.dynamicTyping)===!0))(at)?N==="true"||N==="TRUE"||N!=="false"&&N!=="FALSE"&&((Z=>{if(w.test(Z)&&(Z=parseFloat(Z),d<Z&&Z<$))return 1})(N)?parseFloat(N):g.test(N)?new Date(N):N===""?null:N):N)(q=h.header?X>=A.length?"__parsed_extra":A[X]:q,H=h.transform?h.transform(H,q):H);q==="__parsed_extra"?(Q[q]=Q[q]||[],Q[q].push(H)):Q[q]=H}return h.header&&(X>A.length?U("FieldMismatch","TooManyFields","Too many fields: expected "+A.length+" fields but parsed "+X,C+G):X<A.length&&U("FieldMismatch","TooFewFields","Too few fields: expected "+A.length+" fields but parsed "+X,C+G)),Q}var K;k&&(h.header||h.dynamicTyping||h.transform)&&(K=1,!k.data.length||Array.isArray(k.data[0])?(k.data=k.data.map(I),K=k.data.length):k.data=I(k.data,0),h.header&&k.meta&&(k.meta.fields=A),C+=K)}function P(){return h.header&&A.length===0}function U(z,I,K,O){z={type:z,code:I,message:K},O!==void 0&&(z.row=O),k.errors.push(z)}D(h.step)&&(y=h.step,h.step=function(z){k=z,P()?F():(F(),k.data.length!==0&&(S+=z.data.length,h.preview&&S>h.preview?p.abort():(k.data=k.data[0],y(k,_))))}),this.parse=function(z,I,K){var O=h.quoteChar||'"',O=(h.newline||(h.newline=this.guessLineEndings(z,O)),v=!1,h.delimiter?D(h.delimiter)&&(h.delimiter=h.delimiter(z),k.meta.delimiter=h.delimiter):((O=((G,Q,X,q,H)=>{var at,N,Z,wt;H=H||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var $t=0;$t<H.length;$t++){for(var ct,Ot=H[$t],nt=0,ht=0,J=0,rt=(Z=void 0,new R({comments:q,delimiter:Ot,newline:Q,preview:10}).parse(G)),mt=0;mt<rt.data.length;mt++)X&&L(rt.data[mt])?J++:(ct=rt.data[mt].length,ht+=ct,Z===void 0?Z=ct:0<ct&&(nt+=Math.abs(ct-Z),Z=ct));0<rt.data.length&&(ht/=rt.data.length-J),(N===void 0||nt<=N)&&(wt===void 0||wt<ht)&&1.99<ht&&(N=nt,at=Ot,wt=ht)}return{successful:!!(h.delimiter=at),bestDelimiter:at}})(z,h.newline,h.skipEmptyLines,h.comments,h.delimitersToGuess)).successful?h.delimiter=O.bestDelimiter:(v=!0,h.delimiter=u.DefaultDelimiter),k.meta.delimiter=h.delimiter),et(h));return h.preview&&h.header&&O.preview++,l=z,p=new R(O),k=p.parse(l,I,K),F(),M?{meta:{paused:!0}}:k||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,p.abort(),l=D(h.chunk)?"":l.substring(p.getCharIndex())},this.resume=function(){_.streamer._halted?(M=!1,_.streamer.parseChunk(l,!0)):setTimeout(_.resume,3)},this.aborted=function(){return E},this.abort=function(){E=!0,p.abort(),k.meta.aborted=!0,D(h.complete)&&h.complete(k),l=""},this.guessLineEndings=function(G,O){G=G.substring(0,1048576);var O=new RegExp(B(O)+"([^]*?)"+B(O),"gm"),K=(G=G.replace(O,"")).split("\r"),O=G.split(`
`),G=1<O.length&&O[0].length<K[0].length;if(K.length===1||G)return`
`;for(var Q=0,X=0;X<K.length;X++)K[X][0]===`
`&&Q++;return Q>=K.length/2?`\r
`:"\r"}}function B(h){return h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(h){var l=(h=h||{}).delimiter,p=h.newline,v=h.comments,y=h.step,$=h.preview,d=h.fastMode,w=null,g=!1,_=h.quoteChar==null?'"':h.quoteChar,S=_;if(h.escapeChar!==void 0&&(S=h.escapeChar),(typeof l!="string"||-1<u.BAD_DELIMITERS.indexOf(l))&&(l=","),v===l)throw new Error("Comment character same as delimiter");v===!0?v="#":(typeof v!="string"||-1<u.BAD_DELIMITERS.indexOf(v))&&(v=!1),p!==`
`&&p!=="\r"&&p!==`\r
`&&(p=`
`);var C=0,M=!1;this.parse=function(E,A,k){if(typeof E!="string")throw new Error("Input must be a string");var L=E.length,F=l.length,P=p.length,U=v.length,z=D(y),I=[],K=[],O=[],G=C=0;if(!E)return nt();if(d||d!==!1&&E.indexOf(_)===-1){for(var Q=E.split(p),X=0;X<Q.length;X++){if(O=Q[X],C+=O.length,X!==Q.length-1)C+=p.length;else if(k)return nt();if(!v||O.substring(0,U)!==v){if(z){if(I=[],wt(O.split(l)),ht(),M)return nt()}else wt(O.split(l));if($&&$<=X)return I=I.slice(0,$),nt(!0)}}return nt()}for(var q=E.indexOf(l,C),H=E.indexOf(p,C),at=new RegExp(B(S)+B(_),"g"),N=E.indexOf(_,C);;)if(E[C]===_)for(N=C,C++;;){if((N=E.indexOf(_,N+1))===-1)return k||K.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:I.length,index:C}),ct();if(N===L-1)return ct(E.substring(C,N).replace(at,_));if(_===S&&E[N+1]===S)N++;else if(_===S||N===0||E[N-1]!==S){q!==-1&&q<N+1&&(q=E.indexOf(l,N+1));var Z=$t((H=H!==-1&&H<N+1?E.indexOf(p,N+1):H)===-1?q:Math.min(q,H));if(E.substr(N+1+Z,F)===l){O.push(E.substring(C,N).replace(at,_)),E[C=N+1+Z+F]!==_&&(N=E.indexOf(_,C)),q=E.indexOf(l,C),H=E.indexOf(p,C);break}if(Z=$t(H),E.substring(N+1+Z,N+1+Z+P)===p){if(O.push(E.substring(C,N).replace(at,_)),Ot(N+1+Z+P),q=E.indexOf(l,C),N=E.indexOf(_,C),z&&(ht(),M))return nt();if($&&I.length>=$)return nt(!0);break}K.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:I.length,index:C}),N++}}else if(v&&O.length===0&&E.substring(C,C+U)===v){if(H===-1)return nt();C=H+P,H=E.indexOf(p,C),q=E.indexOf(l,C)}else if(q!==-1&&(q<H||H===-1))O.push(E.substring(C,q)),C=q+F,q=E.indexOf(l,C);else{if(H===-1)break;if(O.push(E.substring(C,H)),Ot(H+P),z&&(ht(),M))return nt();if($&&I.length>=$)return nt(!0)}return ct();function wt(J){I.push(J),G=C}function $t(J){var rt=0;return rt=J!==-1&&(J=E.substring(N+1,J))&&J.trim()===""?J.length:rt}function ct(J){return k||(J===void 0&&(J=E.substring(C)),O.push(J),C=L,wt(O),z&&ht()),nt()}function Ot(J){C=J,wt(O),O=[],H=E.indexOf(p,C)}function nt(J){if(h.header&&!A&&I.length&&!g){var rt=I[0],mt={},fe=new Set(rt);let Le=!1;for(let At=0;At<rt.length;At++){let ft=rt[At];if(mt[ft=D(h.transformHeader)?h.transformHeader(ft,At):ft]){let Nt,Ve=mt[ft];for(;Nt=ft+"_"+Ve,Ve++,fe.has(Nt););fe.add(Nt),rt[At]=Nt,mt[ft]++,Le=!0,(w=w===null?{}:w)[Nt]=ft}else mt[ft]=1,rt[At]=ft;fe.add(ft)}Le&&console.warn("Duplicate headers found and renamed."),g=!0}return{data:I,errors:K,meta:{delimiter:l,linebreak:p,aborted:M,truncated:!!J,cursor:G+(A||0),renamedHeaders:w}}}function ht(){y(nt()),I=[],K=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return C}}function W(h){var l=h.data,p=a[l.workerId],v=!1;if(l.error)p.userError(l.error,l.file);else if(l.results&&l.results.data){var y={abort:function(){v=!0,j(l.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:tt,resume:tt};if(D(p.userStep)){for(var $=0;$<l.results.data.length&&(p.userStep({data:l.results.data[$],errors:l.results.errors,meta:l.results.meta},y),!v);$++);delete l.results}else D(p.userChunk)&&(p.userChunk(l.results,y,l.file),delete l.results)}l.finished&&!v&&j(l.workerId,l.results)}function j(h,l){var p=a[h];D(p.userComplete)&&p.userComplete(l),p.terminate(),delete a[h]}function tt(){throw new Error("Not implemented.")}function et(h){if(typeof h!="object"||h===null)return h;var l,p=Array.isArray(h)?[]:{};for(l in h)p[l]=et(h[l]);return p}function Y(h,l){return function(){h.apply(l,arguments)}}function D(h){return typeof h=="function"}return u.parse=function(h,l){var p=(l=l||{}).dynamicTyping||!1;if(D(p)&&(l.dynamicTypingFunction=p,p={}),l.dynamicTyping=p,l.transform=!!D(l.transform)&&l.transform,!l.worker||!u.WORKERS_SUPPORTED)return p=null,u.NODE_STREAM_INPUT,typeof h=="string"?(h=(v=>v.charCodeAt(0)!==65279?v:v.slice(1))(h),p=new(l.download?m:b)(l)):h.readable===!0&&D(h.read)&&D(h.on)?p=new T(l):(r.File&&h instanceof File||h instanceof Object)&&(p=new x(l)),p.stream(h);(p=(()=>{var v;return!!u.WORKERS_SUPPORTED&&(v=(()=>{var y=r.URL||r.webkitURL||null,$=n.toString();return u.BLOB_URL||(u.BLOB_URL=y.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",$,")();"],{type:"text/javascript"})))})(),(v=new r.Worker(v)).onmessage=W,v.id=c++,a[v.id]=v)})()).userStep=l.step,p.userChunk=l.chunk,p.userComplete=l.complete,p.userError=l.error,l.step=D(l.step),l.chunk=D(l.chunk),l.complete=D(l.complete),l.error=D(l.error),delete l.worker,p.postMessage({input:h,config:l,workerId:p.id})},u.unparse=function(h,l){var p=!1,v=!0,y=",",$=`\r
`,d='"',w=d+d,g=!1,_=null,S=!1,C=((()=>{if(typeof l=="object"){if(typeof l.delimiter!="string"||u.BAD_DELIMITERS.filter(function(A){return l.delimiter.indexOf(A)!==-1}).length||(y=l.delimiter),typeof l.quotes!="boolean"&&typeof l.quotes!="function"&&!Array.isArray(l.quotes)||(p=l.quotes),typeof l.skipEmptyLines!="boolean"&&typeof l.skipEmptyLines!="string"||(g=l.skipEmptyLines),typeof l.newline=="string"&&($=l.newline),typeof l.quoteChar=="string"&&(d=l.quoteChar),typeof l.header=="boolean"&&(v=l.header),Array.isArray(l.columns)){if(l.columns.length===0)throw new Error("Option columns is empty");_=l.columns}l.escapeChar!==void 0&&(w=l.escapeChar+d),l.escapeFormulae instanceof RegExp?S=l.escapeFormulae:typeof l.escapeFormulae=="boolean"&&l.escapeFormulae&&(S=/^[=+\-@\t\r].*$/)}})(),new RegExp(B(d),"g"));if(typeof h=="string"&&(h=JSON.parse(h)),Array.isArray(h)){if(!h.length||Array.isArray(h[0]))return M(null,h,g);if(typeof h[0]=="object")return M(_||Object.keys(h[0]),h,g)}else if(typeof h=="object")return typeof h.data=="string"&&(h.data=JSON.parse(h.data)),Array.isArray(h.data)&&(h.fields||(h.fields=h.meta&&h.meta.fields||_),h.fields||(h.fields=Array.isArray(h.data[0])?h.fields:typeof h.data[0]=="object"?Object.keys(h.data[0]):[]),Array.isArray(h.data[0])||typeof h.data[0]=="object"||(h.data=[h.data])),M(h.fields||[],h.data||[],g);throw new Error("Unable to serialize unrecognized input");function M(A,k,L){var F="",P=(typeof A=="string"&&(A=JSON.parse(A)),typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(A)&&0<A.length),U=!Array.isArray(k[0]);if(P&&v){for(var z=0;z<A.length;z++)0<z&&(F+=y),F+=E(A[z],z);0<k.length&&(F+=$)}for(var I=0;I<k.length;I++){var K=(P?A:k[I]).length,O=!1,G=P?Object.keys(k[I]).length===0:k[I].length===0;if(L&&!P&&(O=L==="greedy"?k[I].join("").trim()==="":k[I].length===1&&k[I][0].length===0),L==="greedy"&&P){for(var Q=[],X=0;X<K;X++){var q=U?A[X]:X;Q.push(k[I][q])}O=Q.join("").trim()===""}if(!O){for(var H=0;H<K;H++){0<H&&!G&&(F+=y);var at=P&&U?A[H]:H;F+=E(k[I][at],H)}I<k.length-1&&(!L||0<K&&!G)&&(F+=$)}}return F}function E(A,k){var L,F;return A==null?"":A.constructor===Date?JSON.stringify(A).slice(1,25):(F=!1,S&&typeof A=="string"&&S.test(A)&&(A="'"+A,F=!0),L=A.toString().replace(C,w),(F=F||p===!0||typeof p=="function"&&p(A,k)||Array.isArray(p)&&p[k]||((P,U)=>{for(var z=0;z<U.length;z++)if(-1<P.indexOf(U[z]))return!0;return!1})(L,u.BAD_DELIMITERS)||-1<L.indexOf(y)||L.charAt(0)===" "||L.charAt(L.length-1)===" ")?d+L+d:L)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=R,u.ParserHandle=V,u.NetworkStreamer=m,u.FileStreamer=x,u.StringStreamer=b,u.ReadableStreamStreamer=T,r.jQuery&&((i=r.jQuery).fn.parse=function(h){var l=h.config||{},p=[];return this.each(function($){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var d=0;d<this.files.length;d++)p.push({file:this.files[d],inputElem:this,instanceConfig:i.extend({},l)})}),v(),this;function v(){if(p.length===0)D(h.complete)&&h.complete();else{var $,d,w,g,_=p[0];if(D(h.before)){var S=h.before(_.file,_.inputElem);if(typeof S=="object"){if(S.action==="abort")return $="AbortError",d=_.file,w=_.inputElem,g=S.reason,void(D(h.error)&&h.error({name:$},d,w,g));if(S.action==="skip")return void y();typeof S.config=="object"&&(_.instanceConfig=i.extend(_.instanceConfig,S.config))}else if(S==="skip")return void y()}var C=_.instanceConfig.complete;_.instanceConfig.complete=function(M){D(C)&&C(M,_.file,_.inputElem),y()},u.parse(_.file,_.instanceConfig)}}function y(){p.splice(0,1),v()}}),o&&(r.onmessage=function(h){h=h.data,u.WORKER_ID===void 0&&h&&(u.WORKER_ID=h.workerId),typeof h.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(h.input,h.config),finished:!0}):(r.File&&h.input instanceof File||h.input instanceof Object)&&(h=u.parse(h.input,h.config))&&r.postMessage({workerId:u.WORKER_ID,results:h,finished:!0})}),(m.prototype=Object.create(f.prototype)).constructor=m,(x.prototype=Object.create(f.prototype)).constructor=x,(b.prototype=Object.create(b.prototype)).constructor=b,(T.prototype=Object.create(f.prototype)).constructor=T,u})}(Jt)),Jt.exports}var Ka=Wa();const Ga=Ya(Ka),ja={name:"GalleryView",props:{csvData:{type:String,required:!0}},data(){return{parsedData:[],selectedItemId:null}},watch:{csvData:{immediate:!0,handler(t){this.parseCSV(t)}}},methods:{parseCSV(t){Ga.parse(t,{header:!0,skipEmptyLines:!0,complete:e=>{this.parsedData=e.data.map(n=>({...n,id:n["#"],projection:this.parseProjection(n.projection)}))},error:e=>{console.error("CSV:",e)}})},parseProjection(t){try{return t.replace(/^\[|\]$/g,"").split(",").map(e=>e.trim()).filter(Boolean)}catch{return[]}},hasValidImage(t){return t.image&&t.image.toLowerCase()!=="nan"},itemStyle(t){return{width:this.hasValidImage(t)?"auto":"100px",height:"50px"}},handleItemClick(t){this.selectedItemId=t.id,this.$emit("item-selected",t.projection)}}},Qa={class:"gallery-container"},Ja=["onClick"],t0=["src"],e0={key:1,class:"default-item"};function n0(t,e,n,r,i,s){return dt(),yt("div",Qa,[(dt(!0),yt(Xn,null,qn(i.parsedData,o=>(dt(),yt("div",{key:o.id,class:Un(["gallery-item",{selected:o.id===i.selectedItemId}]),style:Yn(s.itemStyle(o)),onClick:a=>s.handleItemClick(o)},[s.hasValidImage(o)?(dt(),yt("img",{key:0,src:o.image,alt:"Projection preview",class:"gallery-image"},null,8,t0)):(dt(),yt("div",e0,Zn(o.title),1))],14,Ja))),128))])}const r0=Se(ja,[["render",n0],["__scopeId","data-v-4afd0b7e"]]),i0=on({components:{GalleryView:r0,DesignSpaceView:Ua},setup(){const t=te(""),e=te([]),n=async()=>{try{const i=await Wn(()=>import("./Gallery-DpRTdZqN.js"),[]);t.value=i.default}catch(i){console.error("Error loading CSV:",i)}},r=i=>{e.value=i};return an(()=>{n()}),{rawCsvData:t,currentProjection:e,handleProjectionSelect:r}}}),s0={class:"designspace"},o0={class:"column"},a0={class:"column"},l0={key:0,class:"loading"};function u0(t,e,n,r,i,s){const o=Ie("DesignSpaceView"),a=Ie("GalleryView");return dt(),yt("div",s0,[Wt("div",o0,[Kn(o,{"projection-list":t.currentProjection},null,8,["projection-list"])]),e[0]||(e[0]=Wt("div",{class:"divider"},null,-1)),Wt("div",a0,[t.rawCsvData?(dt(),Gn(a,{key:1,"csv-data":t.rawCsvData,onItemSelected:t.handleProjectionSelect},null,8,["csv-data","onItemSelected"])):(dt(),yt("div",l0,"Loading data..."))])])}const h0=Se(i0,[["render",u0],["__scopeId","data-v-94cc8c1a"]]);export{h0 as default};
