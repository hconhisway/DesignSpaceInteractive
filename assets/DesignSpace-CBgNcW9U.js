import{d as on,r as Lt,b as an,w as Bn,o as ut,c as yt,a as Wt,_ as Ee,F as Pn,e as qn,n as Un,f as Zn,t as Yn,g as Oe,h as Kn,i as Le}from"./index-BzS9LFQN.js";function He(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}var Wn={value:()=>{}};function Se(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new jt(n)}function jt(t){this._=t}function jn(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}jt.prototype=Se.prototype={constructor:jt,on:function(t,e){var n=this._,r=jn(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=Gn(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Fe(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Fe(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new jt(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Gn(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Fe(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Wn,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var me="http://www.w3.org/1999/xhtml";const Xe={svg:"http://www.w3.org/2000/svg",xhtml:me,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function le(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Xe.hasOwnProperty(e)?{space:Xe[e],local:t}:t}function Qn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===me&&e.documentElement.namespaceURI===me?e.createElement(t):e.createElementNS(n,t)}}function Jn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function un(t){var e=le(t);return(e.local?Jn:Qn)(e)}function tr(){}function $e(t){return t==null?tr:function(){return this.querySelector(t)}}function er(t){typeof t!="function"&&(t=$e(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=t.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new ot(r,this._parents)}function nr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function rr(){return[]}function ln(t){return t==null?rr:function(){return this.querySelectorAll(t)}}function ir(t){return function(){return nr(t.apply(this,arguments))}}function sr(t){typeof t=="function"?t=ir(t):t=ln(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new ot(r,i)}function cn(t){return function(){return this.matches(t)}}function hn(t){return function(e){return e.matches(t)}}var or=Array.prototype.find;function ar(t){return function(){return or.call(this.children,t)}}function ur(){return this.firstElementChild}function lr(t){return this.select(t==null?ur:ar(typeof t=="function"?t:hn(t)))}var cr=Array.prototype.filter;function hr(){return Array.from(this.children)}function fr(t){return function(){return cr.call(this.children,t)}}function dr(t){return this.selectAll(t==null?hr:fr(typeof t=="function"?t:hn(t)))}function pr(t){typeof t!="function"&&(t=cn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new ot(r,this._parents)}function fn(t){return new Array(t.length)}function gr(){return new ot(this._enter||this._groups.map(fn),this._parents)}function ee(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ee.prototype={constructor:ee,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function mr(t){return function(){return t}}function _r(t,e,n,r,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new ee(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function yr(t,e,n,r,i,s,o){var a,l,u=new Map,c=e.length,_=s.length,v=new Array(c),b;for(a=0;a<c;++a)(l=e[a])&&(v[a]=b=o.call(l,l.__data__,a,e)+"",u.has(b)?i[a]=l:u.set(b,l));for(a=0;a<_;++a)b=o.call(t,s[a],a,s)+"",(l=u.get(b))?(r[a]=l,l.__data__=s[a],u.delete(b)):n[a]=new ee(t,s[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(v[a])===l&&(i[a]=l)}function vr(t){return t.__data__}function xr(t,e){if(!arguments.length)return Array.from(this,vr);var n=e?yr:_r,r=this._parents,i=this._groups;typeof t!="function"&&(t=mr(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],_=i[u],v=_.length,b=wr(t.call(c,c&&c.__data__,u,r)),D=b.length,I=a[u]=new Array(D),X=o[u]=new Array(D),R=l[u]=new Array(v);n(c,_,I,X,R,b,e);for(var Z=0,j=0,et,Q;Z<D;++Z)if(et=I[Z]){for(Z>=j&&(j=Z+1);!(Q=X[j])&&++j<D;);et._next=Q||null}}return o=new ot(o,r),o._enter=a,o._exit=l,o}function wr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Cr(){return new ot(this._exit||this._groups.map(fn),this._parents)}function br(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function kr(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],_=u.length,v=a[l]=new Array(_),b,D=0;D<_;++D)(b=u[D]||c[D])&&(v[D]=b);for(;l<i;++l)a[l]=n[l];return new ot(a,this._parents)}function Er(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Sr(t){t||(t=$r);function e(_,v){return _&&v?t(_.__data__,v.__data__):!_-!v}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new ot(i,this._parents).order()}function $r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ar(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Rr(){return Array.from(this)}function Mr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function zr(){let t=0;for(const e of this)++t;return t}function Tr(){return!this.node()}function Nr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function Dr(t){return function(){this.removeAttribute(t)}}function Vr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ir(t,e){return function(){this.setAttribute(t,e)}}function Or(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Lr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Hr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Fr(t,e){var n=le(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Vr:Dr:typeof e=="function"?n.local?Hr:Lr:n.local?Or:Ir)(n,e))}function dn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Xr(t){return function(){this.style.removeProperty(t)}}function Br(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Pr(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function qr(t,e,n){return arguments.length>1?this.each((e==null?Xr:typeof e=="function"?Pr:Br)(t,e,n??"")):Mt(this.node(),t)}function Mt(t,e){return t.style.getPropertyValue(e)||dn(t).getComputedStyle(t,null).getPropertyValue(e)}function Ur(t){return function(){delete this[t]}}function Zr(t,e){return function(){this[t]=e}}function Yr(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Kr(t,e){return arguments.length>1?this.each((e==null?Ur:typeof e=="function"?Yr:Zr)(t,e)):this.node()[t]}function pn(t){return t.trim().split(/^|\s+/)}function Ae(t){return t.classList||new gn(t)}function gn(t){this._node=t,this._names=pn(t.getAttribute("class")||"")}gn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function mn(t,e){for(var n=Ae(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function _n(t,e){for(var n=Ae(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Wr(t){return function(){mn(this,t)}}function jr(t){return function(){_n(this,t)}}function Gr(t,e){return function(){(e.apply(this,arguments)?mn:_n)(this,t)}}function Qr(t,e){var n=pn(t+"");if(arguments.length<2){for(var r=Ae(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Gr:e?Wr:jr)(n,e))}function Jr(){this.textContent=""}function ti(t){return function(){this.textContent=t}}function ei(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ni(t){return arguments.length?this.each(t==null?Jr:(typeof t=="function"?ei:ti)(t)):this.node().textContent}function ri(){this.innerHTML=""}function ii(t){return function(){this.innerHTML=t}}function si(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function oi(t){return arguments.length?this.each(t==null?ri:(typeof t=="function"?si:ii)(t)):this.node().innerHTML}function ai(){this.nextSibling&&this.parentNode.appendChild(this)}function ui(){return this.each(ai)}function li(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ci(){return this.each(li)}function hi(t){var e=typeof t=="function"?t:un(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function fi(){return null}function di(t,e){var n=typeof t=="function"?t:un(t),r=e==null?fi:typeof e=="function"?e:$e(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function pi(){var t=this.parentNode;t&&t.removeChild(this)}function gi(){return this.each(pi)}function mi(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _i(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yi(t){return this.select(t?_i:mi)}function vi(t){return arguments.length?this.property("__data__",t):this.node().__data__}function xi(t){return function(e){t.call(this,e,this.__data__)}}function wi(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ci(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function bi(t,e,n){return function(){var r=this.__on,i,s=xi(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function ki(t,e,n){var r=wi(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?bi:Ci,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function yn(t,e,n){var r=dn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ei(t,e){return function(){return yn(this,t,e)}}function Si(t,e){return function(){return yn(this,t,e.apply(this,arguments))}}function $i(t,e){return this.each((typeof e=="function"?Si:Ei)(t,e))}function*Ai(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var vn=[null];function ot(t,e){this._groups=t,this._parents=e}function Pt(){return new ot([[document.documentElement]],vn)}function Ri(){return this}ot.prototype=Pt.prototype={constructor:ot,select:er,selectAll:sr,selectChild:lr,selectChildren:dr,filter:pr,data:xr,enter:gr,exit:Cr,join:br,merge:kr,selection:Ri,order:Er,sort:Sr,call:Ar,nodes:Rr,node:Mr,size:zr,empty:Tr,each:Nr,attr:Fr,style:qr,property:Kr,classed:Qr,text:ni,html:oi,raise:ui,lower:ci,append:hi,insert:di,remove:gi,clone:yi,datum:vi,on:ki,dispatch:$i,[Symbol.iterator]:Ai};function it(t){return typeof t=="string"?new ot([[document.querySelector(t)]],[document.documentElement]):new ot([[t]],vn)}function Mi(t){let e;for(;e=t.sourceEvent;)t=e;return t}function bt(t,e){if(t=Mi(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const _e={capture:!0,passive:!1};function ye(t){t.preventDefault(),t.stopImmediatePropagation()}function zi(t){var e=t.document.documentElement,n=it(t).on("dragstart.drag",ye,_e);"onselectstart"in e?n.on("selectstart.drag",ye,_e):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ti(t,e){var n=t.document.documentElement,r=it(t).on("dragstart.drag",null);e&&(r.on("click.drag",ye,_e),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Re(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qt(){}var Ht=.7,ne=1/Ht,Rt="\\s*([+-]?\\d+)\\s*",Ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ni=/^#([0-9a-f]{3,8})$/,Di=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),Vi=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),Ii=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${Ft}\\)$`),Oi=new RegExp(`^rgba\\(${pt},${pt},${pt},${Ft}\\)$`),Li=new RegExp(`^hsl\\(${Ft},${pt},${pt}\\)$`),Hi=new RegExp(`^hsla\\(${Ft},${pt},${pt},${Ft}\\)$`),Be={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Re(qt,Xt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Pe,formatHex:Pe,formatHex8:Fi,formatHsl:Xi,formatRgb:qe,toString:qe});function Pe(){return this.rgb().formatHex()}function Fi(){return this.rgb().formatHex8()}function Xi(){return wn(this).formatHsl()}function qe(){return this.rgb().formatRgb()}function Xt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ni.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ue(e):n===3?new st(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ut(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ut(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Di.exec(t))?new st(e[1],e[2],e[3],1):(e=Vi.exec(t))?new st(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ii.exec(t))?Ut(e[1],e[2],e[3],e[4]):(e=Oi.exec(t))?Ut(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Li.exec(t))?Ke(e[1],e[2]/100,e[3]/100,1):(e=Hi.exec(t))?Ke(e[1],e[2]/100,e[3]/100,e[4]):Be.hasOwnProperty(t)?Ue(Be[t]):t==="transparent"?new st(NaN,NaN,NaN,0):null}function Ue(t){return new st(t>>16&255,t>>8&255,t&255,1)}function Ut(t,e,n,r){return r<=0&&(t=e=n=NaN),new st(t,e,n,r)}function Bi(t){return t instanceof qt||(t=Xt(t)),t?(t=t.rgb(),new st(t.r,t.g,t.b,t.opacity)):new st}function ve(t,e,n,r){return arguments.length===1?Bi(t):new st(t,e,n,r??1)}function st(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Re(st,ve,xn(qt,{brighter(t){return t=t==null?ne:Math.pow(ne,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ht:Math.pow(Ht,t),new st(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new st(Et(this.r),Et(this.g),Et(this.b),re(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ze,formatHex:Ze,formatHex8:Pi,formatRgb:Ye,toString:Ye}));function Ze(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}`}function Pi(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}${kt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ye(){const t=re(this.opacity);return`${t===1?"rgb(":"rgba("}${Et(this.r)}, ${Et(this.g)}, ${Et(this.b)}${t===1?")":`, ${t})`}`}function re(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Et(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kt(t){return t=Et(t),(t<16?"0":"")+t.toString(16)}function Ke(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new lt(t,e,n,r)}function wn(t){if(t instanceof lt)return new lt(t.h,t.s,t.l,t.opacity);if(t instanceof qt||(t=Xt(t)),!t)return new lt;if(t instanceof lt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new lt(o,a,l,t.opacity)}function qi(t,e,n,r){return arguments.length===1?wn(t):new lt(t,e,n,r??1)}function lt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Re(lt,qi,xn(qt,{brighter(t){return t=t==null?ne:Math.pow(ne,t),new lt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ht:Math.pow(Ht,t),new lt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new st(de(t>=240?t-240:t+120,i,r),de(t,i,r),de(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new lt(We(this.h),Zt(this.s),Zt(this.l),re(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=re(this.opacity);return`${t===1?"hsl(":"hsla("}${We(this.h)}, ${Zt(this.s)*100}%, ${Zt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function We(t){return t=(t||0)%360,t<0?t+360:t}function Zt(t){return Math.max(0,Math.min(1,t||0))}function de(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Cn=t=>()=>t;function Ui(t,e){return function(n){return t+n*e}}function Zi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Yi(t){return(t=+t)==1?bn:function(e,n){return n-e?Zi(e,n,t):Cn(isNaN(e)?n:e)}}function bn(t,e){var n=e-t;return n?Ui(t,n):Cn(isNaN(t)?e:t)}const je=function t(e){var n=Yi(e);function r(i,s){var o=n((i=ve(i)).r,(s=ve(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=bn(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Ct(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var xe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pe=new RegExp(xe.source,"g");function Ki(t){return function(){return t}}function Wi(t){return function(e){return t(e)+""}}function kn(t,e){var n=xe.lastIndex=pe.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=xe.exec(t))&&(i=pe.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Ct(r,i)})),n=pe.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Wi(l[0].x):Ki(e):(e=l.length,function(u){for(var c=0,_;c<e;++c)a[(_=l[c]).i]=_.x(u);return a.join("")})}var Ge=180/Math.PI,we={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function En(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Ge,skewX:Math.atan(l)*Ge,scaleX:o,scaleY:a}}var Yt;function ji(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?we:En(e.a,e.b,e.c,e.d,e.e,e.f)}function Gi(t){return t==null||(Yt||(Yt=document.createElementNS("http://www.w3.org/2000/svg","g")),Yt.setAttribute("transform",t),!(t=Yt.transform.baseVal.consolidate()))?we:(t=t.matrix,En(t.a,t.b,t.c,t.d,t.e,t.f))}function Sn(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,_,v,b,D){if(u!==_||c!==v){var I=b.push("translate(",null,e,null,n);D.push({i:I-4,x:Ct(u,_)},{i:I-2,x:Ct(c,v)})}else(_||v)&&b.push("translate("+_+e+v+n)}function o(u,c,_,v){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),v.push({i:_.push(i(_)+"rotate(",null,r)-2,x:Ct(u,c)})):c&&_.push(i(_)+"rotate("+c+r)}function a(u,c,_,v){u!==c?v.push({i:_.push(i(_)+"skewX(",null,r)-2,x:Ct(u,c)}):c&&_.push(i(_)+"skewX("+c+r)}function l(u,c,_,v,b,D){if(u!==_||c!==v){var I=b.push(i(b)+"scale(",null,",",null,")");D.push({i:I-4,x:Ct(u,_)},{i:I-2,x:Ct(c,v)})}else(_!==1||v!==1)&&b.push(i(b)+"scale("+_+","+v+")")}return function(u,c){var _=[],v=[];return u=t(u),c=t(c),s(u.translateX,u.translateY,c.translateX,c.translateY,_,v),o(u.rotate,c.rotate,_,v),a(u.skewX,c.skewX,_,v),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,_,v),u=c=null,function(b){for(var D=-1,I=v.length,X;++D<I;)_[(X=v[D]).i]=X.x(b);return _.join("")}}}var Qi=Sn(ji,"px, ","px)","deg)"),Ji=Sn(Gi,", ",")",")"),ts=1e-12;function Qe(t){return((t=Math.exp(t))+1/t)/2}function es(t){return((t=Math.exp(t))-1/t)/2}function ns(t){return((t=Math.exp(2*t))-1)/(t+1)}const rs=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],_=o[1],v=o[2],b=c-a,D=_-l,I=b*b+D*D,X,R;if(I<ts)R=Math.log(v/u)/e,X=function(V){return[a+V*b,l+V*D,u*Math.exp(e*V*R)]};else{var Z=Math.sqrt(I),j=(v*v-u*u+r*I)/(2*u*n*Z),et=(v*v-u*u-r*I)/(2*v*n*Z),Q=Math.log(Math.sqrt(j*j+1)-j),G=Math.log(Math.sqrt(et*et+1)-et);R=(G-Q)/e,X=function(V){var h=V*R,p=Qe(Q),f=u/(n*Z)*(p*ns(e*h+Q)-es(Q));return[a+f*b,l+f*D,u*p/Qe(e*h+Q)]}}return X.duration=R*1e3*e/Math.SQRT2,X}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);var zt=0,It=0,Dt=0,$n=1e3,ie,Ot,se=0,St=0,ce=0,Bt=typeof performance=="object"&&performance.now?performance:Date,An=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Me(){return St||(An(is),St=Bt.now()+ce)}function is(){St=0}function oe(){this._call=this._time=this._next=null}oe.prototype=Rn.prototype={constructor:oe,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Me():+n)+(e==null?0:+e),!this._next&&Ot!==this&&(Ot?Ot._next=this:ie=this,Ot=this),this._call=t,this._time=n,Ce()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ce())}};function Rn(t,e,n){var r=new oe;return r.restart(t,e,n),r}function ss(){Me(),++zt;for(var t=ie,e;t;)(e=St-t._time)>=0&&t._call.call(void 0,e),t=t._next;--zt}function Je(){St=(se=Bt.now())+ce,zt=It=0;try{ss()}finally{zt=0,as(),St=0}}function os(){var t=Bt.now(),e=t-se;e>$n&&(ce-=e,se=t)}function as(){for(var t,e=ie,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ie=n);Ot=t,Ce(r)}function Ce(t){if(!zt){It&&(It=clearTimeout(It));var e=t-St;e>24?(t<1/0&&(It=setTimeout(Je,t-Bt.now()-ce)),Dt&&(Dt=clearInterval(Dt))):(Dt||(se=Bt.now(),Dt=setInterval(os,$n)),zt=1,An(Je))}}function tn(t,e,n){var r=new oe;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var us=Se("start","end","cancel","interrupt"),ls=[],Mn=0,en=1,be=2,Gt=3,nn=4,ke=5,Qt=6;function he(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;cs(t,n,{name:e,index:r,group:i,on:us,tween:ls,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Mn})}function ze(t,e){var n=ct(t,e);if(n.state>Mn)throw new Error("too late; already scheduled");return n}function gt(t,e){var n=ct(t,e);if(n.state>Gt)throw new Error("too late; already running");return n}function ct(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function cs(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Rn(s,0,n.time);function s(u){n.state=en,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,_,v,b;if(n.state!==en)return l();for(c in r)if(b=r[c],b.name===n.name){if(b.state===Gt)return tn(o);b.state===nn?(b.state=Qt,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[c]):+c<e&&(b.state=Qt,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[c])}if(tn(function(){n.state===Gt&&(n.state=nn,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=be,n.on.call("start",t,t.__data__,n.index,n.group),n.state===be){for(n.state=Gt,i=new Array(v=n.tween.length),c=0,_=-1;c<v;++c)(b=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++_]=b);i.length=_+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=ke,1),_=-1,v=i.length;++_<v;)i[_].call(t,c);n.state===ke&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Qt,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Jt(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>be&&r.state<ke,r.state=Qt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function hs(t){return this.each(function(){Jt(this,t)})}function fs(t,e){var n,r;return function(){var i=gt(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function ds(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=gt(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function ps(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ct(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?fs:ds)(n,t,e))}function Te(t,e,n){var r=t._id;return t.each(function(){var i=gt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ct(i,r).value[e]}}function zn(t,e){var n;return(typeof e=="number"?Ct:e instanceof Xt?je:(n=Xt(e))?(e=n,je):kn)(t,e)}function gs(t){return function(){this.removeAttribute(t)}}function ms(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _s(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function ys(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function vs(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function xs(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function ws(t,e){var n=le(t),r=n==="transform"?Ji:zn;return this.attrTween(t,typeof e=="function"?(n.local?xs:vs)(n,r,Te(this,"attr."+t,e)):e==null?(n.local?ms:gs)(n):(n.local?ys:_s)(n,r,e))}function Cs(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function bs(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ks(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&bs(t,s)),n}return i._value=e,i}function Es(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Cs(t,s)),n}return i._value=e,i}function Ss(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=le(t);return this.tween(n,(r.local?ks:Es)(r,e))}function $s(t,e){return function(){ze(this,t).delay=+e.apply(this,arguments)}}function As(t,e){return e=+e,function(){ze(this,t).delay=e}}function Rs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$s:As)(e,t)):ct(this.node(),e).delay}function Ms(t,e){return function(){gt(this,t).duration=+e.apply(this,arguments)}}function zs(t,e){return e=+e,function(){gt(this,t).duration=e}}function Ts(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ms:zs)(e,t)):ct(this.node(),e).duration}function Ns(t,e){if(typeof e!="function")throw new Error;return function(){gt(this,t).ease=e}}function Ds(t){var e=this._id;return arguments.length?this.each(Ns(e,t)):ct(this.node(),e).ease}function Vs(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;gt(this,t).ease=n}}function Is(t){if(typeof t!="function")throw new Error;return this.each(Vs(this._id,t))}function Os(t){typeof t!="function"&&(t=cn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new xt(r,this._parents,this._name,this._id)}function Ls(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],c=l.length,_=o[a]=new Array(c),v,b=0;b<c;++b)(v=l[b]||u[b])&&(_[b]=v);for(;a<r;++a)o[a]=e[a];return new xt(o,this._parents,this._name,this._id)}function Hs(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Fs(t,e,n){var r,i,s=Hs(e)?ze:gt;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function Xs(t,e){var n=this._id;return arguments.length<2?ct(this.node(),n).on.on(t):this.each(Fs(n,t,e))}function Bs(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ps(){return this.on("end.remove",Bs(this._id))}function qs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=$e(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,_,v=0;v<l;++v)(c=a[v])&&(_=t.call(c,c.__data__,v,a))&&("__data__"in c&&(_.__data__=c.__data__),u[v]=_,he(u[v],e,n,v,u,ct(c,n)));return new xt(s,this._parents,e,n)}function Us(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ln(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,_=0;_<u;++_)if(c=l[_]){for(var v=t.call(c,c.__data__,_,l),b,D=ct(c,n),I=0,X=v.length;I<X;++I)(b=v[I])&&he(b,e,n,I,v,D);s.push(v),o.push(c)}return new xt(s,o,e,n)}var Zs=Pt.prototype.constructor;function Ys(){return new Zs(this._groups,this._parents)}function Ks(t,e){var n,r,i;return function(){var s=Mt(this,t),o=(this.style.removeProperty(t),Mt(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Tn(t){return function(){this.style.removeProperty(t)}}function Ws(t,e,n){var r,i=n+"",s;return function(){var o=Mt(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function js(t,e,n){var r,i,s;return function(){var o=Mt(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Mt(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function Gs(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=gt(this,t),u=l.on,c=l.value[s]==null?a||(a=Tn(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function Qs(t,e,n){var r=(t+="")=="transform"?Qi:zn;return e==null?this.styleTween(t,Ks(t,r)).on("end.style."+t,Tn(t)):typeof e=="function"?this.styleTween(t,js(t,r,Te(this,"style."+t,e))).each(Gs(this._id,t)):this.styleTween(t,Ws(t,r,e),n).on("end.style."+t,null)}function Js(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function to(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Js(t,o,n)),r}return s._value=e,s}function eo(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,to(t,e,n??""))}function no(t){return function(){this.textContent=t}}function ro(t){return function(){var e=t(this);this.textContent=e??""}}function io(t){return this.tween("text",typeof t=="function"?ro(Te(this,"text",t)):no(t==null?"":t+""))}function so(t){return function(e){this.textContent=t.call(this,e)}}function oo(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&so(i)),e}return r._value=t,r}function ao(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,oo(t))}function uo(){for(var t=this._name,e=this._id,n=Nn(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=ct(l,e);he(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new xt(r,this._parents,t,n)}function lo(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=gt(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var co=0;function xt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Nn(){return++co}var _t=Pt.prototype;xt.prototype={constructor:xt,select:qs,selectAll:Us,selectChild:_t.selectChild,selectChildren:_t.selectChildren,filter:Os,merge:Ls,selection:Ys,transition:uo,call:_t.call,nodes:_t.nodes,node:_t.node,size:_t.size,empty:_t.empty,each:_t.each,on:Xs,attr:ws,attrTween:Ss,style:Qs,styleTween:eo,text:io,textTween:ao,remove:Ps,tween:ps,delay:Rs,duration:Ts,ease:Ds,easeVarying:Is,end:lo,[Symbol.iterator]:_t[Symbol.iterator]};function ho(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var fo={time:null,delay:0,duration:250,ease:ho};function po(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function go(t){var e,n;t instanceof xt?(e=t._id,t=t._name):(e=Nn(),(n=fo).time=Me(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&he(l,t,e,u,o,n||po(l,e));return new xt(r,this._parents,t,e)}Pt.prototype.interrupt=hs;Pt.prototype.transition=go;function mo(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function _o(){return this.eachAfter(mo)}function yo(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function vo(t,e){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function xo(t,e){for(var n=this,r=[n],i=[],s,o,a,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function wo(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function Co(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function bo(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function ko(t){for(var e=this,n=Eo(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Eo(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function So(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function $o(){return Array.from(this)}function Ao(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Ro(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Mo(){var t=this,e,n=[t],r,i,s;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function Ne(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=No)):e===void 0&&(e=To);for(var n=new ae(t),r,i=[n],s,o,a,l;r=i.pop();)if((o=e(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,a=l-1;a>=0;--a)i.push(s=o[a]=new ae(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(Vo)}function zo(){return Ne(this).eachBefore(Do)}function To(t){return t.children}function No(t){return Array.isArray(t)?t[1]:null}function Do(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Vo(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ae(t){this.data=t,this.depth=this.height=0,this.parent=null}ae.prototype=Ne.prototype={constructor:ae,count:_o,each:yo,eachAfter:xo,eachBefore:vo,find:wo,sum:Co,sort:bo,path:ko,ancestors:So,descendants:$o,leaves:Ao,links:Ro,copy:zo,[Symbol.iterator]:Mo};const Kt=t=>()=>t;function Io(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function vt(t,e,n){this.k=t,this.x=e,this.y=n}vt.prototype={constructor:vt,scale:function(t){return t===1?this:new vt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new vt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dn=new vt(1,0,0);vt.prototype;function ge(t){t.stopImmediatePropagation()}function Vt(t){t.preventDefault(),t.stopImmediatePropagation()}function Oo(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Lo(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function rn(){return this.__zoom||Dn}function Ho(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Fo(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xo(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Bo(){var t=Oo,e=Lo,n=Xo,r=Ho,i=Fo,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=rs,u=Se("start","zoom","end"),c,_,v,b=500,D=150,I=0,X=10;function R(d){d.property("__zoom",rn).on("wheel.zoom",h,{passive:!1}).on("mousedown.zoom",p).on("dblclick.zoom",f).filter(i).on("touchstart.zoom",C).on("touchmove.zoom",y).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}R.transform=function(d,w,g,m){var E=d.selection?d.selection():d;E.property("__zoom",rn),d!==E?Q(d,w,g,m):E.interrupt().each(function(){G(this,arguments).event(m).start().zoom(null,typeof w=="function"?w.apply(this,arguments):w).end()})},R.scaleBy=function(d,w,g,m){R.scaleTo(d,function(){var E=this.__zoom.k,x=typeof w=="function"?w.apply(this,arguments):w;return E*x},g,m)},R.scaleTo=function(d,w,g,m){R.transform(d,function(){var E=e.apply(this,arguments),x=this.__zoom,M=g==null?et(E):typeof g=="function"?g.apply(this,arguments):g,S=x.invert(M),A=typeof w=="function"?w.apply(this,arguments):w;return n(j(Z(x,A),M,S),E,o)},g,m)},R.translateBy=function(d,w,g,m){R.transform(d,function(){return n(this.__zoom.translate(typeof w=="function"?w.apply(this,arguments):w,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),o)},null,m)},R.translateTo=function(d,w,g,m,E){R.transform(d,function(){var x=e.apply(this,arguments),M=this.__zoom,S=m==null?et(x):typeof m=="function"?m.apply(this,arguments):m;return n(Dn.translate(S[0],S[1]).scale(M.k).translate(typeof w=="function"?-w.apply(this,arguments):-w,typeof g=="function"?-g.apply(this,arguments):-g),x,o)},m,E)};function Z(d,w){return w=Math.max(s[0],Math.min(s[1],w)),w===d.k?d:new vt(w,d.x,d.y)}function j(d,w,g){var m=w[0]-g[0]*d.k,E=w[1]-g[1]*d.k;return m===d.x&&E===d.y?d:new vt(d.k,m,E)}function et(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function Q(d,w,g,m){d.on("start.zoom",function(){G(this,arguments).event(m).start()}).on("interrupt.zoom end.zoom",function(){G(this,arguments).event(m).end()}).tween("zoom",function(){var E=this,x=arguments,M=G(E,x).event(m),S=e.apply(E,x),A=g==null?et(S):typeof g=="function"?g.apply(E,x):g,$=Math.max(S[1][0]-S[0][0],S[1][1]-S[0][1]),O=E.__zoom,F=typeof w=="function"?w.apply(E,x):w,B=l(O.invert(A).concat($/O.k),F.invert(A).concat($/F.k));return function(U){if(U===1)U=F;else{var z=B(U),L=$/z[2];U=new vt(L,A[0]-z[0]*L,A[1]-z[1]*L)}M.zoom(null,U)}})}function G(d,w,g){return!g&&d.__zooming||new V(d,w)}function V(d,w){this.that=d,this.args=w,this.active=0,this.sourceEvent=null,this.extent=e.apply(d,w),this.taps=0}V.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,w){return this.mouse&&d!=="mouse"&&(this.mouse[1]=w.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=w.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=w.invert(this.touch1[0])),this.that.__zoom=w,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var w=it(this.that).datum();u.call(d,this.that,new Io(d,{sourceEvent:this.sourceEvent,target:R,type:d,transform:this.that.__zoom,dispatch:u}),w)}};function h(d,...w){if(!t.apply(this,arguments))return;var g=G(this,w).event(d),m=this.__zoom,E=Math.max(s[0],Math.min(s[1],m.k*Math.pow(2,r.apply(this,arguments)))),x=bt(d);if(g.wheel)(g.mouse[0][0]!==x[0]||g.mouse[0][1]!==x[1])&&(g.mouse[1]=m.invert(g.mouse[0]=x)),clearTimeout(g.wheel);else{if(m.k===E)return;g.mouse=[x,m.invert(x)],Jt(this),g.start()}Vt(d),g.wheel=setTimeout(M,D),g.zoom("mouse",n(j(Z(m,E),g.mouse[0],g.mouse[1]),g.extent,o));function M(){g.wheel=null,g.end()}}function p(d,...w){if(v||!t.apply(this,arguments))return;var g=d.currentTarget,m=G(this,w,!0).event(d),E=it(d.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",$,!0),x=bt(d,g),M=d.clientX,S=d.clientY;zi(d.view),ge(d),m.mouse=[x,this.__zoom.invert(x)],Jt(this),m.start();function A(O){if(Vt(O),!m.moved){var F=O.clientX-M,B=O.clientY-S;m.moved=F*F+B*B>I}m.event(O).zoom("mouse",n(j(m.that.__zoom,m.mouse[0]=bt(O,g),m.mouse[1]),m.extent,o))}function $(O){E.on("mousemove.zoom mouseup.zoom",null),Ti(O.view,m.moved),Vt(O),m.event(O).end()}}function f(d,...w){if(t.apply(this,arguments)){var g=this.__zoom,m=bt(d.changedTouches?d.changedTouches[0]:d,this),E=g.invert(m),x=g.k*(d.shiftKey?.5:2),M=n(j(Z(g,x),m,E),e.apply(this,w),o);Vt(d),a>0?it(this).transition().duration(a).call(Q,M,m,d):it(this).call(R.transform,M,m,d)}}function C(d,...w){if(t.apply(this,arguments)){var g=d.touches,m=g.length,E=G(this,w,d.changedTouches.length===m).event(d),x,M,S,A;for(ge(d),M=0;M<m;++M)S=g[M],A=bt(S,this),A=[A,this.__zoom.invert(A),S.identifier],E.touch0?!E.touch1&&E.touch0[2]!==A[2]&&(E.touch1=A,E.taps=0):(E.touch0=A,x=!0,E.taps=1+!!c);c&&(c=clearTimeout(c)),x&&(E.taps<2&&(_=A[0],c=setTimeout(function(){c=null},b)),Jt(this),E.start())}}function y(d,...w){if(this.__zooming){var g=G(this,w).event(d),m=d.changedTouches,E=m.length,x,M,S,A;for(Vt(d),x=0;x<E;++x)M=m[x],S=bt(M,this),g.touch0&&g.touch0[2]===M.identifier?g.touch0[0]=S:g.touch1&&g.touch1[2]===M.identifier&&(g.touch1[0]=S);if(M=g.that.__zoom,g.touch1){var $=g.touch0[0],O=g.touch0[1],F=g.touch1[0],B=g.touch1[1],U=(U=F[0]-$[0])*U+(U=F[1]-$[1])*U,z=(z=B[0]-O[0])*z+(z=B[1]-O[1])*z;M=Z(M,Math.sqrt(U/z)),S=[($[0]+F[0])/2,($[1]+F[1])/2],A=[(O[0]+B[0])/2,(O[1]+B[1])/2]}else if(g.touch0)S=g.touch0[0],A=g.touch0[1];else return;g.zoom("touch",n(j(M,S,A),g.extent,o))}}function k(d,...w){if(this.__zooming){var g=G(this,w).event(d),m=d.changedTouches,E=m.length,x,M;for(ge(d),v&&clearTimeout(v),v=setTimeout(function(){v=null},b),x=0;x<E;++x)M=m[x],g.touch0&&g.touch0[2]===M.identifier?delete g.touch0:g.touch1&&g.touch1[2]===M.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(M=bt(M,this),Math.hypot(_[0]-M[0],_[1]-M[1])<X)){var S=it(this).on("dblclick.zoom");S&&S.apply(this,arguments)}}}return R.wheelDelta=function(d){return arguments.length?(r=typeof d=="function"?d:Kt(+d),R):r},R.filter=function(d){return arguments.length?(t=typeof d=="function"?d:Kt(!!d),R):t},R.touchable=function(d){return arguments.length?(i=typeof d=="function"?d:Kt(!!d),R):i},R.extent=function(d){return arguments.length?(e=typeof d=="function"?d:Kt([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),R):e},R.scaleExtent=function(d){return arguments.length?(s[0]=+d[0],s[1]=+d[1],R):[s[0],s[1]]},R.translateExtent=function(d){return arguments.length?(o[0][0]=+d[0][0],o[1][0]=+d[1][0],o[0][1]=+d[0][1],o[1][1]=+d[1][1],R):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},R.constrain=function(d){return arguments.length?(n=d,R):n},R.duration=function(d){return arguments.length?(a=+d,R):a},R.interpolate=function(d){return arguments.length?(l=d,R):l},R.on=function(){var d=u.on.apply(u,arguments);return d===u?R:d},R.clickDistance=function(d){return arguments.length?(I=(d=+d)*d,R):Math.sqrt(I)},R.tapDistance=function(d){return arguments.length?(X=+d,R):X},R}function Po(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function qo(){return this.eachAfter(Po)}function Uo(t){var e=this,n,r=[e],i,s,o;do for(n=r.reverse(),r=[];e=n.pop();)if(t(e),i=e.children,i)for(s=0,o=i.length;s<o;++s)r.push(i[s]);while(r.length);return this}function Zo(t){for(var e=this,n=[e],r,i;e=n.pop();)if(t(e),r=e.children,r)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this}function Yo(t){for(var e=this,n=[e],r=[],i,s,o;e=n.pop();)if(r.push(e),i=e.children,i)for(s=0,o=i.length;s<o;++s)n.push(i[s]);for(;e=r.pop();)t(e);return this}function Ko(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Wo(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function jo(t){for(var e=this,n=Go(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Go(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Qo(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Jo(){var t=[];return this.each(function(e){t.push(e)}),t}function ta(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function ea(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function De(t,e){var n=new ue(t),r=+t.value&&(n.value=t.value),i,s=[n],o,a,l,u;for(e==null&&(e=ra);i=s.pop();)if(r&&(i.value=+i.data.value),(a=e(i.data))&&(u=a.length))for(i.children=new Array(u),l=u-1;l>=0;--l)s.push(o=i.children[l]=new ue(a[l])),o.parent=i,o.depth=i.depth+1;return n.eachBefore(sa)}function na(){return De(this).eachBefore(ia)}function ra(t){return t.children}function ia(t){t.data=t.data.data}function sa(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ue(t){this.data=t,this.depth=this.height=0,this.parent=null}ue.prototype=De.prototype={constructor:ue,count:qo,each:Uo,eachAfter:Yo,eachBefore:Zo,sum:Ko,sort:Wo,path:jo,ancestors:Qo,descendants:Jo,leaves:ta,links:ea,copy:na};const oa="d3-flextree",aa="2.1.2",ua="build/d3-flextree.js",la="index",ca={name:"Chris Maloney",url:"http://chrismaloney.org"},ha="Flexible tree layout algorithm that allows for variable node sizes.",fa=["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],da="https://github.com/klortho/d3-flextree",pa="WTFPL",ga={type:"git",url:"https://github.com/klortho/d3-flextree.git"},ma={clean:"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test",build:"rollup -c",lint:"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js",test:"npm-run-all test:*",prepare:"npm-run-all clean build lint test"},_a={"d3-hierarchy":"^1.1.5"},ya={"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0",d3:"^4.13.0","d3-selection-multi":"^1.0.1",eslint:"^4.19.1",jsdom:"^11.6.2","npm-run-all":"^4.1.2",rollup:"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"},va={name:oa,version:aa,main:ua,module:la,"jsnext:main":"index",author:ca,description:ha,keywords:fa,homepage:da,license:pa,repository:ga,scripts:ma,dependencies:_a,devDependencies:ya},{version:xa}=va,wa=Object.freeze({children:t=>t.children,nodeSize:t=>t.data.size,spacing:0});function In(t){const e=Object.assign({},wa,t);function n(a){const l=e[a];return typeof l=="function"?l:()=>l}function r(a){const l=o(s(),a,u=>u.children);return l.update(),l.data}function i(){const a=n("nodeSize"),l=n("spacing");return class Vn extends De.prototype.constructor{constructor(c){super(c)}copy(){const c=o(this.constructor,this,_=>_.children);return c.each(_=>_.data=_.data.data),c}get size(){return a(this)}spacing(c){return l(this,c)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const c=this.ancestors();return c[c.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return this.children===null}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce((c,_)=>Vn.maxExtents(c,_.extents),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(c,_){return{top:Math.min(c.top,_.top),bottom:Math.max(c.bottom,_.bottom),left:Math.min(c.left,_.left),right:Math.max(c.right,_.right)}}}}function s(){const a=i(),l=n("nodeSize"),u=n("spacing");return class extends a{constructor(c){super(c),Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return l(this.data)}spacing(c){return u(this.data,c.data)}get x(){return this.data.x}set x(c){this.data.x=c}get y(){return this.data.y}set y(c){this.data.y=c}update(){return On(this),Ln(this),this}}}function o(a,l,u){const c=(_,v)=>{const b=new a(_);Object.assign(b,{parent:v,depth:v===null?0:v.depth+1,height:0,length:1});const D=u(_)||[];return b.children=D.length===0?null:D.map(I=>c(I,b)),b.children&&Object.assign(b,b.children.reduce((I,X)=>({height:Math.max(I.height,X.height+1),length:I.length+X.length}),b)),b};return c(l,null)}return Object.assign(r,{nodeSize(a){return arguments.length?(e.nodeSize=a,r):e.nodeSize},spacing(a){return arguments.length?(e.spacing=a,r):e.spacing},children(a){return arguments.length?(e.children=a,r):e.children},hierarchy(a,l){const u=typeof l>"u"?e.children:l;return o(i(),a,u)},dump(a){const l=n("nodeSize"),u=c=>_=>{const v=c+"  ",b=c+"    ",{x:D,y:I}=_,X=l(_),R=_.children||[],Z=R.length===0?" ":`,${v}children: [${b}${R.map(u(b)).join(b)}${v}],${c}`;return`{ size: [${X.join(", ")}],${v}x: ${D}, y: ${I}${Z}},`};return u(`
`)(a)}}),r}In.version=xa;const On=(t,e=0)=>(t.y=e,(t.children||[]).reduce((n,r)=>{const[i,s]=n;On(r,t.y+t.ySize);const o=(i===0?r.lExt:r.rExt).bottom;i!==0&&ba(t,i,s);const a=za(o,i,s);return[i+1,a]},[0,null]),Ca(t),Ma(t),t),Ln=(t,e,n)=>{typeof e>"u"&&(e=-t.relX-t.prelim,n=0);const r=e+t.relX;return t.relX=r+t.prelim-n,t.prelim=0,t.x=n+t.relX,(t.children||[]).forEach(i=>Ln(i,r,t.x)),t},Ca=t=>{(t.children||[]).reduce((e,n)=>{const[r,i]=e,s=r+n.shift,o=i+s+n.change;return n.relX+=o,[s,o]},[0,0])},ba=(t,e,n)=>{const r=t.children[e-1],i=t.children[e];let s=r,o=r.relX,a=i,l=i.relX,u=!0;for(;s&&a;){s.bottom>n.lowY&&(n=n.next);const c=o+s.prelim-(l+a.prelim)+s.xSize/2+a.xSize/2+s.spacing(a);(c>0||c<0&&u)&&(l+=c,ka(i,c),Ea(t,e,n.index,c)),u=!1;const _=s.bottom,v=a.bottom;_<=v&&(s=$a(s),s&&(o+=s.relX)),_>=v&&(a=Sa(a),a&&(l+=a.relX))}!s&&a?Aa(t,e,a,l):s&&!a&&Ra(t,e,s,o)},ka=(t,e)=>{t.relX+=e,t.lExtRelX+=e,t.rExtRelX+=e},Ea=(t,e,n,r)=>{const i=t.children[e],s=e-n;if(s>1){const o=r/s;t.children[n+1].shift+=o,i.shift-=o,i.change-=r-o}},Sa=t=>t.hasChildren?t.firstChild:t.lThr,$a=t=>t.hasChildren?t.lastChild:t.rThr,Aa=(t,e,n,r)=>{const i=t.firstChild,s=i.lExt,o=t.children[e];s.lThr=n;const a=r-n.relX-i.lExtRelX;s.relX+=a,s.prelim-=a,i.lExt=o.lExt,i.lExtRelX=o.lExtRelX},Ra=(t,e,n,r)=>{const i=t.children[e],s=i.rExt,o=t.children[e-1];s.rThr=n;const a=r-n.relX-i.rExtRelX;s.relX+=a,s.prelim-=a,i.rExt=o.rExt,i.rExtRelX=o.rExtRelX},Ma=t=>{if(t.hasChildren){const e=t.firstChild,n=t.lastChild,r=(e.prelim+e.relX-e.xSize/2+n.relX+n.prelim+n.xSize/2)/2;Object.assign(t,{prelim:r,lExt:e.lExt,lExtRelX:e.lExtRelX,rExt:n.rExt,rExtRelX:n.rExtRelX})}},za=(t,e,n)=>{for(;n!==null&&t>=n.lowY;)n=n.next;return{lowY:t,index:e,next:n}},Ta="data:image/svg+xml,%3csvg%20width='32'%20height='21'%20viewBox='0%200%2032%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cellipse%20cx='16'%20cy='10.5'%20rx='16'%20ry='10.5'%20fill='%2386BA80'%20fill-opacity='0.6'/%3e%3cpath%20d='M14.1184%2014.1278C13.4792%2014.1278%2012.9252%2013.9872%2012.4565%2013.706C11.9877%2013.4247%2011.6241%2013.0312%2011.3656%2012.5256C11.1099%2012.0199%2010.9821%2011.429%2010.9821%2010.7528C10.9821%2010.0767%2011.1099%209.48437%2011.3656%208.97585C11.6241%208.46733%2011.9877%208.07244%2012.4565%207.79119C12.9252%207.50994%2013.4792%207.36932%2014.1184%207.36932C14.7576%207.36932%2015.3116%207.50994%2015.7804%207.79119C16.2491%208.07244%2016.6113%208.46733%2016.867%208.97585C17.1255%209.48437%2017.2548%2010.0767%2017.2548%2010.7528C17.2548%2011.429%2017.1255%2012.0199%2016.867%2012.5256C16.6113%2013.0312%2016.2491%2013.4247%2015.7804%2013.706C15.3116%2013.9872%2014.7576%2014.1278%2014.1184%2014.1278ZM14.127%2012.892C14.4735%2012.892%2014.7633%2012.7969%2014.9963%2012.6065C15.2292%2012.4134%2015.4025%2012.1548%2015.5162%2011.831C15.6326%2011.5071%2015.6909%2011.1463%2015.6909%2010.7486C15.6909%2010.348%2015.6326%209.9858%2015.5162%209.66193C15.4025%209.33523%2015.2292%209.07528%2014.9963%208.8821C14.7633%208.68892%2014.4735%208.59233%2014.127%208.59233C13.7718%208.59233%2013.4764%208.68892%2013.2406%208.8821C13.0076%209.07528%2012.8329%209.33523%2012.7164%209.66193C12.6028%209.9858%2012.546%2010.348%2012.546%2010.7486C12.546%2011.1463%2012.6028%2011.5071%2012.7164%2011.831C12.8329%2012.1548%2013.0076%2012.4134%2013.2406%2012.6065C13.4764%2012.7969%2013.7718%2012.892%2014.127%2012.892ZM18.5641%2014V7.45455H20.0598V8.54545H20.128C20.2473%208.16761%2020.4519%207.87642%2020.7417%207.67188C21.0343%207.46449%2021.3681%207.3608%2021.7431%207.3608C21.8283%207.3608%2021.9235%207.36506%2022.0286%207.37358C22.1365%207.37926%2022.226%207.3892%2022.2971%207.40341V8.82244C22.2317%208.79972%2022.128%208.77983%2021.986%208.76278C21.8468%208.7429%2021.7118%208.73295%2021.5811%208.73295C21.2999%208.73295%2021.0471%208.79403%2020.8226%208.91619C20.601%209.03551%2020.4263%209.2017%2020.2985%209.41477C20.1706%209.62784%2020.1067%209.87358%2020.1067%2010.152V14H18.5641Z'%20fill='black'/%3e%3c/svg%3e",Na="data:image/svg+xml,%3csvg%20width='32'%20height='21'%20viewBox='0%200%2032%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cellipse%20cx='16'%20cy='10.5'%20rx='16'%20ry='10.5'%20fill='%23EF9A9A'%20fill-opacity='0.85'/%3e%3cpath%20d='M7.79528%2014.1321C7.3805%2014.1321%207.00692%2014.0582%206.67454%2013.9105C6.34499%2013.7599%206.08363%2013.5384%205.89045%2013.2457C5.70011%2012.9531%205.60494%2012.5923%205.60494%2012.1634C5.60494%2011.794%205.67312%2011.4886%205.80948%2011.2472C5.94585%2011.0057%206.13192%2010.8125%206.36772%2010.6676C6.60352%2010.5227%206.86914%2010.4134%207.1646%2010.3395C7.46289%2010.2628%207.77113%2010.2074%208.08931%2010.1733C8.47283%2010.1335%208.78391%2010.098%209.02255%2010.0668C9.26119%2010.0327%209.43448%209.98153%209.54244%209.91335C9.65323%209.84233%209.70863%209.73295%209.70863%209.58523V9.55966C9.70863%209.23864%209.61346%208.99006%209.42312%208.81392C9.23278%208.63778%208.95863%208.54972%208.60067%208.54972C8.22283%208.54972%207.92312%208.6321%207.70153%208.79688C7.48278%208.96165%207.33505%209.15625%207.25835%209.38068L5.818%209.17614C5.93164%208.77841%206.11914%208.44602%206.3805%208.17898C6.64187%207.90909%206.96147%207.70739%207.33931%207.57386C7.71715%207.4375%208.13477%207.36932%208.59215%207.36932C8.90749%207.36932%209.22141%207.40625%209.53391%207.48011C9.84641%207.55398%2010.1319%207.67614%2010.3904%207.84659C10.649%208.0142%2010.8564%208.2429%2011.0126%208.53267C11.1717%208.82244%2011.2512%209.18466%2011.2512%209.61932V14H9.76829V13.1009H9.71715C9.6234%2013.2827%209.4913%2013.4531%209.32085%2013.6122C9.15323%2013.7685%208.94158%2013.8949%208.6859%2013.9915C8.43306%2014.0852%208.13619%2014.1321%207.79528%2014.1321ZM8.19585%2012.9986C8.5055%2012.9986%208.77397%2012.9375%209.00124%2012.8153C9.22852%2012.6903%209.40323%2012.5256%209.52539%2012.321C9.65039%2012.1165%209.71289%2011.8935%209.71289%2011.652V10.8807C9.6646%2010.9205%209.58221%2010.9574%209.46573%2010.9915C9.3521%2011.0256%209.22425%2011.0554%209.08221%2011.081C8.94016%2011.1065%208.79954%2011.1293%208.66033%2011.1491C8.52113%2011.169%208.40039%2011.1861%208.29812%2011.2003C8.068%2011.2315%207.86204%2011.2827%207.68022%2011.3537C7.4984%2011.4247%207.35494%2011.5241%207.24982%2011.652C7.14471%2011.777%207.09215%2011.9389%207.09215%2012.1378C7.09215%2012.4219%207.19585%2012.6364%207.40323%2012.7812C7.61062%2012.9261%207.87482%2012.9986%208.19585%2012.9986ZM14.345%2010.1648V14H12.8024V7.45455H14.2768V8.56676H14.3535C14.5041%208.20028%2014.7441%207.90909%2015.0737%207.69318C15.4061%207.47727%2015.8166%207.36932%2016.3052%207.36932C16.7569%207.36932%2017.1504%207.46591%2017.4856%207.65909C17.8237%207.85227%2018.085%208.1321%2018.2697%208.49858C18.4572%208.86506%2018.5495%209.30966%2018.5467%209.83239V14H17.0041V10.071C17.0041%209.63352%2016.8904%209.29119%2016.6632%209.04403C16.4387%208.79687%2016.1277%208.6733%2015.7299%208.6733C15.46%208.6733%2015.22%208.73295%2015.0098%208.85227C14.8024%208.96875%2014.639%209.13778%2014.5197%209.35938C14.4032%209.58097%2014.345%209.84943%2014.345%2010.1648ZM22.5439%2014.1151C22.0297%2014.1151%2021.5694%2013.983%2021.1632%2013.7188C20.7569%2013.4545%2020.4359%2013.071%2020.2001%2012.5682C19.9643%2012.0653%2019.8464%2011.4545%2019.8464%2010.7358C19.8464%2010.0085%2019.9657%209.39489%2020.2044%208.89489C20.4458%208.39205%2020.7711%208.01278%2021.1802%207.7571C21.5893%207.49858%2022.0453%207.36932%2022.5481%207.36932C22.9316%207.36932%2023.247%207.43466%2023.4941%207.56534C23.7413%207.69318%2023.9373%207.84801%2024.0822%208.02983C24.2271%208.20881%2024.3393%208.37784%2024.4189%208.53693H24.4828V5.27273H26.0297V14H24.5126V12.9688H24.4189C24.3393%2013.1278%2024.2243%2013.2969%2024.0737%2013.4759C23.9231%2013.652%2023.7243%2013.8026%2023.4771%2013.9276C23.2299%2014.0526%2022.9189%2014.1151%2022.5439%2014.1151ZM22.9743%2012.8494C23.301%2012.8494%2023.5794%2012.7614%2023.8095%2012.5852C24.0396%2012.4062%2024.2143%2012.1577%2024.3336%2011.8395C24.4529%2011.5213%2024.5126%2011.1506%2024.5126%2010.7273C24.5126%2010.304%2024.4529%209.93608%2024.3336%209.62358C24.2172%209.31108%2024.0439%209.06818%2023.8137%208.89489C23.5865%208.72159%2023.3066%208.63494%2022.9743%208.63494C22.6305%208.63494%2022.3436%208.72443%2022.1135%208.90341C21.8833%209.08239%2021.71%209.32955%2021.5936%209.64489C21.4771%209.96023%2021.4189%2010.321%2021.4189%2010.7273C21.4189%2011.1364%2021.4771%2011.5014%2021.5936%2011.8224C21.7129%2012.1406%2021.8876%2012.392%2022.1177%2012.5767C22.3507%2012.7585%2022.6362%2012.8494%2022.9743%2012.8494Z'%20fill='black'/%3e%3c/svg%3e",Da="data:image/svg+xml,%3csvg%20width='47'%20height='16'%20viewBox='0%200%2047%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='47'%20height='16'%20rx='5'%20fill='%23A2A0D1'%20fill-opacity='0.7'/%3e%3cpath%20d='M10.2179%207.18466L8.81161%207.33807C8.77184%207.19602%208.70224%207.0625%208.60281%206.9375C8.50621%206.8125%208.37553%206.71165%208.21076%206.63494C8.04599%206.55824%207.84428%206.51989%207.60565%206.51989C7.28462%206.51989%207.01474%206.58949%206.79599%206.72869C6.58008%206.8679%206.47354%207.0483%206.47639%207.26989C6.47354%207.46023%206.54315%207.61506%206.68519%207.73438C6.83008%207.85369%207.06871%207.9517%207.4011%208.02841L8.51758%208.26705C9.1369%208.40057%209.59712%208.61222%209.89826%208.90199C10.2022%209.19176%2010.3556%209.57102%2010.3585%2010.0398C10.3556%2010.4517%2010.2349%2010.8153%209.99627%2011.1307C9.76048%2011.4432%209.43235%2011.6875%209.0119%2011.8636C8.59144%2012.0398%208.10849%2012.1278%207.56303%2012.1278C6.7619%2012.1278%206.11701%2011.9602%205.62837%2011.625C5.13974%2011.2869%204.84854%2010.8168%204.75479%2010.2145L6.25906%2010.0696C6.32724%2010.3651%206.47212%2010.5881%206.69371%2010.7386C6.91531%2010.8892%207.20366%2010.9645%207.55877%2010.9645C7.92525%2010.9645%208.21928%2010.8892%208.44087%2010.7386C8.66531%2010.5881%208.77752%2010.402%208.77752%2010.1804C8.77752%209.9929%208.70508%209.83807%208.56019%209.71591C8.41815%209.59375%208.19656%209.5%207.89542%209.43466L6.77894%209.20028C6.1511%209.0696%205.68661%208.84943%205.38548%208.53977C5.08434%208.22727%204.93519%207.83239%204.93803%207.35511C4.93519%206.9517%205.04457%206.60227%205.26616%206.30682C5.49059%206.00852%205.80167%205.77841%206.1994%205.61648C6.59996%205.4517%207.06161%205.36932%207.58434%205.36932C8.35139%205.36932%208.95508%205.53267%209.39542%205.85938C9.8386%206.18608%2010.1127%206.62784%2010.2179%207.18466ZM15.8024%209.24716V5.45455H17.345V12H15.8493V10.8366H15.7811C15.6333%2011.2031%2015.3904%2011.5028%2015.0524%2011.7358C14.7172%2011.9687%2014.3038%2012.0852%2013.8123%2012.0852C13.3833%2012.0852%2013.0041%2011.9901%2012.6745%2011.7997C12.3478%2011.6065%2012.0922%2011.3267%2011.9075%2010.9602C11.7228%2010.5909%2011.6305%2010.1449%2011.6305%209.62216V5.45455H13.1731V9.38352C13.1731%209.7983%2013.2868%2010.1278%2013.514%2010.3722C13.7413%2010.6165%2014.0396%2010.7386%2014.4089%2010.7386C14.6362%2010.7386%2014.8564%2010.6832%2015.0694%2010.5724C15.2825%2010.4616%2015.4572%2010.2969%2015.5936%2010.0781C15.7328%209.85653%2015.8024%209.57955%2015.8024%209.24716ZM18.9313%2012V5.45455H20.4057V6.56676H20.4824C20.6188%206.19176%2020.8446%205.89915%2021.16%205.68892C21.4753%205.47585%2021.8517%205.36932%2022.2892%205.36932C22.7324%205.36932%2023.106%205.47727%2023.41%205.69318C23.7168%205.90625%2023.9327%206.19744%2024.0577%206.56676H24.1259C24.2708%206.20312%2024.5151%205.91335%2024.8588%205.69744C25.2054%205.47869%2025.6159%205.36932%2026.0904%205.36932C26.6926%205.36932%2027.1841%205.55966%2027.5648%205.94034C27.9455%206.32102%2028.1358%206.87642%2028.1358%207.60653V12H26.589V7.84517C26.589%207.43892%2026.481%207.14205%2026.2651%206.95455C26.0492%206.7642%2025.785%206.66903%2025.4725%206.66903C25.1003%206.66903%2024.8091%206.78551%2024.5989%207.01847C24.3915%207.24858%2024.2878%207.5483%2024.2878%207.91761V12H22.775V7.78125C22.775%207.44318%2022.6728%207.1733%2022.4682%206.97159C22.2665%206.76989%2022.0023%206.66903%2021.6756%206.66903C21.454%206.66903%2021.2523%206.72585%2021.0705%206.83949C20.8887%206.95028%2020.7438%207.10795%2020.6358%207.3125C20.5279%207.5142%2020.4739%207.75%2020.4739%208.01989V12H18.9313ZM30.1099%207.83239V6.51562H35.7818V7.83239H30.1099ZM30.1099%2010.5597V9.2429H35.7818V10.5597H30.1099ZM41.3077%203.27273V12H39.7267V4.81108H39.6756L37.6344%206.11506V4.66619L39.8034%203.27273H41.3077Z'%20fill='black'/%3e%3c/svg%3e",Va="data:image/svg+xml,%3csvg%20width='47'%20height='16'%20viewBox='0%200%2047%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='47'%20height='16'%20rx='5'%20fill='%23D9D9D9'/%3e%3cpath%20d='M10.2179%207.18466L8.81161%207.33807C8.77184%207.19602%208.70224%207.0625%208.60281%206.9375C8.50621%206.8125%208.37553%206.71165%208.21076%206.63494C8.04599%206.55824%207.84428%206.51989%207.60565%206.51989C7.28462%206.51989%207.01474%206.58949%206.79599%206.72869C6.58008%206.8679%206.47354%207.0483%206.47639%207.26989C6.47354%207.46023%206.54315%207.61506%206.68519%207.73438C6.83008%207.85369%207.06871%207.9517%207.4011%208.02841L8.51758%208.26705C9.1369%208.40057%209.59712%208.61222%209.89826%208.90199C10.2022%209.19176%2010.3556%209.57102%2010.3585%2010.0398C10.3556%2010.4517%2010.2349%2010.8153%209.99627%2011.1307C9.76048%2011.4432%209.43235%2011.6875%209.0119%2011.8636C8.59144%2012.0398%208.10849%2012.1278%207.56303%2012.1278C6.7619%2012.1278%206.11701%2011.9602%205.62837%2011.625C5.13974%2011.2869%204.84854%2010.8168%204.75479%2010.2145L6.25906%2010.0696C6.32724%2010.3651%206.47212%2010.5881%206.69371%2010.7386C6.91531%2010.8892%207.20366%2010.9645%207.55877%2010.9645C7.92525%2010.9645%208.21928%2010.8892%208.44087%2010.7386C8.66531%2010.5881%208.77752%2010.402%208.77752%2010.1804C8.77752%209.9929%208.70508%209.83807%208.56019%209.71591C8.41815%209.59375%208.19656%209.5%207.89542%209.43466L6.77894%209.20028C6.1511%209.0696%205.68661%208.84943%205.38548%208.53977C5.08434%208.22727%204.93519%207.83239%204.93803%207.35511C4.93519%206.9517%205.04457%206.60227%205.26616%206.30682C5.49059%206.00852%205.80167%205.77841%206.1994%205.61648C6.59996%205.4517%207.06161%205.36932%207.58434%205.36932C8.35139%205.36932%208.95508%205.53267%209.39542%205.85938C9.8386%206.18608%2010.1127%206.62784%2010.2179%207.18466ZM15.8024%209.24716V5.45455H17.345V12H15.8493V10.8366H15.7811C15.6333%2011.2031%2015.3904%2011.5028%2015.0524%2011.7358C14.7172%2011.9687%2014.3038%2012.0852%2013.8123%2012.0852C13.3833%2012.0852%2013.0041%2011.9901%2012.6745%2011.7997C12.3478%2011.6065%2012.0922%2011.3267%2011.9075%2010.9602C11.7228%2010.5909%2011.6305%2010.1449%2011.6305%209.62216V5.45455H13.1731V9.38352C13.1731%209.7983%2013.2868%2010.1278%2013.514%2010.3722C13.7413%2010.6165%2014.0396%2010.7386%2014.4089%2010.7386C14.6362%2010.7386%2014.8564%2010.6832%2015.0694%2010.5724C15.2825%2010.4616%2015.4572%2010.2969%2015.5936%2010.0781C15.7328%209.85653%2015.8024%209.57955%2015.8024%209.24716ZM18.9313%2012V5.45455H20.4057V6.56676H20.4824C20.6188%206.19176%2020.8446%205.89915%2021.16%205.68892C21.4753%205.47585%2021.8517%205.36932%2022.2892%205.36932C22.7324%205.36932%2023.106%205.47727%2023.41%205.69318C23.7168%205.90625%2023.9327%206.19744%2024.0577%206.56676H24.1259C24.2708%206.20312%2024.5151%205.91335%2024.8588%205.69744C25.2054%205.47869%2025.6159%205.36932%2026.0904%205.36932C26.6926%205.36932%2027.1841%205.55966%2027.5648%205.94034C27.9455%206.32102%2028.1358%206.87642%2028.1358%207.60653V12H26.589V7.84517C26.589%207.43892%2026.481%207.14205%2026.2651%206.95455C26.0492%206.7642%2025.785%206.66903%2025.4725%206.66903C25.1003%206.66903%2024.8091%206.78551%2024.5989%207.01847C24.3915%207.24858%2024.2878%207.5483%2024.2878%207.91761V12H22.775V7.78125C22.775%207.44318%2022.6728%207.1733%2022.4682%206.97159C22.2665%206.76989%2022.0023%206.66903%2021.6756%206.66903C21.454%206.66903%2021.2523%206.72585%2021.0705%206.83949C20.8887%206.95028%2020.7438%207.10795%2020.6358%207.3125C20.5279%207.5142%2020.4739%207.75%2020.4739%208.01989V12H18.9313ZM35.8585%2011.6463H30.0289V10.3636H35.8585V11.6463ZM30.0289%208.11364V6.88636L35.8585%205.14773V6.42614L31.9423%207.48295L31.9892%207.40199V7.59801L31.9423%207.51705L35.8585%208.57386V9.85227L30.0289%208.11364ZM41.3077%203.27273V12H39.7267V4.81108H39.6756L37.6344%206.11506V4.66619L39.8034%203.27273H41.3077Z'%20fill='black'/%3e%3c/svg%3e";function Hn(t){t.collapsed===void 0&&(t.collapsed=!1),t.children&&t.children.forEach(e=>Hn(e))}function Fn(t,e){let n=!1;return e.has(t.name)&&(t.collapsed=!1,n=!0),t.children&&t.children.forEach(r=>{const i=Fn(r,e);n=n||i}),n&&(t.collapsed=!1),n}function Xn(t,e,n){if(!t.children||t.children.length===0)return t.data.wid=1,t.data.size=[e,n],1;const r=t.children.reduce((i,s)=>i+Xn(s,e,n),0);return t.data.wid=r,t.data.size=[e*r,n],r}function Ia(t,e=[],n){Hn(n);const r=it(t);r.selectAll("*").remove();const i=r.append("g").attr("class","nodes"),s=r.append("g").attr("class","operators"),o=100,a=42,l=5,u=10,c=5,_=7,v=500,b=new Set(e);Fn(n,b);function D(){const I=Ne(n,f=>f.collapsed?null:f.children);Xn(I,o,a);const R=In({})(I),Z=He(R.descendants(),f=>f.x)-o,j=He(R.descendants(),f=>f.y)-a,et=R.descendants(),Q=i.selectAll(".node").data(et,f=>f.data.name);Q.enter().append("g").attr("class","node").attr("transform",f=>(f.data.size&&f.data.size[0],`translate(${f.x-Z},${f.y-j})`)).each(function(f){const C=it(this),y=f.data.size?f.data.size[0]:o,k=-y/2;if(C.append("path").attr("class","top-line").attr("d",`
          M ${k+l} 0 H ${k+y-l}
          M ${k+l} 0 V ${u}
          M ${k+y-l} 0 V ${u}
        `).attr("stroke-width",f.data.collapsed?3:1).attr("stroke","black").attr("fill","none"),f.children&&f.children.length>0&&(C.append("path").attr("class","left-line").attr("d",`
            M ${k+l} ${u} V ${a}
            M ${k+l} ${a} l -${c} -${c}
            M ${k+l} ${a} l ${c} -${c}
          `).attr("stroke","lightgray").attr("fill","none").attr("stroke-dasharray","5,5"),C.append("path").attr("class","right-line").attr("d",`
            M ${k+y-l} ${u} V ${a}
            M ${k+y-l} ${a} l ${c} -${c}
            M ${k+y-l} ${a} l -${c} -${c}
          `).attr("stroke","lightgray").attr("fill","none").attr("stroke-dasharray","5,5")),C.append("text").attr("class","node-text").attr("x",0).attr("y",-42/2+_).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("fill",e.includes(f.data.name)?"white":"black").style("font-weight",e.includes(f.data.name)?600:"normal").text(f.data.name).each(function(){const d=this,w=d.getComputedTextLength();let g=1;if(w>y*.75&&(g=y*.75/w,d.setAttribute("transform",`scale(${g})`)),e.includes(f.data.name)){const m=d.getBBox();if(d.parentNode!==null){const E=d.parentNode;it(E).insert("rect","text").attr("x",m.x).attr("y",m.y).attr("width",m.width).attr("height",m.height).attr("fill","#E45756").attr("stroke","#E45756").attr("transform",g!==1?`scale(${g})`:null)}}}),f.data.sum!=="None"){let d="";f.data.sum==="EQUAL"?d=Da:f.data.sum==="LESS"&&(d=Va),C.append("image").attr("class","sum-image").attr("href",d).attr("x",-40/2).attr("y",20/2-12.5).attr("width",40).attr("height",20)}f.data.children&&f.data.children.length>0&&C.append("rect").attr("class","clickable-area").attr("x",k+l).attr("y",0).attr("width",y-2*l).attr("height",u+10).attr("fill","transparent").style("cursor","pointer").on("click",function(d){d.stopPropagation(),f.data.collapsed=!f.data.collapsed,D()})}),Q.transition().duration(v).attr("transform",f=>(f.data.size&&f.data.size[0],`translate(${f.x-Z},${f.y-j})`)).each(function(f){const C=it(this),y=f.data.size?f.data.size[0]:o,k=-y/2,d=`
          M ${k+l} 0 H ${k+y-l}
          M ${k+l} 0 V ${u}
          M ${k+y-l} 0 V ${u}
        `;C.select(".top-line").transition().duration(v).attrTween("d",function(){const g=this.getAttribute("d")??"";return kn(g,d)}).attr("stroke-width",f.data.collapsed?3:1),C.select(".clickable-area").transition().duration(v).attr("width",y-2*l).attr("x",k+l),!f.data.collapsed&&f.children&&f.children.length>0?(C.select(".left-line").attr("d",`
              M ${k+l} ${u} V ${a}
              M ${k+l} ${a} l -${c} -${c}
              M ${k+l} ${a} l ${c} -${c}
            `),C.select(".right-line").attr("d",`
              M ${k+y-l} ${u} V ${a}
              M ${k+y-l} ${a} l ${c} -${c}
              M ${k+y-l} ${a} l -${c} -${c}
            `)):(C.select(".left-line").attr("d",null),C.select(".right-line").attr("d",null)),C.select(".node-text").each(function(){const w=this;w.removeAttribute("transform");const g=w.getBBox().width;if(g>y*.75){const m=y*.75/g;w.setAttribute("transform",`scale(${m})`)}})}),Q.exit().transition().duration(v).style("opacity",0).remove();let V=[];et.forEach(f=>{if(f.children&&f.children.length>1&&f.data.logicalOperators&&f.data.logicalOperators.length>0){const C=Math.min(f.children.length-1,f.data.logicalOperators.length);for(let y=0;y<C;y++){const k=f.children[y],d=f.children[y+1],w=k.data.size?k.data.size[0]:o,g=d.data.size?d.data.size[0]:o,m=(k.x-Z+w/2+(d.x-Z-g/2))/2,E=f.y-j+a/2+_;V.push({key:f.data.name+"_"+y,operator:f.data.logicalOperators[y],x:m,y:E})}}});const h=s.selectAll("image.operator").data(V,f=>f.key);h.enter().append("image").attr("class","operator").attr("width",20).attr("height",20).attr("href",f=>f.operator==="AND"?Na:f.operator==="OR"?Ta:"").attr("x",f=>f.x-10).attr("y",f=>f.y-10).style("opacity",0).transition().duration(v).style("opacity",1),h.transition().duration(v).attr("x",f=>f.x-10).attr("y",f=>f.y-10),h.exit().transition().duration(v).style("opacity",0).remove()}D()}const Oa={class:"svg-container"},La=on({__name:"DesignspaceView",props:{projectionList:{},dstreeData:{}},setup(t){const e=t,n=Lt(null),r=Lt(null);let i=null;const s=()=>{n.value&&it(n.value).selectAll("*").remove()},o=()=>{if(!r.value)return;const l=it(r.value);i=Bo().on("zoom",u=>{it(n.value).attr("transform",u.transform)}),l.call(i)},a=()=>{n.value&&(s(),Ia(n.value,e.projectionList,e.dstreeData))};return an(()=>{o(),a()}),Bn(()=>[...e.projectionList],(l,u)=>{(l.length!==u.length||JSON.stringify(l)!==JSON.stringify(u))&&a()}),(l,u)=>(ut(),yt("div",Oa,[(ut(),yt("svg",{id:"mainsvg",ref_key:"svgDSV",ref:r},[Wt("g",{ref_key:"gElement",ref:n},null,512)],512))]))}}),Ha=Ee(La,[["__scopeId","data-v-c3434ad7"]]);function Fa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var te={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var Xa=te.exports,sn;function Ba(){return sn||(sn=1,function(t,e){((n,r)=>{t.exports=r()})(Xa,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},l=0,u={};function c(h){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(p){var f=Q(p);f.chunkSize=parseInt(f.chunkSize),p.step||p.chunk||(f.chunkSize=null),this._handle=new I(f),(this._handle.streamer=this)._config=f}).call(this,h),this.parseChunk=function(p,f){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let k=this._config.newline;k||(y=this._config.quoteChar||'"',k=this._handle.guessLineEndings(p,y)),p=[...p.split(k).slice(C)].join(k)}this.isFirstChunk&&V(this._config.beforeFirstChunk)&&(y=this._config.beforeFirstChunk(p))!==void 0&&(p=y),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+p,y=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(p=y.meta.cursor,C=(this._finished||(this._partialLine=C.substring(p-this._baseIndex),this._baseIndex=p),y&&y.data&&(this._rowCount+=y.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:y,workerId:u.WORKER_ID,finished:C});else if(V(this._config.chunk)&&!f){if(this._config.chunk(y,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=y=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(y.data),this._completeResults.errors=this._completeResults.errors.concat(y.errors),this._completeResults.meta=y.meta),this._completed||!C||!V(this._config.complete)||y&&y.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||y&&y.meta.paused||this._nextChunk(),y}this._halted=!0},this._sendError=function(p){V(this._config.error)?this._config.error(p):o&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:p,finished:!1})}}function _(h){var p;(h=h||{}).chunkSize||(h.chunkSize=u.RemoteChunkSize),c.call(this,h),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(f){this._input=f,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(p=new XMLHttpRequest,this._config.withCredentials&&(p.withCredentials=this._config.withCredentials),s||(p.onload=G(this._chunkLoaded,this),p.onerror=G(this._chunkError,this)),p.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var f,C=this._config.downloadRequestHeaders;for(f in C)p.setRequestHeader(f,C[f])}var y;this._config.chunkSize&&(y=this._start+this._config.chunkSize-1,p.setRequestHeader("Range","bytes="+this._start+"-"+y));try{p.send(this._config.downloadRequestBody)}catch(k){this._chunkError(k.message)}s&&p.status===0&&this._chunkError()}},this._chunkLoaded=function(){p.readyState===4&&(p.status<200||400<=p.status?this._chunkError():(this._start+=this._config.chunkSize||p.responseText.length,this._finished=!this._config.chunkSize||this._start>=(f=>(f=f.getResponseHeader("Content-Range"))!==null?parseInt(f.substring(f.lastIndexOf("/")+1)):-1)(p),this.parseChunk(p.responseText)))},this._chunkError=function(f){f=p.statusText||f,this._sendError(new Error(f))}}function v(h){(h=h||{}).chunkSize||(h.chunkSize=u.LocalChunkSize),c.call(this,h);var p,f,C=typeof FileReader<"u";this.stream=function(y){this._input=y,f=y.slice||y.webkitSlice||y.mozSlice,C?((p=new FileReader).onload=G(this._chunkLoaded,this),p.onerror=G(this._chunkError,this)):p=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var y=this._input,k=(this._config.chunkSize&&(k=Math.min(this._start+this._config.chunkSize,this._input.size),y=f.call(y,this._start,k)),p.readAsText(y,this._config.encoding));C||this._chunkLoaded({target:{result:k}})},this._chunkLoaded=function(y){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(y.target.result)},this._chunkError=function(){this._sendError(p.error)}}function b(h){var p;c.call(this,h=h||{}),this.stream=function(f){return p=f,this._nextChunk()},this._nextChunk=function(){var f,C;if(!this._finished)return f=this._config.chunkSize,p=f?(C=p.substring(0,f),p.substring(f)):(C=p,""),this._finished=!p,this.parseChunk(C)}}function D(h){c.call(this,h=h||{});var p=[],f=!0,C=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(y){this._input=y,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&p.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),p.length?this.parseChunk(p.shift()):f=!0},this._streamData=G(function(y){try{p.push(typeof y=="string"?y:y.toString(this._config.encoding)),f&&(f=!1,this._checkIsFinished(),this.parseChunk(p.shift()))}catch(k){this._streamError(k)}},this),this._streamError=G(function(y){this._streamCleanUp(),this._sendError(y)},this),this._streamEnd=G(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=G(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function I(h){var p,f,C,y,k=Math.pow(2,53),d=-k,w=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,g=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,m=this,E=0,x=0,M=!1,S=!1,A=[],$={data:[],errors:[],meta:{}};function O(z){return h.skipEmptyLines==="greedy"?z.join("").trim()==="":z.length===1&&z[0].length===0}function F(){if($&&C&&(U("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),C=!1),h.skipEmptyLines&&($.data=$.data.filter(function(T){return!O(T)})),B()){let T=function(W,J){V(h.transformHeader)&&(W=h.transformHeader(W,J)),A.push(W)};if($)if(Array.isArray($.data[0])){for(var z=0;B()&&z<$.data.length;z++)$.data[z].forEach(T);$.data.splice(0,1)}else $.data.forEach(T)}function L(T,W){for(var J=h.header?{}:[],P=0;P<T.length;P++){var q=P,H=T[P],H=((at,N)=>(Y=>(h.dynamicTypingFunction&&h.dynamicTyping[Y]===void 0&&(h.dynamicTyping[Y]=h.dynamicTypingFunction(Y)),(h.dynamicTyping[Y]||h.dynamicTyping)===!0))(at)?N==="true"||N==="TRUE"||N!=="false"&&N!=="FALSE"&&((Y=>{if(w.test(Y)&&(Y=parseFloat(Y),d<Y&&Y<k))return 1})(N)?parseFloat(N):g.test(N)?new Date(N):N===""?null:N):N)(q=h.header?P>=A.length?"__parsed_extra":A[P]:q,H=h.transform?h.transform(H,q):H);q==="__parsed_extra"?(J[q]=J[q]||[],J[q].push(H)):J[q]=H}return h.header&&(P>A.length?U("FieldMismatch","TooManyFields","Too many fields: expected "+A.length+" fields but parsed "+P,x+W):P<A.length&&U("FieldMismatch","TooFewFields","Too few fields: expected "+A.length+" fields but parsed "+P,x+W)),J}var K;$&&(h.header||h.dynamicTyping||h.transform)&&(K=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(L),K=$.data.length):$.data=L($.data,0),h.header&&$.meta&&($.meta.fields=A),x+=K)}function B(){return h.header&&A.length===0}function U(z,L,K,T){z={type:z,code:L,message:K},T!==void 0&&(z.row=T),$.errors.push(z)}V(h.step)&&(y=h.step,h.step=function(z){$=z,B()?F():(F(),$.data.length!==0&&(E+=z.data.length,h.preview&&E>h.preview?f.abort():($.data=$.data[0],y($,m))))}),this.parse=function(z,L,K){var T=h.quoteChar||'"',T=(h.newline||(h.newline=this.guessLineEndings(z,T)),C=!1,h.delimiter?V(h.delimiter)&&(h.delimiter=h.delimiter(z),$.meta.delimiter=h.delimiter):((T=((W,J,P,q,H)=>{var at,N,Y,wt;H=H||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var $t=0;$t<H.length;$t++){for(var ht,Tt=H[$t],nt=0,ft=0,tt=0,rt=(Y=void 0,new R({comments:q,delimiter:Tt,newline:J,preview:10}).parse(W)),mt=0;mt<rt.data.length;mt++)P&&O(rt.data[mt])?tt++:(ht=rt.data[mt].length,ft+=ht,Y===void 0?Y=ht:0<ht&&(nt+=Math.abs(ht-Y),Y=ht));0<rt.data.length&&(ft/=rt.data.length-tt),(N===void 0||nt<=N)&&(wt===void 0||wt<ft)&&1.99<ft&&(N=nt,at=Tt,wt=ft)}return{successful:!!(h.delimiter=at),bestDelimiter:at}})(z,h.newline,h.skipEmptyLines,h.comments,h.delimitersToGuess)).successful?h.delimiter=T.bestDelimiter:(C=!0,h.delimiter=u.DefaultDelimiter),$.meta.delimiter=h.delimiter),Q(h));return h.preview&&h.header&&T.preview++,p=z,f=new R(T),$=f.parse(p,L,K),F(),M?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,f.abort(),p=V(h.chunk)?"":p.substring(f.getCharIndex())},this.resume=function(){m.streamer._halted?(M=!1,m.streamer.parseChunk(p,!0)):setTimeout(m.resume,3)},this.aborted=function(){return S},this.abort=function(){S=!0,f.abort(),$.meta.aborted=!0,V(h.complete)&&h.complete($),p=""},this.guessLineEndings=function(W,T){W=W.substring(0,1048576);var T=new RegExp(X(T)+"([^]*?)"+X(T),"gm"),K=(W=W.replace(T,"")).split("\r"),T=W.split(`
`),W=1<T.length&&T[0].length<K[0].length;if(K.length===1||W)return`
`;for(var J=0,P=0;P<K.length;P++)K[P][0]===`
`&&J++;return J>=K.length/2?`\r
`:"\r"}}function X(h){return h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(h){var p=(h=h||{}).delimiter,f=h.newline,C=h.comments,y=h.step,k=h.preview,d=h.fastMode,w=null,g=!1,m=h.quoteChar==null?'"':h.quoteChar,E=m;if(h.escapeChar!==void 0&&(E=h.escapeChar),(typeof p!="string"||-1<u.BAD_DELIMITERS.indexOf(p))&&(p=","),C===p)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<u.BAD_DELIMITERS.indexOf(C))&&(C=!1),f!==`
`&&f!=="\r"&&f!==`\r
`&&(f=`
`);var x=0,M=!1;this.parse=function(S,A,$){if(typeof S!="string")throw new Error("Input must be a string");var O=S.length,F=p.length,B=f.length,U=C.length,z=V(y),L=[],K=[],T=[],W=x=0;if(!S)return nt();if(d||d!==!1&&S.indexOf(m)===-1){for(var J=S.split(f),P=0;P<J.length;P++){if(T=J[P],x+=T.length,P!==J.length-1)x+=f.length;else if($)return nt();if(!C||T.substring(0,U)!==C){if(z){if(L=[],wt(T.split(p)),ft(),M)return nt()}else wt(T.split(p));if(k&&k<=P)return L=L.slice(0,k),nt(!0)}}return nt()}for(var q=S.indexOf(p,x),H=S.indexOf(f,x),at=new RegExp(X(E)+X(m),"g"),N=S.indexOf(m,x);;)if(S[x]===m)for(N=x,x++;;){if((N=S.indexOf(m,N+1))===-1)return $||K.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:L.length,index:x}),ht();if(N===O-1)return ht(S.substring(x,N).replace(at,m));if(m===E&&S[N+1]===E)N++;else if(m===E||N===0||S[N-1]!==E){q!==-1&&q<N+1&&(q=S.indexOf(p,N+1));var Y=$t((H=H!==-1&&H<N+1?S.indexOf(f,N+1):H)===-1?q:Math.min(q,H));if(S.substr(N+1+Y,F)===p){T.push(S.substring(x,N).replace(at,m)),S[x=N+1+Y+F]!==m&&(N=S.indexOf(m,x)),q=S.indexOf(p,x),H=S.indexOf(f,x);break}if(Y=$t(H),S.substring(N+1+Y,N+1+Y+B)===f){if(T.push(S.substring(x,N).replace(at,m)),Tt(N+1+Y+B),q=S.indexOf(p,x),N=S.indexOf(m,x),z&&(ft(),M))return nt();if(k&&L.length>=k)return nt(!0);break}K.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:L.length,index:x}),N++}}else if(C&&T.length===0&&S.substring(x,x+U)===C){if(H===-1)return nt();x=H+B,H=S.indexOf(f,x),q=S.indexOf(p,x)}else if(q!==-1&&(q<H||H===-1))T.push(S.substring(x,q)),x=q+F,q=S.indexOf(p,x);else{if(H===-1)break;if(T.push(S.substring(x,H)),Tt(H+B),z&&(ft(),M))return nt();if(k&&L.length>=k)return nt(!0)}return ht();function wt(tt){L.push(tt),W=x}function $t(tt){var rt=0;return rt=tt!==-1&&(tt=S.substring(N+1,tt))&&tt.trim()===""?tt.length:rt}function ht(tt){return $||(tt===void 0&&(tt=S.substring(x)),T.push(tt),x=O,wt(T),z&&ft()),nt()}function Tt(tt){x=tt,wt(T),T=[],H=S.indexOf(f,x)}function nt(tt){if(h.header&&!A&&L.length&&!g){var rt=L[0],mt={},fe=new Set(rt);let Ve=!1;for(let At=0;At<rt.length;At++){let dt=rt[At];if(mt[dt=V(h.transformHeader)?h.transformHeader(dt,At):dt]){let Nt,Ie=mt[dt];for(;Nt=dt+"_"+Ie,Ie++,fe.has(Nt););fe.add(Nt),rt[At]=Nt,mt[dt]++,Ve=!0,(w=w===null?{}:w)[Nt]=dt}else mt[dt]=1,rt[At]=dt;fe.add(dt)}Ve&&console.warn("Duplicate headers found and renamed."),g=!0}return{data:L,errors:K,meta:{delimiter:p,linebreak:f,aborted:M,truncated:!!tt,cursor:W+(A||0),renamedHeaders:w}}}function ft(){y(nt()),L=[],K=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return x}}function Z(h){var p=h.data,f=a[p.workerId],C=!1;if(p.error)f.userError(p.error,p.file);else if(p.results&&p.results.data){var y={abort:function(){C=!0,j(p.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:et,resume:et};if(V(f.userStep)){for(var k=0;k<p.results.data.length&&(f.userStep({data:p.results.data[k],errors:p.results.errors,meta:p.results.meta},y),!C);k++);delete p.results}else V(f.userChunk)&&(f.userChunk(p.results,y,p.file),delete p.results)}p.finished&&!C&&j(p.workerId,p.results)}function j(h,p){var f=a[h];V(f.userComplete)&&f.userComplete(p),f.terminate(),delete a[h]}function et(){throw new Error("Not implemented.")}function Q(h){if(typeof h!="object"||h===null)return h;var p,f=Array.isArray(h)?[]:{};for(p in h)f[p]=Q(h[p]);return f}function G(h,p){return function(){h.apply(p,arguments)}}function V(h){return typeof h=="function"}return u.parse=function(h,p){var f=(p=p||{}).dynamicTyping||!1;if(V(f)&&(p.dynamicTypingFunction=f,f={}),p.dynamicTyping=f,p.transform=!!V(p.transform)&&p.transform,!p.worker||!u.WORKERS_SUPPORTED)return f=null,u.NODE_STREAM_INPUT,typeof h=="string"?(h=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(h),f=new(p.download?_:b)(p)):h.readable===!0&&V(h.read)&&V(h.on)?f=new D(p):(r.File&&h instanceof File||h instanceof Object)&&(f=new v(p)),f.stream(h);(f=(()=>{var C;return!!u.WORKERS_SUPPORTED&&(C=(()=>{var y=r.URL||r.webkitURL||null,k=n.toString();return u.BLOB_URL||(u.BLOB_URL=y.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",k,")();"],{type:"text/javascript"})))})(),(C=new r.Worker(C)).onmessage=Z,C.id=l++,a[C.id]=C)})()).userStep=p.step,f.userChunk=p.chunk,f.userComplete=p.complete,f.userError=p.error,p.step=V(p.step),p.chunk=V(p.chunk),p.complete=V(p.complete),p.error=V(p.error),delete p.worker,f.postMessage({input:h,config:p,workerId:f.id})},u.unparse=function(h,p){var f=!1,C=!0,y=",",k=`\r
`,d='"',w=d+d,g=!1,m=null,E=!1,x=((()=>{if(typeof p=="object"){if(typeof p.delimiter!="string"||u.BAD_DELIMITERS.filter(function(A){return p.delimiter.indexOf(A)!==-1}).length||(y=p.delimiter),typeof p.quotes!="boolean"&&typeof p.quotes!="function"&&!Array.isArray(p.quotes)||(f=p.quotes),typeof p.skipEmptyLines!="boolean"&&typeof p.skipEmptyLines!="string"||(g=p.skipEmptyLines),typeof p.newline=="string"&&(k=p.newline),typeof p.quoteChar=="string"&&(d=p.quoteChar),typeof p.header=="boolean"&&(C=p.header),Array.isArray(p.columns)){if(p.columns.length===0)throw new Error("Option columns is empty");m=p.columns}p.escapeChar!==void 0&&(w=p.escapeChar+d),p.escapeFormulae instanceof RegExp?E=p.escapeFormulae:typeof p.escapeFormulae=="boolean"&&p.escapeFormulae&&(E=/^[=+\-@\t\r].*$/)}})(),new RegExp(X(d),"g"));if(typeof h=="string"&&(h=JSON.parse(h)),Array.isArray(h)){if(!h.length||Array.isArray(h[0]))return M(null,h,g);if(typeof h[0]=="object")return M(m||Object.keys(h[0]),h,g)}else if(typeof h=="object")return typeof h.data=="string"&&(h.data=JSON.parse(h.data)),Array.isArray(h.data)&&(h.fields||(h.fields=h.meta&&h.meta.fields||m),h.fields||(h.fields=Array.isArray(h.data[0])?h.fields:typeof h.data[0]=="object"?Object.keys(h.data[0]):[]),Array.isArray(h.data[0])||typeof h.data[0]=="object"||(h.data=[h.data])),M(h.fields||[],h.data||[],g);throw new Error("Unable to serialize unrecognized input");function M(A,$,O){var F="",B=(typeof A=="string"&&(A=JSON.parse(A)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(A)&&0<A.length),U=!Array.isArray($[0]);if(B&&C){for(var z=0;z<A.length;z++)0<z&&(F+=y),F+=S(A[z],z);0<$.length&&(F+=k)}for(var L=0;L<$.length;L++){var K=(B?A:$[L]).length,T=!1,W=B?Object.keys($[L]).length===0:$[L].length===0;if(O&&!B&&(T=O==="greedy"?$[L].join("").trim()==="":$[L].length===1&&$[L][0].length===0),O==="greedy"&&B){for(var J=[],P=0;P<K;P++){var q=U?A[P]:P;J.push($[L][q])}T=J.join("").trim()===""}if(!T){for(var H=0;H<K;H++){0<H&&!W&&(F+=y);var at=B&&U?A[H]:H;F+=S($[L][at],H)}L<$.length-1&&(!O||0<K&&!W)&&(F+=k)}}return F}function S(A,$){var O,F;return A==null?"":A.constructor===Date?JSON.stringify(A).slice(1,25):(F=!1,E&&typeof A=="string"&&E.test(A)&&(A="'"+A,F=!0),O=A.toString().replace(x,w),(F=F||f===!0||typeof f=="function"&&f(A,$)||Array.isArray(f)&&f[$]||((B,U)=>{for(var z=0;z<U.length;z++)if(-1<B.indexOf(U[z]))return!0;return!1})(O,u.BAD_DELIMITERS)||-1<O.indexOf(y)||O.charAt(0)===" "||O.charAt(O.length-1)===" ")?d+O+d:O)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=R,u.ParserHandle=I,u.NetworkStreamer=_,u.FileStreamer=v,u.StringStreamer=b,u.ReadableStreamStreamer=D,r.jQuery&&((i=r.jQuery).fn.parse=function(h){var p=h.config||{},f=[];return this.each(function(k){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var d=0;d<this.files.length;d++)f.push({file:this.files[d],inputElem:this,instanceConfig:i.extend({},p)})}),C(),this;function C(){if(f.length===0)V(h.complete)&&h.complete();else{var k,d,w,g,m=f[0];if(V(h.before)){var E=h.before(m.file,m.inputElem);if(typeof E=="object"){if(E.action==="abort")return k="AbortError",d=m.file,w=m.inputElem,g=E.reason,void(V(h.error)&&h.error({name:k},d,w,g));if(E.action==="skip")return void y();typeof E.config=="object"&&(m.instanceConfig=i.extend(m.instanceConfig,E.config))}else if(E==="skip")return void y()}var x=m.instanceConfig.complete;m.instanceConfig.complete=function(M){V(x)&&x(M,m.file,m.inputElem),y()},u.parse(m.file,m.instanceConfig)}}function y(){f.splice(0,1),C()}}),o&&(r.onmessage=function(h){h=h.data,u.WORKER_ID===void 0&&h&&(u.WORKER_ID=h.workerId),typeof h.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(h.input,h.config),finished:!0}):(r.File&&h.input instanceof File||h.input instanceof Object)&&(h=u.parse(h.input,h.config))&&r.postMessage({workerId:u.WORKER_ID,results:h,finished:!0})}),(_.prototype=Object.create(c.prototype)).constructor=_,(v.prototype=Object.create(c.prototype)).constructor=v,(b.prototype=Object.create(b.prototype)).constructor=b,(D.prototype=Object.create(c.prototype)).constructor=D,u})}(te)),te.exports}var Pa=Ba();const qa=Fa(Pa),Ua={name:"GalleryView",props:{csvData:{type:String,required:!0}},data(){return{parsedData:[],selectedItemId:null}},watch:{csvData:{immediate:!0,handler(t){this.parseCSV(t)}}},methods:{parseCSV(t){qa.parse(t,{header:!0,skipEmptyLines:!0,complete:e=>{this.parsedData=e.data.map(n=>({...n,id:n["#"],projection:this.parseProjection(n.projection)}))},error:e=>{console.error("CSV:",e)}})},parseProjection(t){try{return t.replace(/^\[|\]$/g,"").split(",").map(e=>e.trim()).filter(Boolean)}catch{return[]}},hasValidImage(t){return t.image&&t.image.toLowerCase()!=="nan"},itemStyle(t){return{width:this.hasValidImage(t)?"auto":"100px",height:"50px"}},handleItemClick(t){this.selectedItemId=t.id,this.$emit("item-selected",t.projection)}}},Za={class:"gallery-container"},Ya=["onClick"],Ka=["src"],Wa={key:1,class:"default-item"};function ja(t,e,n,r,i,s){return ut(),yt("div",Za,[(ut(!0),yt(Pn,null,qn(i.parsedData,o=>(ut(),yt("div",{key:o.id,class:Un(["gallery-item",{selected:o.id===i.selectedItemId}]),style:Zn(s.itemStyle(o)),onClick:a=>s.handleItemClick(o)},[s.hasValidImage(o)?(ut(),yt("img",{key:0,src:o.image,alt:"Projection preview",class:"gallery-image"},null,8,Ka)):(ut(),yt("div",Wa,Yn(o.title),1))],14,Ya))),128))])}const Ga=Ee(Ua,[["render",ja],["__scopeId","data-v-4afd0b7e"]]);async function Qa(){try{const t=await fetch("https://raw.githubusercontent.com/hconhisway/DesignSpaceInteractive/refs/heads/main/src/assets/dstree.json");if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const e=await t.json();return console.log(e),e}catch(t){return console.error("Error fetching dstree.json:",t),null}}const Ja=on({components:{GalleryView:Ga,DesignSpaceView:Ha},setup(){const t=Lt(""),e=Lt([]),n=Lt(null);(async()=>n.value=await Qa())();const r=async()=>{try{const s=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vRgVvRNgeNqgC1yObFsqNq0sKTkIPTJ_nI10fdhw75zXZ8ZtRyMFkZ2CR7awzDx4udBe243GwFuNlip/pub?gid=1078384481&single=true&output=csv");if(!s.ok)throw new Error("Failed to load CSV from Google Sheets");t.value=await s.text()}catch(s){console.error("Error loading CSV:",s)}},i=s=>{e.value=s};return an(()=>{r()}),{rawCsvData:t,currentProjection:e,dstreeData:n,handleProjectionSelect:i}}}),t0={class:"designspace"},e0={class:"column"},n0={class:"column"},r0={key:0,class:"loading"};function i0(t,e,n,r,i,s){const o=Le("DesignSpaceView"),a=Le("GalleryView");return ut(),yt("div",t0,[Wt("div",e0,[t.dstreeData?(ut(),Oe(o,{key:0,"projection-list":t.currentProjection,"dstree-data":t.dstreeData},null,8,["projection-list","dstree-data"])):Kn("",!0)]),e[0]||(e[0]=Wt("div",{class:"divider"},null,-1)),Wt("div",n0,[t.rawCsvData?(ut(),Oe(a,{key:1,"csv-data":t.rawCsvData,onItemSelected:t.handleProjectionSelect},null,8,["csv-data","onItemSelected"])):(ut(),yt("div",r0,"Loading data..."))])])}const o0=Ee(Ja,[["render",i0],["__scopeId","data-v-f75ad1a2"]]);export{o0 as default};
